{"posts":[{"title":"ğŸ§Windows Subsystem for Linux","text":"Penguins would not like open windows. Windowså®¶åº­ä¸­æ–‡ç‰ˆå‡çº§ä¸ºä¸“ä¸šç‰ˆ1. win11å®¶åº­ç‰ˆè½¬ä¸“ä¸šç‰ˆå¯†é’¥ 2. windows11å®¶åº­ç‰ˆå‡çº§ä¸“ä¸šç‰ˆ æŒ‰ç…§æ–‡ç« 1çš„æ­¥éª¤ï¼Œå¯†é’¥ç¬¬å››ä¸ªå¯ä»¥ï¼Œè¾“å…¥åè‡ªåŠ¨é‡å¯å‡çº§ã€‚ å‡çº§åæˆ‘çš„æ˜¾ç¤ºå¯†é’¥æ— æ•ˆæœªæ¿€æ´»ï¼Œåœ¨ç»ˆç«¯ä¸­è¾“å…¥æ–‡ç« 2ç¬¬äºŒæ­¥çš„ä¸‰ä¸ªå‘½ä»¤ï¼ŒæŸ¥çœ‹å‘ç°å‡çº§æˆåŠŸã€‚ å¯ç”¨æˆ–å…³é—­WindowsåŠŸèƒ½ä¸­æ²¡æœ‰Hyper-vWindows æ²¡æœ‰ Hyper-V è§£å†³æ–¹æ¡ˆ WSL2å®‰è£…Linuxå‘è¡Œç‰ˆå¼€å¯ WSL2 å®‰è£… Ubuntu å½“æˆ‘ä¸€åˆ‡å·¥ä½œå‡†å¤‡å°±ç»ªï¼Œä½¿ç”¨wsl --updateå‘½ä»¤å‡çº§åˆ°æœ€æ–°ç‰ˆçš„wslåï¼Œä»ç„¶å‡ºç°äº†é”™è¯¯ã€‚ 1Error code: Wsl/Service/CreateVm/HCS/HCS_E_HYPERV_NOT_INSTALLED Googleåå‘ç°æœ‰äººé‡åˆ°äº†å’Œæˆ‘åŒæ ·çš„é—®é¢˜ï¼Œonomatopellançš„å›ç­”â€œå‹¾é€‰Windows Sandboxé€‰é¡¹â€å¸®åŠ©äº†æˆ‘ã€‚ ä½¿ç”¨ wsl --list --online å‘½ä»¤æŸ¥æ‰¾å¯ç”¨å‘è¡Œç‰ˆåç§°ï¼Œå¹¶ç”¨ wsl --install -d &lt;distribution_name&gt; å®‰è£…ä½ å–œçˆ±çš„ç‰ˆæœ¬ã€‚ ç§»åŠ¨å‘è¡Œç‰ˆçš„å®‰è£…ä½ç½®ã€‚ å¯¼å‡ºåˆ°Dç›˜ä¸­ï¼šwsl --export Ubuntu D:\\WSL\\Ubuntu\\ubuntu.tar æ³¨é”€å¹¶ç§»é™¤Cç›˜ä¸­çš„å‘è¡Œç‰ˆï¼šwsl --unregister Ubuntu å¯¼å…¥åˆ°Dç›˜ä¸­ï¼šwsl --import Ubuntu D:\\WSL\\Ubuntu D:\\WSL\\Ubuntu\\ubuntu.tar ä¿®æ”¹é»˜è®¤ç”¨æˆ·ï¼šUbuntu config --default-user &lt;username&gt; æ›´æ¢é•œåƒæº12sudo cp /etc/apt/sources.list /etc/apt/sources.list.bak #å¤‡ä»½sudo nano /etc/apt/sources.list #ç¼–è¾‘ ä½¿ç”¨ lsb_release -a å¯ä»¥æŸ¥çœ‹ ubuntu çš„ç‰ˆæœ¬ï¼Œåœ¨https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/ å¯ä»¥æŸ¥è¯¢å¯¹åº”çš„é•œåƒæºã€‚ Ctrl ^ è®°å½•å¼€å§‹ä½ç½®ï¼Œç§»åŠ¨å…‰æ ‡é€‰æ‹©èŒƒå›´ï¼ŒCtrl K è¿›è¡Œå‰ªåˆ‡ã€‚ä¸€äº›åŸºç¡€çš„ Linux æ“ä½œå‘½ä»¤ä¸å†èµ˜è¿°ã€‚","link":"/2024/07/21/%F0%9F%90%A7Windows-Subsystem-for-Linux/"},{"title":"ğŸ”¢SageMath","text":"Sage is really a useful and powerful math tool. Python for Linuxä¸‹é¢æˆ‘ä»¬å‡†å¤‡ç¼–å†™pythonè„šæœ¬çš„IDEã€‚ä»¥Ubuntuä¸ºä¾‹ã€‚ åœ¨windowsä¸­ä¸‹è½½å®‰è£…vscodeï¼Œå¹¶å®‰è£…åä¸ºwslçš„è¿æ¥æ’ä»¶ã€‚ åœ¨wslä¸­è¾“å…¥codeä¾¿å¯ä»¥æ‰“å¼€vscodeã€‚ æ–°å»ºæ–‡ä»¶test.pyï¼Œè·¯å¾„ä»»æ„ï¼Œä¾‹å¦‚/root/test.pyã€‚ å†™å…¥æ–‡ä»¶ï¼Œä¿å­˜åæ–°å»ºç»ˆç«¯ï¼Œä½¿ç”¨python3 test.pyå‘½ä»¤ï¼Œå¾—åˆ°è¾“å‡ºã€‚ ä¸‹é¢æˆ‘ä»¬è¯´ä¸€è¯´pipåŒ…ç®¡ç†å™¨ã€‚ 1sudo apt install python3-pip python3-venv åœ¨è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…pythonåŒ…ï¼Œä»¥ä¾¿åç»­ç®¡ç†ã€‚ åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼špython3 -m venv myenvã€‚ æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼šsource myenv/bin/activateã€‚ å®‰è£…åŒ…ï¼špip install &lt;package_name&gt;ã€‚ é€€å‡ºï¼šdeactivateã€‚ å‘ç°ä¸‹è½½é€Ÿåº¦è¾ƒæ…¢ï¼Œå¯ä»¥æ¸…é™¤ä¸‹è½½ç¼“å­˜ï¼Œæ›´æ¢ä¸‹è½½æºã€‚ 12pip cache purgepip install pwntools -i https://pypi.tuna.tsinghua.edu.cn/simple git Cloneä½¿ç”¨HTTPåè®®git clone https://github.com/repo/repo.gitç»å¸¸ä¼šé‡åˆ°é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨SSHçš„æ–¹æ³•cloneä¸€äº›githubåº“ï¼š åˆ›å»ºssh keyï¼šä½¿ç”¨ssh-keygen -t rsa -b 4096 -C &quot;your-email&quot;å‘½ä»¤ï¼Œä¸‹é¢çš„é€‰é¡¹å…¨éƒ¨ç›´æ¥æ•²å›è½¦å³å¯ã€‚ éšåä½¿ç”¨ cat ~/.ssh/id_rsa.pub å‘½ä»¤æŸ¥çœ‹ç”Ÿæˆçš„å…¬é’¥ï¼Œå¹¶å®Œæ•´çš„å¤åˆ¶ä¸‹æ¥ã€‚ åœ¨githubä»“åº“ç•Œé¢ç‚¹å‡»è‡ªå·±çš„å¤´åƒï¼Œé€‰æ‹©settingsã€‚è¿›å…¥åˆ°è®¾ç½®é¡µé¢åï¼Œç‚¹å‡»å·¦ä¾§çš„SSH and GPG keysé€‰é¡¹ã€‚ç‚¹å‡»New SSH keyé€‰é¡¹ï¼Œå¹¶å°†å¤åˆ¶ä¸‹æ¥çš„å†…å®¹ç²˜è´´ä¸Šå»ï¼Œæ·»åŠ è¯¥ssh keyçš„æè¿°ã€‚éšåç‚¹å‡»Add SSH keyï¼Œå¹¶ä¸€è·¯ç‚¹å‡»ç¡®è®¤å³å¯ã€‚ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥æ˜¯å¦å·²æœ‰SSHå¯†é’¥ï¼šls -al ~/.sshï¼Œå¦‚æœä½ çœ‹åˆ° id_rsa å’Œ id_rsa.pub æ–‡ä»¶ï¼Œè¯´æ˜å·²ç»å­˜åœ¨SSHå¯†é’¥ã€‚ ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æµ‹è¯•ä¸GitHubçš„SSHè¿æ¥ï¼šssh -T git@github.comã€‚ å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œä½ ä¼šçœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹çš„è¾“å‡ºï¼š 1Hi username! You've successfully authenticated, but GitHub does not provide shell access. ä½¿ç”¨git clone git@github.com:username/repository.gitå‘½ä»¤å…‹éš†å­˜å‚¨åº“ã€‚ install SageMathé˜…è¯»Sageçš„å®˜æ–¹å®‰è£…è¯´æ˜Installation Guideå³å¯ã€‚ æŒ‰ç†è¯´å¯ä»¥æŒ‰ç…§ Installing SageMath 10.4 in Ubuntu 22.04 or 24.04 ä¸€æ­¥ä¸€æ­¥æ¥ï¼Œç¼–è¯‘æ—¶ä¼šè­¦å‘Šrootï¼Œå¯ä»¥å»ºç«‹ä¸€ä¸ªæ–°ç”¨æˆ·ï¼Œä¸ƒæœˆåˆ10.3ç‰ˆæœ¬æˆ‘ä¹Ÿæ˜¯è¿™ä¹ˆåšçš„ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆ10.4æˆ‘è¿™é‡Œä¸è¡Œäº†ã€‚ ä¹Ÿå¯ä»¥åœ¨Arch Linuxä¸Šå¿«é€Ÿå®‰è£…SageMathã€‚ç¬¬ä¸€æ¬¡æ¥è§¦Archçš„è¯ï¼Œçœ‹ä¸€äº›åŸºç¡€çš„å‘½ä»¤å­sudo pacman -Sy/-Syu/-Rns &lt;package_name&gt;/-Scc/...ã€‚ Archçš„æœåŠ¡å™¨æ¯”è¾ƒæ…¢ï¼Œå¯ä»¥é€šè¿‡æ‰‹åŠ¨ç¼–è¾‘é•œåƒåˆ—è¡¨æ–‡ä»¶ /etc/pacman.d/mirrorlistï¼Œå°†é€Ÿåº¦è¾ƒå¿«çš„é•œåƒæœåŠ¡å™¨ç§»åˆ°é¡¶éƒ¨ã€‚ 12Server = https://mirror.tuna.tsinghua.edu.cn/archlinux/$repo/os/$archServer = https://mirrors.ustc.edu.cn/archlinux/$repo/os/$arch o.0æ¥ç€å°±æ˜¯å®‰è£…sagemathâ€”â€”sudo pacman -S sagemath sagemath-docã€‚ ç­‰ä¸€ä¼šå„¿å°±æˆåŠŸå•¦ï¼æ€ä¹ˆåœ¨sageé‡Œè°ƒç”¨å¤–æ¥åº“å‘¢ï¼Œå“­å“­&gt;_&lt;sudo pacman -S python-&lt;package_name&gt;ã€‚","link":"/2024/07/14/%F0%9F%94%A2SageMath/"},{"title":"ğŸ’»CNSS Recruit Dev 2024","text":"â€œDev can be one of the ways to create everything for you, which will come with a great sense of achievement.â€ ğŸ¥³MANï¼ä½œä¸ºä¸€åDevæ‰‹ï¼Œå­¦ä¼šæŸ¥æ‰¾å¹¶æµè§ˆå®˜æ–¹æ–‡æ¡£æ˜¯éå¸¸é‡è¦çš„èƒ½åŠ›ã€‚æœ¬é¢˜è¦æ±‚ä½ åˆæ­¥å­¦ä¼šä½¿ç”¨linuxç³»ç»Ÿè‡ªå¸¦çš„ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„æ–‡æ¡£ï¼šman ã€‚(å®é™…ä¸Šæ˜¯manualçš„è‹±æ–‡ç¼©å†™ï¼‰ ä¹‹å‰æ²¡æœ‰ç”¨è¿‡linuxï¼Ÿæ²¡æœ‰å…³ç³»ï¼Œæ¥çœ‹ä¸€ä¸‹è¿™é—¨è¯¾ç¨‹å§ï¼šhttps://missing-semester-cn.github.io/ CH1é¦–å…ˆï¼Œä½ è¦åœ¨ç”µè„‘ä¸Šé…ç½®ä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒï¼Œè¿™é‡Œåˆ—å‡ºå‡ ä¸ªæ–¹æ¡ˆ: åœ¨windowsç¯å¢ƒä¸‹å¯ä»¥ä½¿ç”¨wslï¼ˆæ¯”è¾ƒæ¨èï¼‰ æˆ–è€…å¯ä»¥é…ç½®è™šæ‹Ÿæœº æˆ–è€…æœ‰æ¡ä»¶å¯ä»¥æ‰¾ä¸€å°äº‘æœåŠ¡å™¨æˆ–è€…ä¹°å¦ä¸€å°å®ä½“æœºã€‚ åŒç³»ç»Ÿï¼ˆæ­¥éª¤æ¯”è¾ƒå¤æ‚ï¼‰ å½“æˆ‘ä»¬æœ‰äº†linuxç¯å¢ƒåï¼Œä¸å¦¨åœ¨linuxç¯å¢ƒä¸‹ä½¿ç”¨gccç¼–è¯‘ä¸€ä¸ªè‡ªå·±å†™çš„â€Hello World!â€å¹¶è¿è¡Œï¼ CH2linuxæœ‰ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„æŒ‡ä»¤ï¼šstraceã€‚åŒæ—¶ï¼Œlinuxä¸­çš„æŒ‡ä»¤(command)ï¼Œç³»ç»Ÿè°ƒç”¨(system call)å’Œåº“å‡½æ•°(library function) åŸºæœ¬éƒ½å¯ä»¥ç”¨man 1 [name], man 2 [name] man 3 [name]æ¥äº†è§£ä»–ä»¬çš„ç”¨æ³•ã€‚ å‡è®¾ä½ åœ¨CH1ä¸­çš„ç¨‹åºåä¸ºhelloã€‚åœ¨åŒç›®å½•ä¸‹è¿è¡Œstrace ./helloã€‚ç»“åˆä½ çœ‹åˆ°çš„manä¸Šå¯¹straceçš„é˜è¿°ï¼Œç®€å•è§£é‡Šä¸‹è¿è¡Œç»“æœã€‚ In the simplest case strace runs the specified command until it exits. It intercepts and records the system calls which are called by a process and the signals which are received by a process. The name of each system call, its arguments and its return value are printed on standard error or to the file specified with the -o option. è¾“å‡ºå±•ç¤ºäº†ç¨‹åºçš„æ‰§è¡Œè¿‡ç¨‹ã€‚ execveè°ƒç”¨hello_worldï¼Œä¼ é€’äº†PATHã€å‚æ•°å’Œ42ä¸ªç¯å¢ƒå˜é‡ï¼›è¿”å›0ï¼ŒæˆåŠŸæ‰§è¡Œã€‚ brkæŸ¥è¯¢ç¨‹åºæ•°æ®æ®µæœ«å°¾ä½ç½®ï¼Œè¿”å›å€¼æ˜¯å½“å‰å†…å­˜åˆ†é…ä½ç½®ï¼Œç”¨äºç®¡ç†å†…å­˜ã€‚ mmapä¸ºç¨‹åºåˆ†é…ä¸€å—å†…å­˜ï¼Œè¿”å›åˆ†é…çš„å†…å­˜åœ°å€ï¼Œç”¨äºè¯»å†™æ“ä½œã€‚ accessåœ¨æ£€æŸ¥æ˜¯å¦å­˜åœ¨ld.so.preloadæ–‡ä»¶ï¼Œè¿”å›é”™è¯¯ï¼Œæ²¡æœ‰æ‰¾åˆ°ã€‚ openatæ‰“å¼€å…±äº«åº“ç¼“å­˜æ–‡ä»¶ï¼ŒæŸ¥æ‰¾ç¨‹åºä¾èµ–çš„å…±äº«åº“ï¼›å½“å‰ç¨‹åºä¾èµ–çš„libcåº“è¢«æ‰“å¼€ï¼Œç¨‹åºè¿”å›3ã€‚ readã€mmapå’Œcloseè¡¨ç¤ºä»åº“ä¸­è¯»å–éœ€è¦çš„æ•°æ®ã€‚ arch_prctlè®¾ç½®çº¿ç¨‹æœ¬åœ°å­˜å‚¨ï¼Œä¸ºå¤šçº¿ç¨‹ç¯å¢ƒæä¾›æ”¯æŒã€‚ï¼ˆä¸æ‡‚ï¼‰ set_tid_addresså’Œset_robust_listç”¨äºçº¿ç¨‹çš„åˆå§‹åŒ–ã€è®¾ç½®çº¿ç¨‹çš„æ ‡è¯†åœ°å€ï¼Œé˜²æ­¢çº¿ç¨‹è¢«æ„å¤–ä¸­æ–­ã€‚ï¼ˆä¹Ÿä¸æ‡‚ï¼‰ mprotectä¿æŠ¤å†…å­˜é¡µé¢çš„æƒé™ï¼Œè®¾ç½®æŸäº›å†…å­˜åŒºåŸŸä¸ºåªè¯»ã€‚ ï¼ˆå¤§çš„è¦æ¥äº†ï¼‰write(1, &quot;hello_world\\n&quot;, 12) = 12ï¼Œé€šè¿‡writeç³»ç»Ÿè°ƒç”¨å‘æ–‡ä»¶æè¿°ç¬¦1å³æ ‡å‡†è¾“å‡ºå†™å…¥12ä¸ªå­—èŠ‚çš„å­—ç¬¦ä¸²ã€‚ exit_groupé¡¾åæ€ä¹‰ï¼Œç»“æŸå¹¶æ­£å¸¸é€€å‡ºã€‚ +++ exited with 0 +++ CH3è¿è¡Œ man 3 execã€‚ä½ èƒ½å†™ä¸€ä¸ªè¿ç”¨åˆ°äº†åº“å‡½æ•°execçš„Cç¨‹åºå—ï¼Ÿ The exec() family of functions replaces the current process image with a new process image. å†™ç¨‹åºè°ƒç”¨execveæ¥æ›¿æ¢å½“å‰çš„è¿›ç¨‹ã€‚CH2çš„ç¬¬ä¸€ä¸ªè°ƒç”¨ã€‚ 123456789101112131415161718192021#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;unistd.h&gt; //execveæ‰€åœ¨çš„å¤´æ–‡ä»¶extern char **environ; // å¼•ç”¨å½“å‰è¿›ç¨‹çš„ç¯å¢ƒå˜é‡int main() { // è¦æ‰§è¡Œçš„ç¨‹åºçš„è·¯å¾„ char *program = &quot;/bin/ls&quot;; // å‚æ•° char *args[] = {&quot;ls&quot;, NULL}; // æ‰§è¡Œ execve ç³»ç»Ÿè°ƒç”¨ if (execve(program, args, environ) == -1) { perror(&quot;execve met problems.&quot;); exit(EXIT_FAILURE); // ä½¿ç”¨ EXIT_FAILURE è¡¨ç¤ºå¤±è´¥é€€å‡º } return 0;} ç¼–è¯‘å’Œè¿è¡Œè¿™ä¸ªç¨‹åºã€‚ 12345$ gcc -o execve_exp execve_exp.c$ ./execve_expexecve_exp execve_exp.c hello_world test.c$ lsexecve_exp execve_exp.c hello_world test.c ğŸ˜¶â€ğŸŒ«ï¸Oop Loopå­¦ä¹ cè¯­è¨€çš„æ•°ç»„éƒ¨åˆ†æ—¶ï¼Œæƒ³å‡ºäº†ä¸‰ç§éå†äºŒç»´æ•°ç»„çš„æ–¹æ³•ï¼Œå¹¶æƒ³åŠæ³•æµ‹é‡äº†è¿™ä¸‰ç§æ–¹æ³•æ‰€ä½¿ç”¨çš„æ—¶é—´ã€‚â€è¿™ä¸‰ç§æ–¹æ³•éƒ½è®¿é—®äº†åŒæ ·æ•°é‡çš„æ•°ç»„å…ƒç´ ï¼Œå› æ­¤ä»–ä»¬æ‰€è€—è´¹çš„æ—¶é—´ä¸€å®šæ˜¯å·®ä¸å¤šçš„ã€‚â€œä½†äº‹æƒ…è¿œæ²¡æœ‰è¿™ä¹ˆç®€å•ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;unistd.h&gt;#include &lt;sys/time.h&gt;#include &lt;fcntl.h&gt;#define UNIT_GAP 1000000.0void M_gettimeofday(struct timeval *tv) { int result = gettimeofday(tv, NULL); if(result != 0) { perror(&quot;gettimeofday st\\n&quot;); exit(1); } return ;}#define ArrSize 15000int arr1[ArrSize][ArrSize];int arr2[ArrSize][ArrSize];int arr3[ArrSize][ArrSize];int main() { /* Evaluate iterating pattern 1 */ struct timeval tv_st; M_gettimeofday(&amp;tv_st); for(int i = 0; i &lt; ArrSize; i++) { for(int j = 0; j &lt; ArrSize; j++) { arr1[i][j] += 1; } } struct timeval tv_ed; M_gettimeofday(&amp;tv_ed); double time_gap1 = (double) (tv_ed.tv_sec - tv_st.tv_sec) + ((double) (tv_ed.tv_usec - tv_st.tv_usec) / UNIT_GAP); /* Evaluate iterating pattern 2 */ M_gettimeofday(&amp;tv_st); for(int i = 0; i &lt; ArrSize; i++) { for(int j = 0; j &lt; ArrSize; j++) { arr2[j][i] += 1; } } M_gettimeofday(&amp;tv_ed); double time_gap2 = (double) (tv_ed.tv_sec - tv_st.tv_sec) + ((double) (tv_ed.tv_usec - tv_st.tv_usec) / UNIT_GAP); /* Evaluate iterating pattern 3 */ M_gettimeofday(&amp;tv_st); for(int i = 0; i &lt; ArrSize; i++) { int cap = (ArrSize / 3) * 3; for(int j = 0; j &lt; cap; j+=3) { arr3[i][j] += 1; arr3[i][j + 1] += 1; arr3[i][j + 2] += 1; } for(int j = cap; j &lt; ArrSize; j++) { arr3[i][j] += 1; } } M_gettimeofday(&amp;tv_ed); double time_gap3 = (double) (tv_ed.tv_sec - tv_st.tv_sec) + ((double) (tv_ed.tv_usec - tv_st.tv_usec) / UNIT_GAP); printf(&quot;time spent for time_gap1: %lf seconds\\n&quot;, time_gap1); printf(&quot;time spent for time_gap2: %lf seconds\\n&quot;, time_gap2); printf(&quot;time spent for time_gap3: %lf seconds\\n&quot;, time_gap3);} äº‹å®ä¸Šï¼Œè¿™ä¸‰ç§éå†æ–¹å¼ä½¿ç”¨çš„æ—¶é—´æœ‰æ˜æ˜¾çš„å·®åˆ«ã€‚ CH1å‘ç°æ¯æ¬¡ç¨‹åºçš„è¿è¡Œç»“æœå·®åˆ«éƒ½å¾ˆå¤§ï¼Œå› æ­¤éœ€è¦åå¤è¿è¡Œç¨‹åºå¾ˆå¤šæ¬¡æ‰èƒ½æ‰¾å‡ºä¸åŒéå†æ¨¡å¼ä¸‹çš„æ—¶é—´è§„å¾‹ã€‚è¯·ä½ å¸®ä»–ä¿®æ”¹ç¨‹åºï¼Œè®©ç¨‹åºçš„è¿è¡Œç»“æœéšæœºæ€§æ›´å°ï¼Œè¿™æ ·å°±èƒ½æ‰¾å‡ºæ›´åŠ å¯ä¿¡çš„ç»“è®ºäº†ï¼ å®è·µå‡ºçœŸçŸ¥ï¼Œè·‘ä¸€ä¸‹çœ‹çœ‹ã€‚Oopsï¼Œæ„Ÿè§‰1å’Œ3çš„éšæœºæ€§å¾ˆå¼ºï¼Œ2å‡ ä¹æ˜¯æœ€æ…¢çš„ï¼Œä¸è¿‡ä¹Ÿæœ‰å°‘æ•°ä¾‹å¤–ã€‚ä¸ºäº†å‡å°‘éšæœºæ€§ï¼Œæˆ‘ä»¬å¯ä»¥å¤šæ¬¡è·‘ä»£ç å–å¹³å‡å€¼ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;unistd.h&gt;#include &lt;sys/time.h&gt;#include &lt;fcntl.h&gt;#define UNIT_GAP 1000000.0#define ArrSize 15000#define NUM_RUNS 5 //è¿è¡Œ5æ¬¡å¹¶å–å¹³å‡å€¼void M_gettimeofday(struct timeval *tv) { int result = gettimeofday(tv, NULL); if(result != 0) { perror(&quot;gettimeofday failed\\n&quot;); exit(1); }}int arr1[ArrSize][ArrSize];int arr2[ArrSize][ArrSize];int arr3[ArrSize][ArrSize];int main() { double total_time1 = 0.0, total_time2 = 0.0, total_time3 = 0.0; for(int run = 0; run &lt; NUM_RUNS; run++) { struct timeval tv_st, tv_ed; M_gettimeofday(&amp;tv_st); /* PATTERN 1 */ for(int i = 0; i &lt; ArrSize; i++) { for(int j = 0; j &lt; ArrSize; j++) { arr1[i][j] += 1; } } M_gettimeofday(&amp;tv_ed); double time_gap1 = (double) (tv_ed.tv_sec - tv_st.tv_sec) + ((double) (tv_ed.tv_usec - tv_st.tv_usec) / UNIT_GAP); total_time1 += time_gap1; M_gettimeofday(&amp;tv_st); /* PATTERN 2 */ for(int i = 0; i &lt; ArrSize; i++) { for(int j = 0; j &lt; ArrSize; j++) { arr2[j][i] += 1; } } M_gettimeofday(&amp;tv_ed); double time_gap2 = (double) (tv_ed.tv_sec - tv_st.tv_sec) + ((double) (tv_ed.tv_usec - tv_st.tv_usec) / UNIT_GAP); total_time2 += time_gap2; M_gettimeofday(&amp;tv_st); /* PATTERN 3 */ for(int i = 0; i &lt; ArrSize; i++) { int cap = (ArrSize / 3) * 3; for(int j = 0; j &lt; cap; j += 3) { arr3[i][j] += 1; arr3[i][j + 1] += 1; arr3[i][j + 2] += 1; } for(int j = cap; j &lt; ArrSize; j++) { arr3[i][j] += 1; } } M_gettimeofday(&amp;tv_ed); double time_gap3 = (double) (tv_ed.tv_sec - tv_st.tv_sec) + ((double) (tv_ed.tv_usec - tv_st.tv_usec) / UNIT_GAP); total_time3 += time_gap3; } printf(&quot;Average time spent for time_gap1: %lf seconds\\n&quot;, total_time1 / NUM_RUNS); printf(&quot;Average time spent for time_gap2: %lf seconds\\n&quot;, total_time2 / NUM_RUNS); printf(&quot;Average time spent for time_gap3: %lf seconds\\n&quot;, total_time3 / NUM_RUNS); return 0;} å—¯ï¼Œçœ‹èµ·æ¥æœ‰è§„å¾‹å¤šäº†ï¼š$2&gt;&gt;1&gt;3$ã€‚ CH2è¯•å›ç­”ä¸åŒéå†æ¨¡å¼ä¸‹è¿è¡Œæ—¶é—´çš„å·®åˆ«ï¼Œå¹¶è§£é‡Šä¸ºä»€ä¹ˆä¼šäº§ç”Ÿè¿™äº›å·®åˆ«ã€‚ 1æ˜¯è¡Œä¼˜å…ˆéå†ï¼Œè¿™ä¸Cä¸­è¡Œä¸»åºå­˜å‚¨æ•°ç»„çš„æ–¹å¼ä¸€è‡´ã€‚æ ¹æ®å±€éƒ¨æ€§ï¼ŒCPUå¯ä»¥æœ‰æ•ˆåœ°è¯»å–è¿ç»­çš„å†…å­˜å—ï¼Œå‡å°‘ç¼“å­˜æœªå‘½ä¸­æ¬¡æ•°ï¼Œæé«˜è®¿é—®é€Ÿåº¦ã€‚ è€Œ2æ˜¯åˆ—ä¼˜å…ˆéå†ï¼Œä¸1ç›¸åï¼Œè¿™ç§è®¿é—®æ¨¡å¼å¯¼è‡´å¤§é‡ç¼“å­˜æœªå‘½ä¸­ã€æ•ˆç‡ä½ã€‚ å…³äºåŸç†è§£é‡Šé‚£ä¸€éƒ¨åˆ†ï¼Œåªé cpuç¼“å­˜å…¶å®ä¸å¤ªèƒ½è§£é‡Š ç¬¬ä¸‰ä¸ªpattern è€—æ—¶æ¯”ç¬¬ä¸€ä¸ªpatternå°çš„é—®é¢˜qwqâ€”â€”Shiver 3åˆ™ä½¿ç”¨äº†å¾ªç¯å±•å¼€ä¼˜åŒ–ã€‚æ¯æ¬¡å¤„ç†ä¸‰ä¸ªå…ƒç´ ï¼Œå‡å°‘äº†æ¯æ¬¡æ›´æ–°è¿­ä»£çš„æ§åˆ¶å¼€é”€ï¼Œåœ¨å¤§è§„æ¨¡è¿›è¡Œæ•°ç»„éå†æ—¶ï¼Œä¼šç´¯ç§¯æˆæ˜æ˜¾çš„æ€§èƒ½æå‡ã€‚ å¦å¤–ç”±äºæ•°ç»„å…ƒç´ æ˜¯æ¯ä¸‰ä¸ªè®¿é—®çš„ï¼Œæ›´å®¹æ˜“é¢„å–æ›´å¤šæ•°æ®åˆ°ç¼“å­˜ä¸­ï¼Œè¿›ä¸€æ­¥å‡å°‘äº†ç¼“å­˜æœªå‘½ä¸­çš„æŸå¤±ã€‚ æµæ°´çº¿ä¼˜åŒ–ï¼šç°ä»£å¤„ç†å™¨ä½¿ç”¨æµæ°´çº¿æŠ€æœ¯æ¥æé«˜æŒ‡ä»¤æ‰§è¡Œçš„æ•ˆç‡ã€‚3é€šè¿‡å‡å°‘å¾ªç¯æ¬¡æ•°å’Œå¢åŠ æ¯æ¬¡å¾ªç¯å†…å¤„ç†çš„æ•°æ®é‡ï¼Œå‡å°‘äº†å…¶å®ƒåˆ†æ”¯æŒ‡ä»¤ï¼Œä½¿å¤„ç†å™¨æµæ°´çº¿æ›´é¡ºç•…ã€‚è¿™å¯ä»¥å‡å°‘æµæ°´çº¿åœé¡¿ï¼Œä»è€Œæé«˜æ•´ä½“æ‰§è¡Œé€Ÿåº¦ã€‚ åˆ†æ”¯é¢„æµ‹ï¼šå¾ªç¯çš„æ£€æŸ¥æ¡ä»¶å˜å°‘äº†ï¼Œåˆ†æ”¯é¢„æµ‹é”™è¯¯çš„æ¦‚ç‡ä¹Ÿé™ä½äº†ã€‚ å¯èƒ½å­˜åœ¨çš„å‘é‡åŒ–ä¼˜åŒ–ï¼Ÿç¼–è¯‘å™¨å¯ä»¥è‡ªåŠ¨å°†è¿™ç§æ¯æ¬¡æ“ä½œå¤šä¸ªç›¸é‚»å…ƒç´ è½¬æ¢ä¸ºSIMDæŒ‡ä»¤ã€‚è¿™æ„å‘³ç€å¤„ç†å™¨å¯ä»¥åœ¨ä¸€ä¸ªæŒ‡ä»¤å‘¨æœŸå†…å¯¹å¤šä¸ªæ•°æ®è¿›è¡Œç›¸åŒçš„æ“ä½œï¼Œæå‡è¿ç®—é€Ÿåº¦ã€‚ è¿ç»­è®¿é—®å¤šä¸ªå…ƒç´ æ›´æœ‰å¯èƒ½ä¿æŒå†…å­˜å¯¹é½ï¼Œä»è€Œå‡å°‘é¢å¤–çš„å†…å­˜æ“ä½œå¼€é”€ã€‚ ç”±äºå¾ªç¯ä½“å†…æ“ä½œç›¸äº’ç‹¬ç«‹ï¼Œå¤„ç†å™¨å¯ä»¥å¹¶è¡Œå¤„ç†å¤šä¸ªæ“ä½œï¼Œè¿›ä¸€æ­¥æå‡é€Ÿåº¦ã€‚ â™¿é€ è½®å­ Git æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œç”¨äºè·Ÿè¸ªä»£ç æˆ–æ–‡ä»¶çš„æ›´æ”¹ï¼Œå¹¶æ”¯æŒå¤šäººåä½œå¼€å‘ã€‚ ä½ å¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ°gitçš„æºä»£ç : https://github.com/git/git Shiveræƒ³è¦åœ¨è‡ªå·±çš„ç”µè„‘ä¸Šå®‰è£…gitã€‚ ä»¥å‰ï¼Œä»–æ˜¯é€šè¿‡ç³»ç»Ÿçš„è½¯ä»¶åŒ…ç®¡ç†å™¨æ¥å®‰è£…gitçš„ã€‚ä¾‹å¦‚ï¼Œåœ¨ubuntuç³»ç»Ÿä¸­å°±å¯ä»¥ä½¿ç”¨è¿™ä¸¤è¡Œå‘½ä»¤æ¥å®‰è£…gitï¼š 12$ sudo apt update$ sudo apt install git ä½†ä»Šå¤©ï¼Œå®ƒæƒ³æ¢ç‚¹æ–°èŠ±æ ·ã€‚ä»–æƒ³è¦é€šè¿‡æºä»£ç æ¥ç¼–è¯‘gitï¼ gitçš„æºä»£ç å¾ˆå¤šåœ°æ–¹éƒ½æœ‰ï¼Œè¿™é‡Œæ¯”è¾ƒæ¨èä½¿ç”¨githubä¸Šçš„ä»£ç ä»“åº“ï¼Œå¹¶é€šè¿‡git cloneä¸‹è½½ã€‚ï¼ˆä¸è¦åæ§½ä¸ºä»€ä¹ˆç”µè„‘ä¸Šå·²ç»æœ‰gitäº†ä¸ºä¸ºä»€ä¹ˆè¿˜è¦ä¸‹è½½gitæºç ï¼‰ åŒæ—¶ï¼ŒShiverè¿˜é€šè¿‡ä¿®æ”¹æºä»£ç å®ç°äº†ä¿®æ”¹gitè°ƒç”¨ç‰ˆæœ¬ä¿¡æ¯åçš„è¾“å‡ºã€‚ æ€»çš„æ¥è¯´ï¼ŒShiveræƒ³è¦ä½ å®ç°å¦‚ä¸‹çš„æ“ä½œï¼š åœ¨è‡ªå·±çš„ç”µè„‘ä¸Šç¼–è¯‘ git ç¨‹åºï¼Œå¹¶åœ¨æäº¤æ–‡æ¡£ä¸­ç®€å•é˜è¿°è‡ªå·±åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜ä¸è‡ªå·±æ˜¯æ€ä¹ˆè§£å†³è¿™äº›é—®é¢˜çš„ã€‚ ä¿®æ”¹ git çš„æºä»£ç ï¼Œä½¿å…¶åœ¨è¾“å‡ºç‰ˆæœ¬ä¿¡æ¯æ—¶ä¼šæœ‰é¢å¤–çš„ &lt;-- CNSS --&gt; æç¤ºï¼ˆä½ ä¹Ÿå¯ä»¥æ·»åŠ è‡ªå·±å–œæ¬¢çš„ä¿¡æ¯ï¼‰å¹¶æˆªå›¾æäº¤ã€‚ï¼ˆè¿™å¯èƒ½éœ€è¦ä½ å…·æœ‰ä¸€å®šçš„ä»£ç é˜…è¯»èƒ½åŠ›ï¼‰ Hintsï¼š æ€ä¹ˆç¼–è¯‘ï¼Ÿè¦ä¸å…ˆä»æ–‡æ¡£å¼€å§‹ï¼Œæ¯”å¦‚æºä»£ç ä¸­çš„README.mdï¼ŒINSTALLæ–‡ä»¶ï¼Ÿ ä»€ä¹ˆæ˜¯cmakeï¼Ÿ Aï¼‰ç¼–è¯‘éœ€è¦ä¾èµ–ï¼Œåœ¨GPTçš„å¸®åŠ©ä¸‹æ€’è£…ä¾èµ–é¡¹ã€‚ 1sudo apt install -y make libssl-dev libcurl4-gnutls-dev libexpat1-dev gettext Bï¼‰è·å–Gitçš„æºç å¹¶ç¼–è¯‘Gitç¨‹åºï¼š 1234git clone git@github.com:git/git.gitmake configure./configure --prefix=/usr/local #æŒ‡å®šå®‰è£…è·¯å¾„ï¼Œé˜²æ­¢å†²çªmake Cï¼‰é‡åˆ°æŠ¥é”™ä¿¡æ¯ï¼š 12345678910/usr/bin/ld: libgit.a(utf8.o): in function `reencode_string_iconv':/home/aununo/CNSS/git/utf8.c:498:(.text+0x10dd): undefined reference to `libiconv'/usr/bin/ld: libgit.a(utf8.o): in function `reencode_string_len':/home/aununo/CNSS/git/utf8.c:593:(.text+0x121d): undefined reference to `libiconv_open'/usr/bin/ld: /home/aununo/CNSS/git/utf8.c:603:(.text+0x1252): undefined reference to `libiconv_close'/usr/bin/ld: /home/aununo/CNSS/git/utf8.c:593:(.text+0x129e): undefined reference to `libiconv_open'/usr/bin/ld: /home/aununo/CNSS/git/utf8.c:603:(.text+0x12c9): undefined reference to `libiconv_close'/usr/bin/ld: /home/aununo/CNSS/git/utf8.c:598:(.text+0x136b): undefined reference to `libiconv_open'collect2: error: ld returned 1 exit statusmake: *** [Makefile:2842: git-daemon] Error 1 å¤§æ¦‚æ˜¯è¯´ç¼ºå°‘ libiconv åº“çš„å¼•ç”¨ã€‚libiconv æ˜¯ä¸€ä¸ªç”¨äºå­—ç¬¦ç¼–ç è½¬æ¢çš„åº“ï¼Œè€Œ Git åœ¨å¤„ç†å­—ç¬¦é›†è½¬æ¢æ—¶ä¾èµ–äºå®ƒã€‚æˆ‘ä»¬ä½¿ç”¨å‘½ä»¤ 123$ ldconfig -p | grep libiconv #æ£€æŸ¥libiconvæ˜¯å¦æˆåŠŸå®‰è£… libiconv_hook.so.1 (libc6,x86-64) =&gt; /lib/x86_64-linux-gnu/libiconv_hook.so.1 libiconv_hook.so (libc6,x86-64) =&gt; /lib/x86_64-linux-gnu/libiconv_hook.so ç³»ç»Ÿä¸Šæœ‰ libiconv_hook.soï¼Œè€Œä¸æ˜¯æ ‡å‡†çš„ libiconv.soã€‚ç”±äº libiconv_hook å¹¶æ²¡æœ‰æä¾› libiconv.so çš„æ ‡å‡†æ¥å£ï¼Œå¯¼è‡´äº†ç¼–è¯‘å’Œæµ‹è¯•æ—¶å‡ºç°é”™è¯¯ã€‚åˆ›å»ºç¬¦å·é“¾æ¥ï¼š 1sudo ln -s /lib/x86_64-linux-gnu/libiconv_hook.so.1 /lib/x86_64-linux-gnu/libiconv.so.2 è®©ç³»ç»Ÿä¸­çš„ libiconv_hook.so æ¨¡æ‹Ÿ libiconv.so.2ï¼ŒéªŒè¯ä¸€ä¸‹ï¼š 12345$ ldconfig -p | grep libiconv libiconv_hook.so.1 (libc6,x86-64) =&gt; /lib/x86_64-linux-gnu/libiconv_hook.so.1 libiconv_hook.so (libc6,x86-64) =&gt; /lib/x86_64-linux-gnu/libiconv_hook.so libiconv.so.2 (libc6,x86-64) =&gt; /usr/local/lib/libiconv.so.2 libiconv.so (libc6,x86-64) =&gt; /usr/local/lib/libiconv.so ç„¶åè¿›è¡Œmakeç¼–è¯‘æˆåŠŸï¼å†å¤ç°ä¸€éã€‚ ä½¿ç”¨çš„ç‰ˆæœ¬åŸºäº 2.46.2ï¼Œå¹¶ä¸”åœ¨æ­¤ç‰ˆæœ¬å‘å¸ƒåæœ‰ 628 æ¬¡æäº¤ã€‚ å½“å‰ç‰ˆæœ¬å¯¹åº”çš„å…·ä½“æäº¤å“ˆå¸Œæ˜¯ 6258f68c3cã€‚ï¼ˆå¤ç°å‰åé¢è¿˜æœ‰ä¸ª.dirtyè¡¨ç¤ºåœ¨å·¥ä½œç›®å½•ä¸­æœ‰æœªæäº¤çš„æ›´æ”¹ï¼‰ Git çš„ç‰ˆæœ¬ä¿¡æ¯ç”± git --version å‘½ä»¤ç”Ÿæˆï¼Œè¾“å‡ºgit versionï¼Œä¸‹é¢æˆ‘ä»¬è¿›è¡ŒæŸ¥æ‰¾ï¼š 1grep -r &quot;git version&quot; . æŠŠå¤§é‡è¾“å‡ºå–‚ç»™GPTå‘ç°ï¼š 123./help.c: * with external projects that rely on the output of &quot;git version&quot;../help.c: strbuf_addf(buf, &quot;git version %s\\n&quot;, git_version_string);./help.c: N_(&quot;git version [--build-options]&quot;), Here it is! åœ¨vscodeä¸­æŸ¥æ‰¾å¹¶ç¼–è¾‘help.cæ–‡ä»¶ï¼Œä¿®æ”¹è¾“å‡ºå³å¯ã€‚ 12strbuf_addf(buf, &quot;git version %s\\n&quot;, git_version_string);=&gt; strbuf_addf(buf, &quot;&lt;-- CNSS --&gt; git version %s I l0v3 Sh1v3r~\\n&quot;, git_version_string); é‡æ–°makeä¸€ä¸‹ï¼Œè¾“å‡ºæ—¶å‘ç°åé¢å¤šäº†ä¸€ä¸ªdirtyã€‚æ˜¯ä¿®æ”¹äº†help.cå´æ²¡æäº¤æ›´æ”¹çš„ç¼˜æ•…ã€‚ å¯ä»¥çœ‹åˆ°è¾“å‡º&lt;-- CNSS --&gt; git version 2.46.2.628.g6258f68c3c.dirty I l0v3 Sh1v3r~ âš’ï¸Dig and Dig ssgæ˜¯ä¸€åèµ„æ·±çš„Minecraftç©å®¶ï¼Œå¹³æ—¶æœ€å–œæ¬¢çš„å°±æ˜¯åœ¨MCçš„è¾½é˜”åœŸåœ°ä¸Šå¯»æ‰¾çè´µçš„çŸ¿çŸ³ã€‚ CH1ä»åŸç‰ˆåˆ°æ•´åˆåŒ…ï¼Œä»æˆ‘çš„ä¸–ç•Œåˆ°æ³°æ‹‰ç‘äºšï¼ŒssgæŒ–çŸ¿çš„è¶³è¿¹åˆ†å¸ƒåœ¨å„ä¸ªé¢†åŸŸã€‚ æœ‰ä¸€å¤©ï¼Œä»–çªç„¶å¥½å¥‡æƒ³æŒ–æŒ–çœ‹ Cè¯­è¨€ç¨‹åºï¼Œäºæ˜¯ä»–å†™ä¸‹äº†è¿™æ®µä»£ç ï¼š 123456789101112131415161718192021222324#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;int depth;void Dig (int digging) { if (digging &lt; 0) { return ; } int where_are_we; printf(&quot;In depth %d, we are at %p \\n&quot;, (depth - digging), (void *) &amp;where_are_we); Dig(digging - 1);}int main() { printf(&quot;Today we will dig: &quot;); scanf(&quot;%d&quot;, &amp;depth); printf(&quot;Let begin!\\n&quot;); Dig(depth);} ä»–å†³å®šå…ˆå‘ä¸‹é¢æŒ–æ˜ 10 ä¸ªå‡½æ•°çš„æ·±åº¦ï¼Œäºæ˜¯ä»–å°†depth å˜é‡è®¾ç½®ä¸ºäº† 10 å¹¶å¾—åˆ°äº†è¿™æ ·çš„ç»“æœï¼š Today we will dig: 10Let begin!In depth 0, we are at 0x7fffbc3fea14In depth 1, we are at 0x7fffbc3fe9e4In depth 2, we are at 0x7fffbc3fe9b4In depth 3, we are at 0x7fffbc3fe984In depth 4, we are at 0x7fffbc3fe954In depth 5, we are at 0x7fffbc3fe924In depth 6, we are at 0x7fffbc3fe8f4In depth 7, we are at 0x7fffbc3fe8c4In depth 8, we are at 0x7fffbc3fe894In depth 9, we are at 0x7fffbc3fe864In depth 10, we are at 0x7fffbc3fe834 çœ‹èµ·æ¥ä¸é”™ï¼Œäºæ˜¯ä»–å†³å®šç»§ç»­å‘ä¸‹æŒ–ï¼Œä½†ä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œå½“ depth è¶³å¤Ÿå¤§æ—¶ï¼Œç¨‹åºå°±ç»ˆæ­¢è¿ä½œäº†ï¼ å› æ­¤ ssg æ‰¾åˆ°ä½ ï¼Œæƒ³è¯·ä½ å¸®ä»–è§£å†³è¿™äº›é—®é¢˜ï¼š å°è¯•ä¿®æ”¹ç¨‹åºï¼Œä½¿ssgçš„è¿™ä¸ªç¨‹åºèƒ½ç»Ÿè®¡ä»– æ€»å…± èƒ½å¤Ÿå‘ä¸‹æŒ–æ˜å¤šå°‘ä¸ª Byteã€‚å¤šæ¬¡è¿è¡Œè¿™ä¸ªç¨‹åºï¼Œæ¯æ¬¡èƒ½å‘ä¸‹æŒ–çš„Byteæ˜¯å›ºå®šçš„å—ï¼Ÿ è¿è¡Œåˆå§‹ç¨‹åºçœ‹çœ‹depthçš„æœ€å¤§å€¼ï¼Œå‘ç°æ¯æ¬¡è¿è¡Œå¾—åˆ°çš„æœ€å¤§æ·±åº¦ç›¸è¿‘ä½†ä¸åŒã€‚æ¯”å¦‚ï¼š 123456789101112$ ./digToday we will dig: 1000000Let begin!...In depth 174513, we are at 0x7ffcccda07a4[1] 2146 segmentation fault ./dig# ----------------------------------- #In depth 174450, we are at 0x7ffda0d677a4[1] 2165 segmentation fault ./dig# ----------------------------------- #In depth 174576, we are at 0x7ffc72f5f7a4[1] 2688 segmentation fault ./dig ç¬¬ä¸€æ¬¡è¿è¡Œï¼Œç¨‹åºåœ¨174513å¤„å´©æºƒï¼Œè€Œç¬¬äºŒæ¬¡è¿è¡Œåœ¨174450å¤„å´©æºƒï¼Œæ“ä½œç³»ç»Ÿä¸ºè¿›ç¨‹åˆ†é…çš„æ ˆç©ºé—´æ¯æ¬¡å¯èƒ½ä¼šç•¥æœ‰ä¸åŒï¼Œå› æ­¤è¿™äº›æ·±åº¦å€¼å¹¶ä¸å®Œå…¨ä¸€è‡´ã€‚segmentation faultçš„æ®µé”™è¯¯å‘ç”Ÿåœ¨ç¨‹åºè¯•å›¾è®¿é—®æœªè¢«å…è®¸è®¿é—®çš„å†…å­˜åŒºåŸŸæ—¶ã€‚ [1] æ˜¯Linuxç³»ç»Ÿä¸ºæ¯ä¸ªåå°ä»»åŠ¡åˆ†é…çš„ä½œä¸šå·ï¼Œ1è¡¨ç¤ºè¿™æ˜¯å½“å‰ä¼šè¯çš„ç¬¬ä¸€ä¸ªåå°è¿›ç¨‹ã€‚ 2146å’Œ2165æ˜¯è¿›ç¨‹IDï¼Œæ˜¯ç³»ç»Ÿä¸ºæ¯ä¸ªè¿è¡Œç¨‹åºåˆ†é…çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚ è®°å½•ä¸€ä¸‹åˆå§‹åœ°å€ï¼Œç”¨where_are_weå‡åˆå§‹åœ°å€å¾—åˆ°æ‰€åœ¨æ·±åº¦ï¼š 123456789101112131415161718192021222324252627282930#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;int depth;void *initial_address = NULL;void Dig (int digging) { if (digging &lt; 0) { return ; } int where_are_we; if (initial_address == NULL) { initial_address = &amp;where_are_we; } int current_depth_bytes = abs((char *) initial_address - (char *) &amp;where_are_we); printf(&quot;In depth %d, we are at %p, depth in bytes: %d \\n&quot;, (depth - digging), (void *) &amp;where_are_we, current_depth_bytes); Dig(digging - 1);}int main() { printf(&quot;Today we will dig: &quot;); scanf(&quot;%d&quot;, &amp;depth); printf(&quot;Let begin!\\n&quot;); Dig(depth); return 0;} è¿è¡Œä¸€ä¸‹ç¨‹åºï¼š 1234567$ ./digToday we will dig: 100Let begin!In depth 0, we are at 0x7ffdd7afae10, depth in bytes: 0In depth 1, we are at 0x7ffdd7afade0, depth in bytes: 48...In depth 100, we are at 0x7ffdd7af9b50, depth in bytes: 4800 å‘ç°æ¯æ¬¡èƒ½å‘ä¸‹æŒ–çš„å­—èŠ‚æ•°æ˜¯å›ºå®šçš„48å­—èŠ‚ã€‚ å°è¯•è§£é‡Šä¸ºä»€ä¹ˆdepthè¶³å¤Ÿå¤§æ—¶ç¨‹åºä¼šåœæ­¢è¿è¡Œã€‚ é€’å½’æ·±åº¦è¿‡æ·±ï¼Œå‘ç”Ÿäº†æ ˆæº¢å‡ºã€‚å‡½æ•°çš„é€’å½’è°ƒç”¨ä¼šåœ¨æ ˆä¸Šåˆ†é…å†…å­˜ï¼Œè€Œæ ˆçš„å¤§å°æ˜¯æœ‰é™çš„ã€‚å½“é€’å½’æ·±åº¦è¶…å‡ºç³»ç»Ÿåˆ†é…ç»™ç¨‹åºçš„æ ˆå†…å­˜æ—¶ï¼Œç¨‹åºå°±ä¼šå‘ç”Ÿæ ˆæº¢å‡ºï¼Œä»è€Œå¯¼è‡´ç¨‹åºå´©æºƒã€‚ å°è¯•è§£é‡Šä¸ºä»€ä¹ˆæ¯æ¬¡å±‚æ•°çš„é—´éš”éƒ½ä¸º 48Byte, è¿™48Byteé‡Œé¢éƒ½åŒ…å«äº†äº›ä»€ä¹ˆï¼Ÿ å‡½æ•°è°ƒç”¨è¿‡ç¨‹ä¸­çš„æ ˆå¸§ç»“æ„ï¼Œè¯´æ˜è¿™ä¸ªå‡½æ•°ä¸­ä¸€ä¸ªæ ˆå¸§å¤§å°ä¸º48byteã€‚åŒ…å«ï¼šå‡½æ•°çš„è¿”å›åœ°å€ï¼Œå±€éƒ¨å˜é‡ï¼Œå‡½æ•°å‚æ•°ç­‰ã€‚ æ¯”å¦‚å°†å‡½æ•°å†…éƒ¨çš„å±€éƒ¨å˜é‡where_are_weç±»å‹æ”¹ä¸ºlongæ—¶ï¼Œå±‚æ•°é—´éš”ä¼šå˜ä¸º64byteã€‚ CH2ssgåœ¨æŒ–çŸ¿çš„æ—¶å€™æ˜¯å·¦å³æ‰‹äº¤æ›¿è¿›è¡Œçš„ï¼Œå› æ­¤ä»–æƒ³è®°å½•ä¸‹è‡ªå·±åœ¨æŒ–æ˜æ¯ä¸€å±‚æ—¶ä½¿ç”¨çš„æ˜¯å·¦æ‰‹è¿˜æ˜¯å³æ‰‹ï¼Œäºæ˜¯ä»–å†™ä¸‹äº†è¿™æ®µä»£ç ï¼š 123456789101112131415161718192021222324252627282930313233343536373839#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;stdbool.h&gt;int depth;char* WhichHand(bool hand) { return hand ? &quot;left hand&quot; : &quot;right hand&quot;;}bool Dig1 (int digging) { if( digging &lt; 0) { return 0; } bool now_hand = !Dig1(digging - 1); printf(&quot;In depth %d, we use %s \\n&quot;, (depth - digging), WhichHand(now_hand)); return now_hand;}bool Dig2 (int digging, bool hand) { if( digging &lt; 0) { return hand; } printf(&quot;In depth %d, we use %s \\n&quot;, (depth - digging), WhichHand(hand)); return Dig2(digging - 1, !hand);}int main() { printf(&quot;Today we will dig: &quot;); scanf(&quot;%d&quot;, &amp;depth); printf(&quot;Let begin!\\n&quot;); Dig1(depth); //Dig2(depth, 0);} Dig1å’ŒDig2æ˜¯ä»–ç¼–å†™çš„ä¸¤ä¸ªä¸åŒç‰ˆæœ¬ä½†æ˜¯æ•ˆæœç›¸ä¼¼çš„å‡½æ•°ï¼Œçœ‹èµ·æ¥è¿è¡Œçš„ä¸é”™ï¼š Today we will dig: 10Let begin!In depth 10, we use left handIn depth 9, we use right handIn depth 8, we use left handIn depth 7, we use right handIn depth 6, we use left handIn depth 5, we use right handIn depth 4, we use left handIn depth 3, we use right handIn depth 2, we use left handIn depth 1, we use right handIn depth 0, we use left hand ä½†ssgå‘ç°äº†ä¸€ä¸ªå¾ˆä¸¥é‡çš„é—®é¢˜ï¼Œå½“ä»–ä½¿ç”¨ O2 ä¼˜åŒ–(å³åœ¨gccç¼–è¯‘æ—¶æ·»åŠ -O2æŒ‡ä»¤)åˆ†åˆ«ç¼–è¯‘è¿è¡Œäº†ä¸¤ä¸ªä¸åŒç‰ˆæœ¬çš„å‡½æ•°åï¼Œæœ‰ä¸€ä¸ªç‰ˆæœ¬çš„å‡½æ•°ï¼Œæ— è®ºä»–å°†æ·±åº¦è®¾ç½®ä¸ºå¤šå¤§ï¼Œéƒ½å¯ä»¥æ­£å¸¸è¿è¡Œï¼ ä»–ç°åœ¨æƒ³è€ƒè€ƒä½ : å“ªä¸ªç‰ˆæœ¬çš„å‡½æ•°æ— è®ºè®¾ç½®å¤šå¤§çš„æ·±åº¦éƒ½å¯ä»¥æ­£å¸¸è¿è¡Œï¼Ÿ dig2å‡½æ•°ã€‚æˆ‘ä»¬æ¥è·‘ä¸€ä¸‹ï¼š 12345678910111213141516$ gcc -O2 -o dig1 dig1.c #O2ä¼˜åŒ–å¯ç”¨äº†åŒ…æ‹¬-Wunused-resultåœ¨å†…çš„è­¦å‘Šï¼Œæ£€æŸ¥scanfè¿”å›å€¼dig1.c: In function â€˜mainâ€™:dig1.c:34:5: warning: ignoring return value of â€˜scanfâ€™ declared with attribute â€˜warn_unused_resultâ€™ [-Wunused-result] 34 | scanf(&quot;%d&quot;, &amp;depth); |$ ./dig1Today we will dig: 1000000Let begin![1] 1727 segmentation fault ./dig# ----------------------------------- #$ ./dig2Today we will dig: 1000000Let begin!...In depth 999999, we use left handIn depth 1000000, we use right hand ä¸ºä»€ä¹ˆï¼Ÿ dig1å‡½æ•°ä»ç„¶æ˜¯ä½¿ç”¨äº†æ™®é€šé€’å½’çš„æ–¹å¼ï¼Œå³ä½¿å¼€O2ä¼˜åŒ–ç¼–è¯‘ï¼Œæ ˆç©ºé—´çš„é™åˆ¶ä¾ç„¶å­˜åœ¨ã€‚ è€Œdig2å‡½æ•°ä½¿ç”¨å°¾é€’å½’ï¼Œå¤§å¤šæ•°ç¼–è¯‘å™¨ï¼Œæ¯”å¦‚è¿™é‡Œçš„gccä¸­ï¼Œå¼€äº†O2å°¾é€’å½’å¯ä»¥è¢«ä¼˜åŒ–ä¸ºæ™®é€šå¾ªç¯å®ç°ï¼Œæ¯æ¬¡é€’å½’ä¸éœ€è¦é¢å¤–å ç”¨æ ˆå¸§ï¼Œåªéœ€å°†å‡½æ•°å‚æ•°æ”¹å˜å†è°ƒç”¨ä¸€æ¬¡ï¼Œå°±ä¸ä¼šè§¦å‘æ ˆæº¢å‡ºã€‚ è°ˆä¸€è°ˆè¿™é“é¢˜å¯¹ä½ åœ¨å®é™…é¡¹ç›®å¼€å‘ä¸­çš„å¯å‘ã€‚ ç”¨é€’å½’ï¼Œæ·±åº¦è¾ƒå¤§æ—¶ï¼Œè­¦æƒ•æ ˆæº¢å‡ºï¼› åˆç†ä½¿ç”¨å°¾é€’å½’ï¼› äº†è§£ç¼–è¯‘å™¨å’Œè¯­è¨€çš„ä¼˜åŒ–èƒ½åŠ›ï¼Œæœ‰åŠ©äºæé«˜ç¨‹åºçš„è¿è¡Œæ•ˆç‡ï¼› developersåº”å½“ç¼–å†™å¥å£®çš„ä»£ç ï¼Œåšå¥½ä»£ç æµ‹è¯•ï¼Œå…³æ³¨è¾¹ç•Œæ¡ä»¶ã€‚ ğŸ§®Primesé¦™è‚ éå¸¸ç—´è¿·äºç­›æ³•æ±‚ç´ æ•°è¡¨ï¼Œå¤§è‡´åŸç†å¦‚ä¸‹ äºæ˜¯ä»–å…ˆç”¨ JavaScript ç¼–å†™äº†ä¸‹é¢è¿™æ ·çš„ä»£ç  1234567891011121314151617function* iota(i, n) { while (i &lt; n) yield i++}function* filter(g, p) { for (x of g) { if (x % p) yield x }}g = iota(2, 100)while (true) { var {value, done} = g.next() if (done) break g = filter(g, value) console.log(value)} ç¨‹åºæˆåŠŸæ‰“å°äº† 100 ä»¥å†…çš„æ‰€æœ‰ç´ æ•°ã€‚ ä¸ºäº†è®©æ›´å¤šäººç†è§£è¿™æ®µä»£ç ï¼Œä»–åˆç¼–å†™äº† Python ç‰ˆæœ¬ 123456789101112131415161718def iota(i, n): while i &lt; n: yield i i += 1def filter(g, p): for x in g: if x % p: yield xg = iota(2, 100)try: while True: value = next(g) g = filter(g, value) print(value)except StopIteration: pass ç¨‹åºè™½ç„¶æ­£ç¡®ï¼Œä½† IDE ç»™å‡ºäº†è­¦å‘Šï¼šç”¨æˆ·å®šä¹‰çš„ filter å‡½æ•°éšè—äº† Python å†…ç½®çš„ filter å‡½æ•°ã€‚ è¯´æ¥ä¹Ÿæ˜¯ï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥ä½¿ç”¨æ›´æ³›åŒ–çš„å†…ç½® filter å‡½æ•°å‘¢ï¼Ÿäºæ˜¯ä»–åˆæŠŠç¨‹åºæ”¹æˆäº†è¿™æ ·ã€‚ 12345678910111213def iota(i, n): while i &lt; n: yield i i += 1g = iota(2, 100)try: while True: value = next(g) g = filter(lambda incoming: incoming % value, g) print(value)except StopIteration: pass å¾ˆé—æ†¾çš„æ˜¯ï¼Œç¨‹åºè¾“å‡ºçš„ç»“æœä¸å†æ­£ç¡®ã€‚åˆ°åº•æ˜¯å“ªé‡Œå‡ºäº†é—®é¢˜ï¼Ÿ åœ¨è°ƒè¯•çš„è¿‡ç¨‹ä¸­ï¼Œé¦™è‚ è§‰å¾—ä¸èƒ½å…‰è°ƒ Python ä»£ç ï¼ŒJavaScript çš„ä¹Ÿä¸èƒ½æ”¾è¿‡ã€‚ è€ƒè™‘åˆ° Python é‡‡ç”¨äº†æ›´æ³›åŒ– filter å‡½æ•°ï¼Œäºæ˜¯ä»–æŠŠåŸ JavaScript ä»£ç ä¹Ÿæ”¹æˆäº†è¿™æ ·ã€‚ 1234567891011121314151617function* iota(i, n) { while (i &lt; n) yield i++}function* filter(g, p) { for (x of g) { if (p(x)) yield x }}g = iota(2, 100)while (true) { var {value, done} = g.next() if (done) break g = filter(g, incoming =&gt; incoming % value) console.log(value)} ç«Ÿç„¶å‡ºç°äº†å’Œç¬¬äºŒä»½ Python ä»£ç ä¸€æ ·çš„é”™è¯¯è¾“å‡ºç»“æœã€‚è¿™æ˜¯å·§åˆå—ï¼Ÿ æœ¬é¢˜ç­›ç´ æ•°çš„åç¨‹å«ä»€ä¹ˆåç¨‹ï¼Ÿä½ èƒ½ç®€å•æè¿°ä¸€ä¸‹è¿™æ ·ç­›ç´ æ•°çš„è¿‡ç¨‹å—ï¼Ÿ åœ¨JavaScriptæˆ–Pythonä¸­ï¼Œåˆ©ç”¨æƒ°æ€§æ±‚å€¼çš„ç”Ÿæˆå™¨ï¼Œå¯ä»¥é€æ­¥ç”Ÿæˆä¸€ä¸ªåºåˆ—ï¼Œå¹¶èƒ½åœ¨ç­›é€‰è¿‡ç¨‹ä¸­åŠ¨æ€ä¿®æ”¹åºåˆ—ï¼Œé¿å…å ç”¨è¿‡å¤šè®¡ç®—èµ„æºã€‚ 1234567g = iota(2, 100)while (true) { var {value, done} = g.next() if (done) break g = filter(g, value) console.log(value)} æ ¸å¿ƒæ€æƒ³æ˜¯åŸƒæ‹‰æ‰˜æ–¯ç‰¹å°¼ç­›æ³•ï¼ˆSieve of Eratosthenesï¼‰ã€‚ç”Ÿæˆå™¨iotaç”Ÿæˆä¸€ä¸ªä»2åˆ°99çš„æ•´æ•°åºåˆ—gï¼Œæ¯æ¬¡è°ƒç”¨gä¸­çš„å€¼å¹¶é€šè¿‡ç”Ÿæˆå™¨filterç­›æ‰ç´ æ•°valueçš„å€æ•°ï¼Œè¾“å‡ºvalueï¼Œå†ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªæ•°è¿›è¡Œå¾ªç¯ã€‚ ä¸ºä»€ä¹ˆç¬¬äºŒä»½ Python å’Œç¬¬äºŒä»½ JavaScript çš„ä»£ç æœ‰é—®é¢˜ï¼Ÿä¸¤è€…çš„é—®é¢˜æ˜¯ä¸€æ ·çš„å—ï¼Ÿ è¯·ä½ åœ¨ç¬¬äºŒä»½ Python å’Œç¬¬äºŒä»½ JavaScript åŸºç¡€ä¸Šä¿®æ”¹ä»£ç ï¼Œåœ¨ä¸å¤±ä¸€èˆ¬æ€§çš„æƒ…å†µä¸‹è§£å†³å­˜åœ¨çš„é—®é¢˜ã€‚ ä¸¤è€…çš„é—®é¢˜ä¸ä¸€æ ·ã€‚ Pythonæ˜¯å’Œå…¶å»¶æ—¶ç»‘å®šçš„æœºåˆ¶æœ‰å…³ã€‚Pythonåœ¨çœŸæ­£æ‰§è¡Œå‡½æ•°ï¼ˆå¦‚lambdaï¼‰çš„æ—¶å€™æ‰ä¼šæŸ¥æ‰¾å˜é‡çš„å€¼ï¼Œè€Œä¸æ˜¯åœ¨å®šä¹‰å‡½æ•°æ—¶ã€‚ 1g = filter(lambda incoming: incoming % value, g) è€Œåœ¨åŒä¸€ä¸ªä½œç”¨åŸŸä¸‹ï¼Œvalueçš„å€¼å§‹ç»ˆé’ˆå¯¹åŒä¸€ä¸ªå˜é‡åœ¨å˜åŒ–ï¼Œè€Œä¸æ˜¯æ¯æ¬¡å¾ªç¯éƒ½åˆ›å»ºä¸€ä¸ªæ–°å˜é‡ã€‚å› æ­¤ï¼Œæ‰€æœ‰çš„lambdaä¸­å¼•ç”¨çš„valueéƒ½ä¼šä½¿ç”¨æœ€æ–°çš„å€¼ã€‚ å¯ä»¥é‡‡ç”¨é»˜è®¤å‚æ•°çš„æ–¹æ³•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ 12345678910111213def iota(i, n): while i &lt; n: yield i i += 1g = iota(2, 100)try: while True: value = next(g) g = filter(lambda incoming, value=value: incoming % value, g) print(value)except StopIteration: pass è¿™æ ·ï¼Œå‚æ•°åªä¼šåˆå§‹åŒ–ä¸€æ¬¡ï¼Œè€Œåœ¨ä¹‹åçš„å¾ªç¯ä¸­ä¿æŒä¸å˜ã€‚ æ‰‹åŠ¨å³æ—¶æ•è·ã€‚ 12345678910111213def iota(i, n): while i &lt; n: yield i i += 1g = iota(2, 100)try: while True: value = next(g) g = filter((lambda value: lambda incoming: incoming % value)(value), g) print(value)except StopIteration: pass è€ŒJavaScriptæ˜¯ä¸varçš„ä½œç”¨åŸŸè§„åˆ™æœ‰å…³ã€‚varåœ¨JavaScriptä¸­çš„ä½œç”¨åŸŸæ˜¯å‡½æ•°ä½œç”¨åŸŸï¼Œè€Œä¸æ˜¯å—ä½œç”¨åŸŸã€‚å¾ªç¯ä½“ä¸­æ¯æ¬¡å£°æ˜çš„valueå®é™…ä¸Šä¼šåœ¨æ•´ä¸ªå‡½æ•°çš„ä½œç”¨åŸŸä¸­å…±äº«ï¼Œlambdaå‡½æ•°æ•è·çš„æ˜¯å¯¹åŒä¸€ä¸ªå˜é‡çš„å¼•ç”¨ï¼Œæ‰€ä»¥valueä¼šåœ¨æ¯æ¬¡å¾ªç¯åæ›´æ–°ã€‚ å¯ä»¥ä½¿ç”¨ let ä»£æ›¿ varã€‚ 1234567891011121314151617function* iota(i, n) { while (i &lt; n) yield i++}function* filter(g, p) { for (x of g) { if (p(x)) yield x }}g = iota(2, 100)while (true) { let {value, done} = g.next() if (done) break g = filter(g, incoming =&gt; incoming % value) console.log(value)} å› ä¸º let æ˜¯å—ä½œç”¨åŸŸï¼Œåœ¨æ¯æ¬¡å¾ªç¯ä¸­ä¼šä¸º value ç»‘å®šä¸€ä¸ªæ–°çš„å˜é‡ï¼Œè¿™æ ·æ¯ä¸ª lambda å‡½æ•°éƒ½èƒ½æ•è·åˆ°å½“å‰å¾ªç¯ä¸­çš„ valueï¼Œè€Œä¸æ˜¯å…±äº«çš„å…¨å±€å˜é‡ã€‚ â­æ•°æ•° è®¡ç®—æœºå¾€å¾€ä¸å¤Ÿèªæ˜ï¼ˆæˆ–è€…å¤ªè¿‡èªæ˜ï¼‰ï¼Œä»¥è‡³äºä»–åªä¼šå®Œå…¨æŒ‰ç…§ä½ çš„æŒ‡ä»¤åŠäº‹ï¼Œå°½ç®¡æœ‰æ—¶å€™ä½ è‡ªå·±éƒ½ä¸çŸ¥é“è‡ªå·±çš„æŒ‡ä»¤æ˜¯ä»€ä¹ˆå«ä¹‰ CH1è¿™é“é¢˜ç›®å¹¶ä¸éš¾ï¼Œä½ è¦åšçš„åªæ˜¯è®©è®¡ç®—æœºå­¦ä¼šæ•°æ•°è€Œå·²ã€‚ æ¯”å¦‚ï¼š 123456789101112131415161718192021222324252627#include &lt;pthread.h&gt;#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;int work_load;void *worker(void *counter_ptr) { for(int i = 0; i &lt; work_load; i++) { (* (int *)counter_ptr) += 1; } return NULL;}int main() { printf(&quot;give the workload per thread: &quot;); scanf(&quot;%d&quot;, &amp;work_load); int counter; worker(&amp;counter); worker(&amp;counter); printf(&quot;Totally count: %d\\n&quot;, counter); return 0;} ååˆ†ç®€å•å¯¹å§ï¼Ÿä½†æ˜¯æŸ³è‹æ˜å´è®¤ä¸ºï¼Œè®©åŒä¸€ä¸ª workerå‡½æ•°è¿è¡Œä¸¤éæ•ˆç‡å¤ªä½äº†ã€‚ä¸ºä»€ä¹ˆä¸é›‡ä½£ä¸¤ä¸ª workerï¼Œ è®©ä»–ä»¬åŒæ—¶å·¥ä½œå‘¢ï¼Ÿæ¢å¥è¯è¯´ï¼Œä»–å†³å®šä½¿ç”¨ å¤šçº¿ç¨‹ï¼ äºæ˜¯ä»–ååˆ†å¥½å¿ƒçš„ç»™äº†ä½ ä¸¤ä»½ä»£ç ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364// V1#include &lt;pthread.h&gt;#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;int work_load;void *worker(void *counter_ptr) { for(int i = 0; i &lt; work_load; i++) { (* (int *)counter_ptr) += 1; } return NULL;}int main() { printf(&quot;give the workload per thread: &quot;); scanf(&quot;%d&quot;, &amp;work_load); pthread_t thread1, thread2; int counter1, counter2; pthread_create(&amp;thread1, NULL, worker, &amp;counter1); pthread_create(&amp;thread2, NULL, worker, &amp;counter2); pthread_join(thread1, NULL); pthread_join(thread2, NULL); printf(&quot;Totally count: %d\\n&quot;, counter1 + counter2); return 0;}//V2#include &lt;pthread.h&gt;#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;int work_load;void *worker(void *counter_ptr) { for(int i = 0; i &lt; work_load; i++) { (* (int *)counter_ptr) += 1; } return NULL;}int main() { printf(&quot;give the workload per thread: &quot;); scanf(&quot;%d&quot;, &amp;work_load); pthread_t thread1, thread2; int counter; pthread_create(&amp;thread1, NULL, worker, &amp;counter); pthread_create(&amp;thread2, NULL, worker, &amp;counter); pthread_join(thread1, NULL); pthread_join(thread2, NULL); printf(&quot;Totally count: %d\\n&quot;, counter); return 0;} ä½†é—®é¢˜å‡ºç°äº†ï¼Œå°½ç®¡ç¬¬ä¸€ä»½ä»£ç å¯ä»¥æ­£å¸¸è¿è¡Œï¼Œä½†ç¬¬äºŒä»½ä»£ç åœ¨ è¾“å…¥å€¼å¾ˆå¤§ æ—¶æ€»æ˜¯å‡ºç°å¥‡æ€ªçš„åå·®ã€‚ å°è¯•è¿è¡Œæµ‹è¯•è¿™ä¸¤æ®µä»£ç ï¼Œå›ç­”ï¼š ä¸ºä»€ä¹ˆä¸¤ä»½ç›¸ä¼¼çš„ä»£ç ä¼šæœ‰ä¸åŒçš„è¾“å‡ºç»“æœï¼Ÿ V1ä¸­æ¯ä¸ªçº¿ç¨‹ç‹¬ç«‹åœ°æ“ä½œå„è‡ªçš„counter1å’Œcounter2ï¼Œäº’ä¸å¹²æ‰°ï¼Œæœ€ç»ˆæŠŠä¸¤ä¸ªè®¡æ•°å™¨çš„ç»“æœåŠ å’Œå¾—åˆ°ç­”æ¡ˆã€‚ V2ä¸­é€šè¿‡å¤šçº¿ç¨‹å¹¶å‘åœ°å¯¹åŒä¸€å˜é‡counterè¿›è¡Œä¿®æ”¹ï¼Œè¿™ç§æ“ä½œå­˜åœ¨ç«äº‰æ¡ä»¶ã€‚æ„å‘³ç€ä¸¤ä¸ªçº¿ç¨‹å¯èƒ½åŒæ—¶è¯»å†™å…±äº«å˜é‡counterï¼Œå¯¼è‡´è®¡æ•°ä¸å‡†ç¡®ï¼Œå°¤å…¶æ˜¯åœ¨å·¥ä½œè´Ÿè·è¾ƒå¤§çš„æ—¶å€™ã€‚ åœ¨ç¼–å†™å¤šçº¿ç¨‹ä»£ç æ—¶ï¼Œå¦‚ä½•é¿å…è¿™ç§é”™è¯¯ï¼Ÿ å¼•å…¥åŒæ­¥æœºåˆ¶ï¼Œä½¿ç”¨äº’æ–¥é”æ¥ä¿è¯çº¿ç¨‹çš„ç‹¬ç«‹è®¿é—®ï¼Œç¡®ä¿åœ¨åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥æ“ä½œå˜é‡ï¼Œé¿å…ç«äº‰æ¡ä»¶ã€‚ å°è¯•åªä¿®æ”¹ worker å‡½æ•°æ¥ä½¿ç¬¬äºŒä»½ä»£ç è¾“å‡ºæ­£ç¡®ã€‚ 123456789101112131415161718192021222324252627282930313233343536//V2#include &lt;pthread.h&gt;#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;int work_load; pthread_mutex_t lock; //é”çš„å£°æ˜void *worker(void *counter_ptr) { for(int i = 0; i &lt; work_load; i++) { pthread_mutex_lock(&amp;lock); //ä¸Šé” (* (int *)counter_ptr) += 1; pthread_mutex_unlock(&amp;lock); //è§£é” } return NULL;}int main() { printf(&quot;give the workload per thread: &quot;); scanf(&quot;%d&quot;, &amp;work_load); pthread_t thread1, thread2; int counter; pthread_mutex_init(&amp;lock, NULL); //é”çš„åˆå§‹åŒ– pthread_create(&amp;thread1, NULL, worker, &amp;counter); pthread_create(&amp;thread2, NULL, worker, &amp;counter); pthread_join(thread1, NULL); pthread_join(thread2, NULL); pthread_mutex_destroy(&amp;lock); //é”€æ¯ printf(&quot;Totally count: %d\\n&quot;, counter); return 0;} è¿è¡Œä¸€ä¸‹ï¼Œå¯¹æ¯”æ›´æ”¹å‰åï¼š 1234567$ ./countgive the workload per thread: 1000000000Totally count: 1007291379#------------------------------------------#$ ./countgive the workload per thread: 1000000000Totally count: 2000000000 CH2äº†è§£â€äº’æ–¥é”â€è¿™ä¸ªæ¦‚å¿µï¼Œæ€è€ƒï¼š ä¸¤ä¸ªçº¿ç¨‹éƒ½åŒæ—¶è®¿é—®äº†åŒä¸€ä¸ªå˜é‡ï¼šäº’æ–¥é” å¯¹äºäº’æ–¥é”çš„è®¿é—®éš¾é“ä¸ä¼šäº§ç”Ÿæ•°æ®ç«äº‰å—ï¼Ÿ å›ç­”: ä¸ºä»€ä¹ˆè®¿é—®äº’æ–¥é”ä¸ä¼šäº§ç”Ÿæ•°æ®ç«äº‰ï¼Ÿ è¯·å°è¯•è‡ªå·±ç¼–å†™ä¸€ä¸ªäº’æ–¥é”(é¢å¤–åŠ åˆ†) ã€æ“ä½œç³»ç»Ÿã€‘é”çš„å®ç° å½“ä¸€ä¸ªçº¿ç¨‹è·å–äº’æ–¥é”æ—¶ï¼Œå…¶ä»–çº¿ç¨‹å°è¯•è·å–å¿…é¡»ç­‰å¾…ï¼Œç›´åˆ°å½“å‰çº¿ç¨‹é‡Šæ”¾é”ã€‚äº’æ–¥é”çš„å®ç°ç”±åº•å±‚ç¡¬ä»¶æˆ–æ“ä½œç³»ç»Ÿæ”¯æŒï¼Œé€šå¸¸é€šè¿‡æŸç§åŸå­æ“ä½œï¼Œå½“ä¸€ä¸ªçº¿ç¨‹è®¿é—®å…¶ä»–çº¿ç¨‹æŒæœ‰çš„é”æ—¶ï¼Œä¼šè¢« OS è°ƒåº¦ä¸ºé˜»å¡çŠ¶æ€ï¼ˆä¼‘çœ ï¼‰ï¼Œç›´åˆ°é”è¢«é‡Šæ”¾åï¼Œå†å”¤é†’ä¸€ä¸ªä¼‘çœ çš„çº¿ç¨‹ã€‚ ï¼ˆå¦å¤–ï¼Œè‡ªæ—‹é”æ˜¯ä¸€ç§å¿™ç­‰å¾…é”ã€‚å®ƒåœ¨é”è¢«å…¶ä»–çº¿ç¨‹æŒæœ‰æ—¶ä¸ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼Œè€Œæ˜¯ä¸æ–­åœ°å°è¯•è·å–é”ï¼Œç›´åˆ°é”å¯ç”¨ä¸ºæ­¢ã€‚è¿™ç§å¿™ç­‰å¾…çš„è¡Œä¸ºç§°ä¸ºâ€œè‡ªæ—‹â€ã€‚ï¼‰ ä½¿ç”¨äº†åŸå­æ“ä½œæ¥å®ç°äº’æ–¥é”çš„åŠ é”å’Œè§£é”é€»è¾‘ã€‚ 1234567891011121314151617typedef struct { atomic_int lock_flag;} my_mutex_t;void my_mutex_init(my_mutex_t *mutex) { atomic_store(&amp;mutex-&gt;lock_flag, 0);}void my_mutex_lock(my_mutex_t *mutex) { while (atomic_exchange(&amp;mutex-&gt;lock_flag, 1) == 1) { sched_yield() //æŒ‚èµ·ï¼Œè€Œéå¿™ç­‰å¾… } }void my_mutex_unlock(my_mutex_t *mutex) { atomic_store(&amp;mutex-&gt;lock_flag, 0);} å®Œæ•´ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556#include &lt;pthread.h&gt;#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;stdatomic.h&gt;#include &lt;sched.h&gt;typedef struct { atomic_int lock_flag;} my_mutex_t;void my_mutex_init(my_mutex_t *mutex) { atomic_store(&amp;mutex-&gt;lock_flag, 0);}void my_mutex_lock(my_mutex_t *mutex) { while (atomic_exchange(&amp;mutex-&gt;lock_flag, 1) == 1) { sched_yield(); }}void my_mutex_unlock(my_mutex_t *mutex) { atomic_store(&amp;mutex-&gt;lock_flag, 0);}int work_load;my_mutex_t my_mutex;void *worker(void *counter_ptr) { for (int i = 0; i &lt; work_load; i++) { my_mutex_lock(&amp;my_mutex); (*(int *)counter_ptr) += 1; my_mutex_unlock(&amp;my_mutex); } return NULL;}int main() { printf(&quot;give the workload per thread: &quot;); scanf(&quot;%d&quot;, &amp;work_load); pthread_t thread1, thread2; int counter = 0; my_mutex_init(&amp;my_mutex); pthread_create(&amp;thread1, NULL, worker, &amp;counter); pthread_create(&amp;thread2, NULL, worker, &amp;counter); pthread_join(thread1, NULL); pthread_join(thread2, NULL); printf(&quot;Totally count: %d\\n&quot;, counter); return 0;} ğŸ“ŸBitterCH112345678910111213141516171819202122232425262728293031323334353637383940414243#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#define BOARD_SIZE 8int upper_lim = 1;int count = 0;/** int row: store the valid bit after applying the vertical rule* int ld: store the valid bit after applying the left diagram rule* int rd: store the valid bit after applying the right diagram rule* bit '0' represent where we can place a chess*/void solve_problem(int row ,int ld, int rd) { if( row == upper_lim) { count += 1; return ; } /* 'current' represent all the valid bit*/ int current = upper_lim &amp; (~ (row | ld | rd)); int buffer = current; while(buffer) { int valid = buffer &amp; (-buffer); buffer -= valid; solve_problem(row|valid, (ld|valid)&lt;&lt;1, (rd|valid)&gt;&gt;1); /////////////////////////////////////// }}/* board_size shouldn't be too large */void find_n_th_queen(int board_size ) { upper_lim = (1 &lt;&lt; board_size) - 1; solve_problem(0, 0, 0);}int main() { find_n_th_queen(BOARD_SIZE); printf(&quot;Answer: %d&quot;, count);}// Answer: 92 CH2ç”¨ä½æ¥æ ‡è®°æ•°ç»„å…ƒç´ çš„çŠ¶æ€ã€‚ 1234567891011121314151617181920212223242526def solve(nums): n = len(nums) states = 1 &lt;&lt; n max_sum = 0 for state in range(states): valid = True curr_sum = 0 for i in range(n): if state &amp; (1 &lt;&lt; i): #choose ith element curr_sum += nums[i] if i &gt; 0 and (state &amp; (1 &lt;&lt; (i - 1))): #conflict valid = False break if valid: max_sum = max(max_sum, curr_sum) return max_sumnums = [1, 15, 3, 7, 12, 10, 19, 8, 5, 17, 2, 6, 11, 9, 4, 14, 13, 18, 16, 20]print(solve(nums))'''130[Done] exited with code=0 in 0.965 seconds''' åŠ¨æ€è§„åˆ’å¯ä»¥æ˜¾è‘—é™ä½æ—¶é—´ã€‚ åŠ å¯†ç®—æ³•ï¼šAESä¸­å­˜åœ¨è¡Œç§»ä½ï¼Œå“ˆå¸Œç®—æ³•ä¼šä½¿ç”¨ä½ç§»ã€å¼‚æˆ–æ“ä½œï¼Œæä¾›å®‰å…¨æ€§ å¿«é€Ÿè¿ç®—ï¼šä½ç§»æ“ä½œå¿«é€Ÿè®¡ç®—ï¼Œå¥‡å¶åˆ¤æ–­ï¼ŒèŠ‚çº¦æ—¶é—´ï¼Œbitsetç­›ç´ æ•°å¯èŠ‚çœç©ºé—´ æ–‡ä»¶æƒé™ï¼šä½¿ç”¨ä½è¿ç®—å¯ä»¥æ–¹ä¾¿åœ°å¼€å¯æˆ–å…³é—­æŸäº›æ ‡å¿—ä½ å¹¶è¡Œè®¡ç®—ï¼šä½è¿ç®—å¯ä»¥å¿«é€Ÿåœ°å¯ç”¨æˆ–ç¦ç”¨æŸä¸ªçº¿ç¨‹æˆ–è€…æ£€æŸ¥æŸä¸ªçº¿ç¨‹çš„çŠ¶æ€ ğŸ©é¡ºæ‰‹ç‰µç¾Šè¦æ±‚ï¼šä½¿ç”¨Cè¯­è¨€å®ç°ä¸€ä¸ªè‡ªå·±çš„æŠ“åŒ…è½¯ä»¶ ä½¿ç”¨libpcapåº“å®ç°æŠ“åŒ…ã€‚ ç¨‹åºåº”è¯¥å®ç°ï¼šåˆ¤æ–­å¹¶è¾“å‡ºæ¯ä¸ªåŒ…çš„ç±»å‹ï¼ŒåŒ…çš„é•¿åº¦ï¼Œä»¥åŠåŒ…çš„æºåœ°å€å’Œç›®çš„åœ°å€ã€‚ å¦‚æœä½ èƒ½å®ç°å¯¹äºTCPåŒ…çš„æ•è·ï¼Œå¯ä»¥è·å¾—70%çš„åˆ†æ•°ã€‚å¦‚æœä½ èƒ½å®ç°è‡³å°‘ä¸‰ç§åŒ…çš„åˆ†ææ•è·ï¼Œå¯ä»¥è·å¾—å‰©ä¸‹30%çš„åˆ†æ•°ã€‚ ç®€å•é˜è¿°ä¸‹ä½ å¯¹æŠ“åŒ…çš„å®ç°åŸç†çš„ç†è§£ï¼Œæœ€é«˜å¯å¾—é¢å¤–çš„20%åˆ†æ•°ã€‚ hintï¼šè¦ä¸ä¸‹è½½ä¸€ä¸ªwiresharkä½“éªŒä¸‹æŠ“åŒ…ï¼Ÿ é¢˜è§£ï¼š åœ¨Cè¯­è¨€ä¸­ä½¿ç”¨libpcapåº“æ¥è¿›è¡ŒæŠ“åŒ…æ“ä½œã€‚ å®‰è£…libpcapåº“ï¼› 1sudo apt install libpcap-dev å®ç°å¯¹TCPåŒ…çš„æ•è·ï¼› 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152#include &lt;pcap.h&gt;#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;arpa/inet.h&gt; //æä¾›äº†IPåœ°å€çš„è½¬æ¢å‡½æ•°#include &lt;netinet/ip.h&gt;#include &lt;netinet/tcp.h&gt; //å®šä¹‰äº†IPå’ŒTCPå¤´éƒ¨çš„ç»“æ„ä½“// å›è°ƒå‡½æ•°åœ¨æ¯æ¬¡æ•è·åˆ°æ•°æ®åŒ…æ—¶è¢«è°ƒç”¨void packet_handler(u_char *user_data, const struct pcap_pkthdr *pkthdr, const u_char *packet) { struct ip *ip_header = (struct ip *)(packet + 14); //è·³è¿‡ä»¥å¤ªç½‘å¸§å¤´(14)ã€è·å–ipå¤´ struct tcphdr *tcp_header = (struct tcphdr *)(packet + 14 + ip_header-&gt;ip_hl * 4); //è·å–TCPå¤´ printf(&quot;&lt;--------- New Packet Arrived! ---------&gt;\\n&quot;); printf(&quot;Total packet available: %d bytes\\n&quot;, pkthdr-&gt;len); printf(&quot;Expected packet size: %d bytes\\n&quot;, pkthdr-&gt;len); printf(&quot;IP header length (IHL) in bytes: %d\\n&quot;, ip_header-&gt;ip_hl * 4); printf(&quot;Source Address: %s\\n&quot;, inet_ntoa(ip_header-&gt;ip_src)); printf(&quot;Destination Address: %s\\n&quot;, inet_ntoa(ip_header-&gt;ip_dst)); printf(&quot;TCP header length in bytes: %d\\n&quot;, tcp_header-&gt;th_off * 4); printf(&quot;Size of all headers combined: %d bytes\\n&quot;, ip_header-&gt;ip_hl * 4 + tcp_header-&gt;th_off * 4); printf(&quot;Payload size: %d bytes\\n&quot;, pkthdr-&gt;len - (ip_header-&gt;ip_hl * 4 + tcp_header-&gt;th_off * 4)); printf(&quot;---------------------------------------\\n&quot;);} //ä¸‰ä¸ªå‚æ•°åˆ†åˆ«è¡¨ç¤ºï¼šç”¨æˆ·ä¼ é€’çš„æ•°æ®ã€æ•°æ®åŒ…å¤´éƒ¨ä¿¡æ¯ã€æŒ‡å‘å®é™…çš„æ•°æ®åŒ…å†…å®¹int main() { char errbuf[PCAP_ERRBUF_SIZE]; pcap_if_t *alldevs; pcap_if_t *device; pcap_t *handle; // è°ƒç”¨å‡½æ•°è·å–æ‰€æœ‰å¯ç”¨è®¾å¤‡åˆ—è¡¨ if (pcap_findalldevs(&amp;alldevs, errbuf) == -1) { fprintf(stderr, &quot;Error finding devices: %s\\n&quot;, errbuf); return 1; } // é€‰æ‹©ç¬¬ä¸€ä¸ªè®¾å¤‡ device = alldevs; printf(&quot;Using device: %s\\n&quot;, device-&gt;name); // æ‰“å¼€è®¾å¤‡ handle = pcap_open_live(device-&gt;name, BUFSIZ, 1, 1000, errbuf); pcap_loop(handle, 0, packet_handler, NULL); //æ•è·æ•°æ®åŒ…ï¼Œå›è°ƒ pcap_freealldevs(alldevs); pcap_close(handle); return 0;} ç¼–è¯‘è¿è¡Œä¸Šè¿°ä»£ç ï¼Œæ‰“å¼€firefoxï¼Œæ•è·åˆ°æ•°æ®åŒ…ï¼š 1234567891011121314$ gcc -o packet_sniffer packet_sniffer -lpcap$ sudo ./packet_snifferUsing device: loopback0&lt;--------- New Packet Arrived! ---------&gt;Total packet available: 1514 bytesExpected packet size: 1514 bytesIP header length (IHL) in bytes: 20Source Address: 127.0.0.1Destination Address: 127.0.0.1TCP header length in bytes: 32Size of all headers combined: 52 bytesPayload size: 1462 bytes---------------------------------------...... è¿™äº›æ•°æ®åŒ…æ˜¯åœ¨ WSL 2 å†…éƒ¨é€šè¿‡ loopback æ¥å£è¿›è¡Œçš„æœ¬åœ°é€šä¿¡ï¼Œæºå¤´å’Œç›®çš„åœ°éƒ½æ˜¯127.0.0.1ã€‚æŸ¥æ‰¾ç½‘ç»œæ¥å£ï¼š 12345678910$ ip addr...4: loopback0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP group default qlen 1000 link/ether 00:15:5d:78:40:b2 brd ff:ff:ff:ff:ff:ff5: eth2: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP group default qlen 1000 link/ether e0:2e:0b:08:09:53 brd ff:ff:ff:ff:ff:ff inet 192.168.0.144/24 brd 192.168.0.255 scope global noprefixroute eth2 valid_lft forever preferred_lft forever inet6 fe80::66a7:f661:86e5:c634/64 scope link nodad noprefixroute valid_lft forever preferred_lft forever å‘ç°eth2æ˜¯å½“å‰å”¯ä¸€çŠ¶æ€ä¸º UP ä¸”é…ç½®äº† IP åœ°å€çš„æ¥å£ï¼Œæ˜¯WSLä¸»è¦ç”¨äºä¸å¤–éƒ¨ç½‘ç»œé€šä¿¡çš„æ¥å£ã€‚ä¿®æ”¹ä»£ç ï¼š 1234567891011121314151617int main() { ... // æŸ¥æ‰¾åä¸º &quot;eth2&quot; çš„è®¾å¤‡ for (device = alldevs; device != NULL; device = device-&gt;next) { if (strcmp(device-&gt;name, &quot;eth2&quot;) == 0) { found = 1; break; } } if (!found) { printf(&quot;Device eth2 not found. Make sure you have the necessary permissions.\\n&quot;); pcap_freealldevs(alldevs); return 1; } ...} ç¼–è¯‘è¿è¡Œç»“æœå¦‚ä¸‹ï¼š 1234567891011&lt;--------- New Packet Arrived! ---------&gt;Total packet available: 66 bytesExpected packet size: 66 bytesIP header length (IHL) in bytes: 20Source Address: 192.168.0.144Destination Address: 34.107.243.93TCP header length in bytes: 32Size of all headers combined: 52 bytesPayload size: 14 bytes---------------------------------------... å®ç°å¯¹TCPã€UDPå’ŒICMPä¸‰ç§åŒ…çš„æ•è·ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105#include &lt;pcap.h&gt;#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;string.h&gt;#include &lt;arpa/inet.h&gt;#include &lt;netinet/ip.h&gt;#include &lt;netinet/tcp.h&gt;#include &lt;netinet/udp.h&gt;#include &lt;netinet/ip_icmp.h&gt;// å›è°ƒå‡½æ•°ï¼Œç”¨äºå¤„ç†æ•è·çš„æ•°æ®åŒ…void packet_handler(u_char *user_data, const struct pcap_pkthdr *pkthdr, const u_char *packet) { struct ip *ip_header = (struct ip *)(packet + 14); // è·³è¿‡ä»¥å¤ªç½‘å¤´éƒ¨ï¼ˆEthernet headerï¼‰ int ip_header_length = ip_header-&gt;ip_hl * 4; printf(&quot;&lt;--------- New Packet Arrived! ---------&gt;\\n&quot;); printf(&quot;Total packet available: %d bytes\\n&quot;, pkthdr-&gt;len); printf(&quot;Expected packet size: %d bytes\\n&quot;, pkthdr-&gt;len); printf(&quot;IP header length (IHL) in bytes: %d\\n&quot;, ip_header_length); printf(&quot;Source Address: %s\\n&quot;, inet_ntoa(ip_header-&gt;ip_src)); printf(&quot;Destination Address: %s\\n&quot;, inet_ntoa(ip_header-&gt;ip_dst)); // æ£€æŸ¥IPåŒ…çš„åè®®å­—æ®µä»¥ç¡®å®šå…¶ç±»å‹ switch (ip_header-&gt;ip_p) { case IPPROTO_TCP: { struct tcphdr *tcp_header = (struct tcphdr *)(packet + 14 + ip_header_length); int tcp_header_length = tcp_header-&gt;th_off * 4; printf(&quot;Protocol: TCP\\n&quot;); printf(&quot;TCP header length in bytes: %d\\n&quot;, tcp_header_length); printf(&quot;Size of all headers combined: %d bytes\\n&quot;, ip_header_length + tcp_header_length); printf(&quot;Payload size: %d bytes\\n&quot;, pkthdr-&gt;len - (ip_header_length + tcp_header_length)); break; } case IPPROTO_UDP: { struct udphdr *udp_header = (struct udphdr *)(packet + 14 + ip_header_length); int udp_header_length = 8; // UDP header å›ºå®šé•¿åº¦ä¸º 8 å­—èŠ‚ printf(&quot;Protocol: UDP\\n&quot;); printf(&quot;UDP header length in bytes: %d\\n&quot;, udp_header_length); printf(&quot;Size of all headers combined: %d bytes\\n&quot;, ip_header_length + udp_header_length); printf(&quot;Payload size: %d bytes\\n&quot;, ntohs(udp_header-&gt;len) - udp_header_length); break; } case IPPROTO_ICMP: { struct icmphdr *icmp_header = (struct icmphdr *)(packet + 14 + ip_header_length); int icmp_header_length = 8; // ICMP header é€šå¸¸ä¸º 8 å­—èŠ‚ printf(&quot;Protocol: ICMP\\n&quot;); printf(&quot;ICMP header length in bytes: %d\\n&quot;, icmp_header_length); printf(&quot;Size of all headers combined: %d bytes\\n&quot;, ip_header_length + icmp_header_length); printf(&quot;Payload size: %d bytes\\n&quot;, pkthdr-&gt;len - (ip_header_length + icmp_header_length)); break; } default: printf(&quot;Protocol: Other\\n&quot;); break; } printf(&quot;---------------------------------------\\n&quot;);}int main() { char errbuf[PCAP_ERRBUF_SIZE]; pcap_if_t *alldevs; pcap_if_t *device; pcap_t *handle; int found = 0; // ä½¿ç”¨ pcap_findalldevs æ¥è·å–æ‰€æœ‰å¯ç”¨è®¾å¤‡ if (pcap_findalldevs(&amp;alldevs, errbuf) == -1) { fprintf(stderr, &quot;Error finding devices: %s\\n&quot;, errbuf); return 1; } // æŸ¥æ‰¾åä¸º &quot;eth2&quot; çš„è®¾å¤‡ for (device = alldevs; device != NULL; device = device-&gt;next) { if (strcmp(device-&gt;name, &quot;eth2&quot;) == 0) { found = 1; break; } } if (!found) { printf(&quot;Device eth2 not found. Make sure you have the necessary permissions.\\n&quot;); pcap_freealldevs(alldevs); return 1; } printf(&quot;Using device: %s\\n&quot;, device-&gt;name); // æ‰“å¼€è®¾å¤‡ handle = pcap_open_live(device-&gt;name, BUFSIZ, 1, 1000, errbuf); if (handle == NULL) { printf(&quot;Could not open device %s: %s\\n&quot;, device-&gt;name, errbuf); pcap_freealldevs(alldevs); return 1; } // å¼€å§‹æ•è·æ•°æ®åŒ… pcap_loop(handle, 0, packet_handler, NULL); // é‡Šæ”¾è®¾å¤‡åˆ—è¡¨ pcap_freealldevs(alldevs); pcap_close(handle); return 0;} è¿è¡Œä»£ç æŠ“åŒ…ï¼š 123456789101112&lt;--------- New Packet Arrived! ---------&gt;Total packet available: 90 bytesExpected packet size: 90 bytesIP header length (IHL) in bytes: 20Source Address: 185.125.190.57Destination Address: 192.168.0.144Protocol: UDPUDP header length in bytes: 8Size of all headers combined: 28 bytesPayload size: 48 bytes---------------------------------------... é¦–å…ˆæ‰¾åˆ°å¯ç”¨çš„ç½‘ç»œæ¥å£ï¼Œç¡®ä¿æŠ“åŒ…å·¥å…·ç›‘å¬åˆ°æŒ‡å®šç½‘ç»œæ¥å£ä¸Šçš„æ‰€æœ‰æ•°æ®åŒ…ï¼›æ‰“å¼€ç½‘ç»œæ¥å£ï¼Œç½®äºæ··æ‚æ¨¡å¼ï¼ˆ1ï¼‰ï¼Œä»¥ä¾¿æ•è·æ‰€æœ‰ç»è¿‡è¯¥æ¥å£çš„æ•°æ®åŒ…ï¼›å¾ªç¯æ•è·åŒ…ï¼Œè°ƒç”¨å›è°ƒå‡½æ•°ï¼Œè§£æIPåŒ…å¤´çš„å­—æ®µï¼Œåˆ¤æ–­åŒ…æ‰€ä½¿ç”¨çš„ä¼ è¾“å±‚åè®®ç­‰ç­‰ã€‚ libpcapé€šè¿‡æ“ä½œç³»ç»Ÿçš„ç½‘ç»œé©±åŠ¨ä»é“¾è·¯å±‚æ•è·æ•°æ®åŒ…ï¼Œå°†å…¶æš‚å­˜åœ¨å†…æ ¸ç¼“å†²åŒºä¸­ï¼Œç„¶åå°†æ•°æ®åŒ…ä¼ é€’åˆ°ç”¨æˆ·ç©ºé—´ä¾›åº”ç”¨ç¨‹åºåˆ†æã€‚ å‚è€ƒå†…å®¹ï¼š Cè¯­è¨€å¦‚ä½•åšæŠ“åŒ… ğŸ‘¿businçš„é‡å¿ƒè¦æ±‚ï¼šè¯·ä½ å†™ä¸ªç¨‹åºï¼Œè‡ªåŠ¨æ£€æµ‹æ’è¡Œæ¦œçš„å˜åŒ–ã€‚å…·ä½“æœ‰å¦‚ä¸‹ä¸¤ä¸ªéœ€æ±‚ï¼š æ‹›æ–°ç½‘ç«™çš„æ’è¡Œæ¦œåŒ…å«10ä¸ªæ‹›æ–°ç›¸å…³æ–¹å‘ä»¥åŠä¸€ä¸ªæ€»åˆ†æ–¹å‘ã€‚å¦‚æœè¿™11ä¸ªç±»åˆ«ä¸­çš„ä»»æ„ä¸€ä¸ªæ’è¡Œçš„å‰ååå‘ç”Ÿäº†å˜åŒ–ï¼Œç¨‹åºå°±ä¼šæ‰“å°ï¼š1.æ–°çš„å‰ååæ’è¡Œ 2.å“ªä¸€ä¸ªäººæ‰å‡ºäº†å‰åå 3.å“ªä¸€ä¸ªäººè¿›å…¥äº†å‰ååã€‚ ç¨‹åºåº”è¯¥ç›‘æµ‹ç‰¹å®šçš„é¢˜ç›®ï¼ˆä½¿ç”¨åŠ¨æ€å®¹å™¨çš„é¢˜ç›®å¯ä»¥ä¸è¢«ç›‘æµ‹ï¼‰ã€‚å½“æœ‰äººé€šè¿‡äº†è¿™ä¸ªé¢˜ç›®åï¼Œç¨‹åºä¼šæŒ‰ç…§f&quot;passer: {user_name}, task: {task_name}, time: {passing_time}&quot;æ‰“å°å‡ºè¿™æ¡ä¿¡æ¯ã€‚ å°†ç¨‹åºéƒ¨ç½²åœ¨æœåŠ¡å™¨ä¸Šå®ç°24hè¿è¡Œï¼Œå¹¶èƒ½é€šè¿‡ç¤¾äº¤è½¯ä»¶/é‚®ç®±/å…¶ä»–èƒ½ä»ç§»åŠ¨è®¾å¤‡ä¸Šæ¥æ”¶åˆ°æ›´æ–°ä¿¡æ¯çš„æ–¹å¼ï¼Œå°†ä¿¡æ¯å‘é€åˆ°ä½ çš„ç§»åŠ¨è®¾å¤‡ä¸Šï¼Œå®ç°å¯è§†åŒ–çš„ç®¡ç†ç•Œé¢ã€‚ (ps:è¿™å¯èƒ½éœ€è¦ä¸€ç‚¹SAçš„çŸ¥è¯†ï¼‰ é¢˜è§£ï¼šé¦–å…ˆç¼–å†™ç¨‹åºrank.pyå®ç°æ‰“å°æ’åå˜åŒ–æƒ…å†µã€‚ åœ¨https://recruit.cnss.io/#/rankä¸Šï¼Œåˆ·æ–°é¡µé¢åœ¨æµè§ˆå™¨æ§åˆ¶å°ç½‘ç»œä¸­æ‰¾åˆ°äº†fullrankï¼Œå…¶é€šè¿‡XHRè·å–æ•°æ®ï¼Œè¯´æ˜æ’è¡Œæ¦œçš„æ•°æ®å¯èƒ½æ˜¯é€šè¿‡è¯¥è¯·æ±‚åŠ¨æ€åŠ è½½çš„ã€‚äºæ˜¯æˆ‘ä»¬æ¨¡æ‹Ÿæµè§ˆå™¨çš„è¯·æ±‚ï¼Œ**ç”±äºTokenåœ¨éšç€æ—¶é—´å˜åŒ–ï¼Œäºæ˜¯æ·»åŠ æ‰‹åŠ¨è¾“å…¥Tokençš„éƒ¨åˆ†ï¼š** 12345678910111213141516171819202122232425262728293031323334import requestsimport jsondef fetch(url, token): headers = { &quot;Accept&quot;: &quot;application/json, text/plain, */*&quot;, &quot;Accept-Encoding&quot;: &quot;gzip, deflate, br, zstd&quot;, &quot;Accept-Language&quot;: &quot;zh-CN,zh;q=0.9,en;q=0.8&quot;, &quot;Connection&quot;: &quot;keep-alive&quot;, &quot;Host&quot;: &quot;recruit.cnss.io:8443&quot;, &quot;Origin&quot;: &quot;https://recruit.cnss.io&quot;, &quot;Referer&quot;: &quot;https://recruit.cnss.io/&quot;, &quot;Sec-CH-UA&quot;: '&quot;Google Chrome&quot;;v=&quot;129&quot;, &quot;Not=A?Brand&quot;;v=&quot;8&quot;, &quot;Chromium&quot;;v=&quot;129&quot;', &quot;Sec-CH-UA-Mobile&quot;: &quot;?0&quot;, &quot;Sec-CH-UA-Platform&quot;: '&quot;Windows&quot;', &quot;Sec-Fetch-Dest&quot;: &quot;empty&quot;, &quot;Sec-Fetch-Mode&quot;: &quot;cors&quot;, &quot;Sec-Fetch-Site&quot;: &quot;same-site&quot;, &quot;User-Agent&quot;: &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/129.0.0.0 Safari/537.36&quot;, &quot;Token&quot;: token } try: response = requests.get(url, headers=headers) if response.status_code == 200: return response.json() else: print(f&quot;Failed to fetch rankings. HTTP Status Code: {response.status_code}&quot;) print(f&quot;Response content: {response.text}&quot;) return None except requests.exceptions.RequestException as e: print(f&quot;Error fetching rankings: {e}&quot;) return None ä¸»å‡½æ•°æµç¨‹ï¼Œè®°å½•old_rankings.jsonæ–‡ä»¶ï¼Œfetchå¾—åˆ°new_rankingsï¼Œå¯¹æ–°æ—§æ’è¡Œè¿›è¡Œæ¯”è¾ƒï¼Œæ‰“å°ä¿¡æ¯ï¼Œæ›´æ–°old_rankingsã€‚ 12345678910111213141516171819202122232425def main(): url = &quot;https://recruit.cnss.io:8443/v1/fullrank&quot; token = input(&quot;Please enter your access token: &quot;).strip() if not token: print(&quot;Your Token cannot be NULL.&quot;) return try: with open(&quot;old_rankings.json&quot;, &quot;r&quot;) as file: old_rankings = json.load(file) except FileNotFoundError: old_rankings = {} new_rankings = fetch(url, token) if new_rankings: changes = compare(old_rankings, new_rankings) print_changes(changes) with open(&quot;old_rankings.json&quot;, &quot;w&quot;, encoding='utf-8') as file: json.dump(new_rankings, file, ensure_ascii=False, indent=4)if __name__ == &quot;__main__&quot;: main() ä¸‹é¢æ˜¯compareå’Œprintå‡½æ•° 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849def compare(old_rankings, new_rankings): changes = {} for direction, new_top10 in new_rankings.items(): old_top10 = old_rankings.get(direction, []) old_top10_users = [item['Name'] for item in old_top10[:10] if 'Name' in item] new_top10_users = [item['Name'] for item in new_top10[:10] if 'Name' in item] entered = set(new_top10_users) - set(old_top10_users) dropped = set(old_top10_users) - set(new_top10_users) order_changed = old_top10_users != new_top10_users #judge if entered or dropped or order_changed: changes[direction] = { 'new_top10': [{'Name': item['Name'], 'Score': item['Score']} for item in new_top10[:10] if 'Name' in item], 'entered': list(entered), 'dropped': list(dropped), 'order_changed': order_changed } return changesdef print_changes(changes): if not changes: print(&quot;æ’åæœªå‘ç”Ÿå˜åŒ–ã€‚&quot;) return for direction, details in changes.items(): print(f&quot;\\næ–¹å‘: {direction}&quot;) print(&quot;æ–°çš„å‰ååæ’è¡Œ:&quot;) for rank, user in enumerate(details['new_top10'], start=1): print(f&quot; åæ¬¡ {rank}: {user['Name']} (å¾—åˆ†: {user['Score']})&quot;) if details['entered']: print(f&quot;è¿›å…¥å‰ååçš„äºº: {', '.join(details['entered'])}&quot;) else: print(&quot;æ²¡æœ‰æ–°è¿›å…¥å‰ååçš„äººã€‚&quot;) if details['dropped']: print(f&quot;æ‰å‡ºå‰ååçš„äºº: {', '.join(details['dropped'])}&quot;) else: print(&quot;æ²¡æœ‰æ‰å‡ºå‰ååçš„äººã€‚&quot;) if details['order_changed']: print(&quot;å‰ååå†…éƒ¨é¡ºåºå‘ç”Ÿäº†å˜åŒ–ã€‚&quot;) è¿è¡Œä¸€ä¸‹ï¼Œå¾—åˆ°è¾“å‡ºã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬ç¼–å†™task.pyç¨‹åºã€‚ä»¥ä¸€é“é¢˜ä¸ºä¾‹ï¼Œæˆ‘çš„æ€è·¯æ˜¯å…ˆåœ¨é¢˜ç›®tasksé‚£ä¸ªé¡µé¢ï¼Œæ•è·ç‰¹å®šé¢˜ç›®çš„pass_numberï¼Œå½“é€šè¿‡äººæ•°å‘ç”Ÿå˜åŒ–æ—¶ï¼Œéå†ç”¨æˆ·ï¼Œåœ¨passrecordå¯»æ‰¾è¯¥é¢˜çš„é€šè¿‡è€…ï¼Œå¼‚æ­¥åŒ–ä»£ç å®ç°å¦‚ä¸‹ Pythonå¼‚æ­¥ç½‘ç»œç¼–ç¨‹åˆ©å™¨â€”â€”è¯¦è§£aiohttpçš„ä½¿ç”¨æ•™ç¨‹ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879import aiohttpimport asyncioimport jsonfrom datetime import datetimeTASK_URL = &quot;https://recruit.cnss.io:8443/v1/tasks/534&quot;PASSRECORD_URL_TEMPLATE = &quot;https://recruit.cnss.io:8443/v1/passrecord/{}&quot;TARGET_TASK_TITLE = &quot;ğŸ‘¿businçš„é‡å¿ƒ&quot;USER_ID_RANGE = range(530, 535)SLEEP_INTERVAL = 6previous_pass_number = Noneuser_submissions = {}token = &quot;&quot;async def fetch_pass_number(session): headers = { &quot;Accept&quot;: &quot;application/json, text/plain, */*&quot;, &quot;Accept-Encoding&quot;: &quot;gzip, deflate, br, zstd&quot;, &quot;Accept-Language&quot;: &quot;zh-CN,zh;q=0.9,en;q=0.8&quot;, &quot;Connection&quot;: &quot;keep-alive&quot;, &quot;Host&quot;: &quot;recruit.cnss.io:8443&quot;, &quot;Origin&quot;: &quot;https://recruit.cnss.io&quot;, &quot;Referer&quot;: &quot;https://recruit.cnss.io/&quot;, &quot;Sec-CH-UA&quot;: '&quot;Google Chrome&quot;;v=&quot;129&quot;, &quot;Not=A?Brand&quot;;v=&quot;8&quot;, &quot;Chromium&quot;;v=&quot;129&quot;', &quot;Sec-CH-UA-Mobile&quot;: &quot;?0&quot;, &quot;Sec-CH-UA-Platform&quot;: '&quot;Windows&quot;', &quot;Sec-Fetch-Dest&quot;: &quot;empty&quot;, &quot;Sec-Fetch-Mode&quot;: &quot;cors&quot;, &quot;Sec-Fetch-Site&quot;: &quot;same-site&quot;, &quot;User-Agent&quot;: &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/129.0.0.0 Safari/537.36&quot;, &quot;Token&quot;: token } try: async with session.get(TASK_URL, headers=headers) as response: response.raise_for_status() data = await response.json() tasks = data.get('dev', []) for task in tasks: if task.get('title') == TARGET_TASK_TITLE: return task.get('pass_number') except aiohttp.ClientError as e: print(f&quot;è·å–ä»»åŠ¡æ•°æ®æ—¶å‘ç”Ÿå¼‚å¸¸: {e}&quot;) except Exception as e: print(f&quot;å¤„ç†ä»»åŠ¡æ•°æ®æ—¶å‘ç”Ÿå¼‚å¸¸: {e}&quot;) return Noneasync def fetch_user_submission(session, user_id): headers = { &quot;Accept&quot;: &quot;application/json, text/plain, */*&quot;, &quot;Accept-Encoding&quot;: &quot;gzip, deflate, br, zstd&quot;, &quot;Accept-Language&quot;: &quot;zh-CN,zh;q=0.9,en;q=0.8&quot;, &quot;Connection&quot;: &quot;keep-alive&quot;, &quot;Host&quot;: &quot;recruit.cnss.io:8443&quot;, &quot;Origin&quot;: &quot;https://recruit.cnss.io&quot;, &quot;Referer&quot;: &quot;https://recruit.cnss.io/&quot;, &quot;Sec-CH-UA&quot;: '&quot;Google Chrome&quot;;v=&quot;129&quot;, &quot;Not=A?Brand&quot;;v=&quot;8&quot;, &quot;Chromium&quot;;v=&quot;129&quot;', &quot;Sec-CH-UA-Mobile&quot;: &quot;?0&quot;, &quot;Sec-CH-UA-Platform&quot;: '&quot;Windows&quot;', &quot;Sec-Fetch-Dest&quot;: &quot;empty&quot;, &quot;Sec-Fetch-Mode&quot;: &quot;cors&quot;, &quot;Sec-Fetch-Site&quot;: &quot;same-site&quot;, &quot;User-Agent&quot;: &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/129.0.0.0 Safari/537.36&quot;, &quot;Token&quot;: token } url = PASSRECORD_URL_TEMPLATE.format(user_id) try: async with session.get(url, headers=headers) as response: response.raise_for_status() return await response.json() except aiohttp.ClientError as e: print(f&quot;è·å–ç”¨æˆ· {user_id} çš„æ•°æ®æ—¶å‡ºé”™: {e}&quot;) except Exception as e: print(f&quot;å¤„ç†ç”¨æˆ· {user_id} çš„æ•°æ®æ—¶å‡ºé”™: {e}&quot;) return None æ•´ä¸ªå‡½æ•°çš„é€»è¾‘æ˜¯è¿™æ ·çš„ï¼šé€šè¿‡fetchåˆå§‹åŒ–æ¯ä¸ªç”¨æˆ·ï¼ˆè¿™é‡Œæ˜¯530åˆ°535ï¼‰çš„æäº¤å†…å®¹ï¼Œè®°å½•ä¸‹æ¥ï¼Œç„¶åæ¯6ç§’å»ç›‘æµ‹ç‰¹å®šé¢˜ç›®çš„é€šè¿‡äººæ•°æœ‰æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œä¸€æ—¦å‘ç”Ÿå˜åŒ–ï¼Œè°ƒç”¨checkå‡½æ•°éå†æ¯”å¯¹ï¼Œæ‰“å°å‡ºä¿¡æ¯ã€‚ 12345678910111213141516171819async def main(): global token token = input(&quot;è¯·è¾“å…¥Token: &quot;).strip() if not token: print(&quot;Tokenä¸èƒ½ä¸ºç©ºã€‚&quot;) return user_ids = USER_ID_RANGE async with aiohttp.ClientSession() as session: await initialize_user_records(session, user_ids) while True: await monitor_pass_number(session, user_ids) await asyncio.sleep(SLEEP_INTERVAL)if __name__ == &quot;__main__&quot;: try: asyncio.run(main()) except KeyboardInterrupt: print(&quot;\\nç¨‹åºå·²æ‰‹åŠ¨ç»ˆæ­¢ã€‚&quot;) ä¸‹é¢æˆ‘ä»¬å®Œå–„éå†ç”¨æˆ·ï¼Œè¿›è¡Œåˆå§‹åŒ–ç”¨æˆ·çš„æäº¤å†…å®¹ï¼š 12345678910async def initialize_user_records(session, user_ids): global user_submissions tasks = [fetch_user_submission(session, user_id) for user_id in user_ids] submissions = await asyncio.gather(*tasks) for user_id, submission in zip(user_ids, submissions): if submission is not None: user_submissions[user_id] = submission print(f&quot;åˆå§‹è®°å½•å·²ä¿å­˜ç”¨æˆ· {user_id}ã€‚&quot;) else: print(f&quot;æœªèƒ½è·å–ç”¨æˆ· {user_id} çš„åˆå§‹è®°å½•ã€‚&quot;) æ¥ç€ç›‘æµ‹ç‰¹å®šé¢˜ç›®äººæ•°å¹¶åœ¨å˜åŒ–æ—¶éå†ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142async def monitor_pass_number(session, user_ids): global previous_pass_number current_pass_number = await fetch_pass_number(session) if current_pass_number is not None: if previous_pass_number is None: previous_pass_number = current_pass_number print(f&quot;åˆå§‹ pass_number: {current_pass_number}&quot;) elif current_pass_number &gt; previous_pass_number: print(f&quot;pass_number å¢åŠ äº†ï¼æ–°çš„ pass_number: {current_pass_number}&quot;) await check_user_submission_changes(session, user_ids) previous_pass_number = current_pass_number else: print(f&quot;å½“å‰ pass_number: {current_pass_number}&quot;) else: print(&quot;æ— æ³•è·å– pass_number&quot;)async def check_user_submission_changes(session, user_ids): global user_submissions tasks = [fetch_user_submission(session, user_id) for user_id in user_ids] submissions = await asyncio.gather(*tasks) for user_id, new_submission in zip(user_ids, submissions): if new_submission is None: continue previous_submission = user_submissions.get(user_id, []) new_tasks = {task['TaskID']: task for task in new_submission} old_tasks = {task['TaskID']: task for task in previous_submission} for task_id, new_task in new_tasks.items(): old_task = old_tasks.get(task_id) if not old_task or old_task.get('Score') != new_task.get('Score'): if new_task.get('TaskTitle') == TARGET_TASK_TITLE: user_name = f&quot;User {user_id}&quot; task_name = new_task.get('TaskTitle') passing_time = datetime.now().strftime(&quot;%Y-%m-%d %H:%M:%S&quot;) print(f&quot;passer: {user_name}, task: {task_name}, time: {passing_time}&quot;) user_submissions[user_id] = new_submission è¿è¡Œä¸Šè¿°ä»£ç ï¼Œå¾—åˆ°è¾“å‡ºç»“æœã€‚é€Ÿåº¦æœ‰æ˜æ˜¾æå‡ã€‚ ğŸ¤–GPT2ç›®æ ‡ï¼šä½ å¯èƒ½å·²ç»å‘ç°äº†ï¼Œä½ çš„ç¨‹åºå¯èƒ½å¹¶æ²¡æœ‰æˆ‘æ¼”ç¤ºçš„è·‘çš„é‚£ä¹ˆå¿«ï¼ˆç¥æœºè¯·å¿½ç•¥ï¼‰ã€‚ ä½ çš„ç›®æ ‡å°±æ˜¯ä¼˜åŒ–è¯¥ç¨‹åºçš„æ€§èƒ½ï¼Œåœ¨ä¿è¯ç»“æœä¸å˜çš„æƒ…å†µä¸‹æ›´å¿«çš„å®Œæˆæ–‡æœ¬çš„è¡¥å…¨ã€‚ æˆ‘ä¼šä½¿ç”¨ä¸€äº›æµ‹è¯•ç‚¹æ¥è¯„æµ‹ä½ çš„ç¨‹åºçš„æ­£ç¡®æ€§å’Œæ‰§è¡Œæ—¶é—´ã€‚æœŸå¾…æ›´é«˜çš„æ•ˆç‡å’Œæ›´å¤šæ ·çš„ä¼˜åŒ–æ–¹æ¡ˆã€‚ æ­¤å¤–ï¼Œè¯·åœ¨ wp ä¸­å›ç­”ä¸‹é¢çš„é—®é¢˜ï¼š ä»€ä¹ˆæ˜¯é˜¿å§†è¾¾å°”å®šå¾‹ï¼Ÿæ ¹æ®é˜¿å§†è¾¾å°”å®šå¾‹ï¼Œæˆ‘ä»¬åº”è¯¥æŠŠä¼˜åŒ–çš„é‡ç‚¹æ”¾åœ¨å“ªé‡Œï¼Ÿ ä½ çš„ä¼˜åŒ–æ–¹æ¡ˆå’Œæ€è·¯æ˜¯ä»€ä¹ˆï¼Ÿä¼˜åŒ–çš„æ•ˆæœå—åˆ°å“ªäº›å› ç´ å½±å“ï¼Ÿ é¢˜è§£ï¼šæŒ‰ç…§æŒ‡ç¤ºå®ŒæˆGPT2ï¼Œmakeè¿è¡Œä¸€ä¸‹ï¼Œå‘ç°éœ€è¦20å¤šç§’ã€‚ é˜¿å§†è¾¾å°”å®šå¾‹æ˜¯ä¸€ä¸ªç»éªŒæ³•åˆ™ï¼Œä»£è¡¨å¤„ç†å™¨å¹¶è¡Œè¿ç®—ä¹‹åæ•ˆç‡æå‡çš„èƒ½åŠ›ã€‚åœ¨å¹¶è¡Œè®¡ç®—ä¸­ï¼Œä½¿ç”¨å¤šä¸ªå¤„ç†å™¨çš„ç¨‹åºçš„åŠ é€Ÿæ¯”å—é™åˆ¶äºç¨‹åºä¸²è¡Œéƒ¨åˆ†çš„æ‰§è¡Œæ—¶é—´ã€‚$$s(n)=\\frac{1}{B+(1-B)/n}$$ $s(n):$ å›ºå®šè´Ÿè½½ä¸‹ï¼Œç†è®ºä¸Šçš„åŠ é€Ÿæ¯” $B:$ ä¸²è¡Œå·¥ä½œéƒ¨åˆ†æ‰€å æ¯”ä¾‹ï¼Œå–å€¼0~1 $n:$ å¹¶è¡Œçº¿ç¨‹æ•°ï¼Œå¹¶è¡Œå¤„ç†èŠ‚ç‚¹ä¸ªæ•° å¯ä»¥çœ‹å‡ºï¼Œå³ä½¿æˆ‘ä»¬å¢åŠ å¤„ç†å™¨æ•°é‡ï¼Œåªèƒ½å¯¹å¹¶è¡Œéƒ¨åˆ†äº§ç”Ÿå½±å“ï¼Œè€Œå¯¹éå¹¶è¡Œéƒ¨åˆ†æ²¡æœ‰ä»»ä½•å½±å“ã€‚å› æ­¤éšç€å¤„ç†å™¨æ•°é‡å¢åŠ ï¼Œæ•´ä½“æ€§èƒ½çš„æå‡ä¼šè¶‹äºå¹³ç¼“ã€‚ æ ¹æ®é˜¿å§†è¾¾å°”å®šå¾‹ï¼Œåº”è¯¥å°†ä¼˜åŒ–é‡ç‚¹æ”¾åœ¨æœ€å°åŒ–ä¸²è¡Œéƒ¨åˆ†ï¼ŒåŒæ—¶æœ€å¤§åŒ–å¯å¹¶è¡Œéƒ¨åˆ†ã€‚ æµè§ˆæºgpt.cä»£ç ä¸­æ³¨æ„åˆ°ï¼Œå­˜åœ¨çŸ©é˜µä¹˜æ³•ã€æ³¨æ„åŠ›æœºåˆ¶å’Œæ¶‰åŠå¤§é‡è®¡ç®—çš„å¾ªç¯ï¼Œå¯ä»¥è¿›è¡Œå¹¶è¡Œè®¡ç®—ï¼Œå°†ä»»åŠ¡åˆ†é…åˆ°å¤šä¸ªå¤„ç†å™¨ä¸Šï¼Œä½¿ç”¨OpenMPå¹¶è¡ŒåŒ–çŸ©é˜µä¹˜æ³•ã€å‰é¦ˆç¥ç»ç½‘ç»œå±‚ç­‰ã€‚ å…·ä½“æ“ä½œæ˜¯åœ¨matmul_forwardå’Œattention_forwardå‡½æ•°å¾ªç¯å‰æ·»åŠ ä»£ç ï¼š 12#include &lt;omp.h&gt;#pragma omp parallel for collapse(2) åŒæ—¶ï¼Œåœ¨MakeFileä¸­å¼€å¯ç¼–è¯‘é€‰é¡¹-fopenmpã€‚ 12345release: cc gpt.c -lm -O3 -fopenmp -Wno-unused-result -Wno-unused-value -Wno-unused-variable -o gptdebug: cc gpt.c -lm -O1 -g -fopenmp -Wno-unused-result -Wno-unused-value -Wno-unused-variable -o gpt å‰åå¯¹æ¯”ä¸€ä¸‹ åœ¨ä¿è¯ç»“æœä¸å˜çš„æƒ…å†µä¸‹æ›´å¿«çš„ï¼ˆ5~6ç§’)å®Œæˆäº†æ–‡æœ¬çš„è¡¥å…¨ã€‚ ä¼˜åŒ–æ•ˆæœå—å½±å“çš„å› ç´ ï¼š ä¸²è¡Œéƒ¨åˆ†ï¼šæ€»åŠ é€Ÿæ¯”ä¼šå—åˆ°åˆ¶çº¦ ç¡¬ä»¶èµ„æºï¼šå¯ç”¨å¤„ç†å™¨çš„æ•°é‡å’Œç¡¬ä»¶çš„æ€§èƒ½ ç¼–è¯‘å™¨çš„ä¼˜åŒ–ç¨‹åº¦ å¹¶è¡ŒåŒ–çš„å¼€é”€ã€‚","link":"/2024/12/04/%F0%9F%92%BBCNSS-Recruit-Dev-2024/"}],"tags":[{"name":"Linux","slug":"Linux","link":"/tags/Linux/"},{"name":"CTF","slug":"CTF","link":"/tags/CTF/"},{"name":"CNSS","slug":"CNSS","link":"/tags/CNSS/"}],"categories":[{"name":"DevOps","slug":"DevOps","link":"/categories/DevOps/"},{"name":"Crypto","slug":"Crypto","link":"/categories/Crypto/"}],"pages":[{"title":"","text":"ä¸€åæ™®æ™®é€šé€šçƒ­çˆ±ç”Ÿæ´»çš„è®¡ç®—æœºæœ¬ç§‘ç”Ÿã€‚","link":"/about/index.html"}]}